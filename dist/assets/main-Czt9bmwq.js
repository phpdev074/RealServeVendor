import{u as G,j as e,B as w,r as b,c as W,C as se,D as ht,a as pt,b as ge,d as gt,e as Le,f as me,g as S,S as Z,h as te,T as ye,W as Fe,i as Se,k as Q,P as X,l as bt,R as Gt,m as ve,n as fe,U as Ue,o as zt,p as Xe,q as _e,s as jt,H as Is,L as Os,t as Pe,v as _s,w as Ms,N as Ls,x as We,y as Kt,z as Fs,A as Us,E as Xt,F as $s,G as vt,I as Qt,J as Bs,K as xt,M as Zs,O as Hs,Q as Vs,V as Wt,X as Jt,Y as es,Z as ts,_ as ss,$ as Ie,a0 as qs,a1 as rs,a2 as Ys,a3 as L,a4 as yt,a5 as he,a6 as as,a7 as ft,a8 as I,a9 as Oe,aa as $e,ab as Gs,ac as pe,ad as zs,ae as Ks,af as Ge,ag as Xs,ah as Qs,ai as ot,aj as ie,ak as ce,al as oe,am as de,an as R,ao as Ws,ap as Js,aq as er,ar as tr,as as sr,at as rr,au as ke,av as Ce,aw as be,ax as ar,ay as ls,az as ns,aA as Je,aB as et,aC as M,aD as $,aE as Ze,aF as J,aG as re,aH as is,aI as Me,aJ as tt,aK as st,aL as lr,aM as He,aN as ue,aO as we,aP as Ct,aQ as cs,aR as nr,aS as ir,aT as cr,aU as or,aV as dr,aW as Qe,aX as Ee,aY as rt,aZ as mr,a_ as xr,a$ as ur,b0 as hr,b1 as pr,b2 as gr,b3 as br,b4 as jr,b5 as vr,b6 as yr,b7 as fr,b8 as Be,b9 as Nr,ba as De,bb as wr,bc as Et,bd as Tt,be as Ar,bf as Sr,bg as Rt,bh as kr,bi as os,bj as V,bk as Dt,bl as Cr,bm as Er,bn as Tr,bo as Rr}from"./index-B5WXs-CC.js";function Pt(){const t=G(),l=()=>{t("/vendor")},a=()=>{t("/admin")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-neutral-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"RS"})}),e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"RealServ Portal Demo"}),e.jsx("p",{className:"text-neutral-600",children:"Select a portal to explore • Mock data auto-loaded"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6 hover:shadow-md transition-all hover:border-primary-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-1",children:"Vendor Portal"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:"Desktop portal for vendors to manage orders, catalog, payouts, and performance"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 mb-4",children:[e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Demo: Sri Sai Suppliers"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Material Supplier"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Kukatpally"})]}),e.jsx(w,{onClick:l,className:"w-full",size:"lg",children:"Launch Vendor Portal Demo"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6 hover:shadow-md transition-all hover:border-error-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-error-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-error-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-1",children:"Admin Portal"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:"Operations control center for RealServ team to manage marketplace operations"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 mb-4",children:[e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Demo: Super Admin"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Full Access"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"All Permissions"})]}),e.jsx(w,{onClick:a,className:"w-full bg-error-600 hover:bg-error-700",size:"lg",children:"Launch Admin Portal Demo"})]})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:"text-xs text-neutral-500",children:"RealServ MVP • Hyperlocal Construction Materials Marketplace • Hyderabad"})})]})})}const je={id:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",businessName:"Kumar Cement Suppliers",ownerName:"Rajesh Kumar",phone:"+919876543210",email:"rajesh.kumar@example.com",businessLocation:"Miyapur",serviceAreas:["Miyapur","Kukatpally","KPHB"],isAvailable:!0,kycStatus:"verified",kycDocuments:[{type:"aadhaar",number:"XXXX XXXX 4567",verified:!0,verifiedAt:"2025-11-15T10:30:00Z",verifiedBy:"ops_user_001"},{type:"pan",number:"XXXXX1234X",verified:!0,verifiedAt:"2025-11-15T10:30:00Z",verifiedBy:"ops_user_001"}],bankDetails:{accountHolderName:"Rajesh Kumar",accountNumber:"XXXXXX1234",ifscCode:"HDFC0001234",bankName:"HDFC Bank",verified:!0,verifiedAt:"2025-11-16T14:20:00Z"},createdAt:"2025-11-15T09:00:00Z",lastActiveAt:"2026-01-08T08:45:00Z",onboardingCompletedAt:"2025-11-20T16:00:00Z"},Dr={id:"vendor_02HQKZX8Y9Z1A2B3C4D5E6F7G9",businessName:"Sharma Building Materials",ownerName:"Amit Sharma",phone:"+919123456789",email:"amit.sharma@example.com",businessLocation:"Gachibowli",serviceAreas:["Gachibowli","Madhapur"],isAvailable:!1,kycStatus:"verified",kycDocuments:[{type:"aadhaar",number:"XXXX XXXX 8901",verified:!0,verifiedAt:"2025-12-01T11:00:00Z",verifiedBy:"ops_user_002"}],bankDetails:{accountHolderName:"Amit Sharma",accountNumber:"XXXXXX5678",ifscCode:"ICIC0001234",bankName:"ICICI Bank",verified:!0,verifiedAt:"2025-12-02T10:30:00Z"},createdAt:"2025-12-01T10:00:00Z",lastActiveAt:"2026-01-07T15:20:00Z",onboardingCompletedAt:"2025-12-05T17:30:00Z"},ds={id:"vendor_03HQKZX8Y9Z1A2B3C4D5E6F7H0",businessName:"RK Steel & Hardware",ownerName:"Rajesh Kumar",phone:"+919876543210",email:"rajesh.kumar@example.com",businessLocation:"Bachupally",serviceAreas:["Bachupally","Nizampet","Pragathi Nagar"],isAvailable:!0,kycStatus:"verified",kycDocuments:[{type:"aadhaar",number:"XXXX XXXX 4567",verified:!0,verifiedAt:"2025-11-15T10:30:00Z",verifiedBy:"ops_user_001"},{type:"pan",number:"XXXXX1234X",verified:!0,verifiedAt:"2025-11-15T10:30:00Z",verifiedBy:"ops_user_001"}],bankDetails:{accountHolderName:"Rajesh Kumar",accountNumber:"XXXXXX9876",ifscCode:"SBIN0001234",bankName:"State Bank of India",verified:!0,verifiedAt:"2025-11-22T09:15:00Z"},createdAt:"2025-11-22T08:00:00Z",lastActiveAt:"2026-01-08T09:30:00Z",onboardingCompletedAt:"2025-11-25T14:00:00Z"},ms={id:"user_01HQKZX8Y9Z1A2B3C4D5E6F7G8",name:"Rajesh Kumar",phone:"+919876543210",email:"rajesh.kumar@example.com",vendorIds:["vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8","vendor_03HQKZX8Y9Z1A2B3C4D5E6F7H0"],createdAt:"2025-11-15T09:00:00Z",lastLoginAt:"2026-01-08T08:45:00Z"},Pr=t=>t===ms.id?[je,ds]:[],Ir=t=>[je,Dr,ds].find(a=>a.id===t)||null,xs=b.createContext(void 0);function Or({children:t}){const[l,a]=b.useState(null),[c,s]=b.useState(null),[r,d]=b.useState([]),[j,n]=b.useState(!0);b.useEffect(()=>{(()=>{try{const N=ms,C=Pr(N.id),v=C[0]||je;a(N),d(C),s(v)}catch(N){console.error("Mock data initialization error:",N)}finally{n(!1)}})()},[]);const p={user:l,vendor:c,availableVendors:r,isLoading:j,isAuthenticated:!!l&&!!c,login:async(h,N)=>({success:!0}),logout:()=>{window.location.href="/vendor/login"},switchVendor:h=>{const N=Ir(h);N&&l&&s(N)},toggleAvailability:()=>{if(c){const h={...c,isAvailable:!c.isAvailable};s(h),d(N=>N.map(C=>C.id===c.id?h:C))}},updateServiceAreas:h=>{if(c){const N={...c,serviceAreas:h};s(N),d(C=>C.map(v=>v.id===c.id?N:v))}}};return e.jsx(xs.Provider,{value:p,children:t})}function Te(){const t=b.useContext(xs);if(t===void 0)throw new Error("useVendorAuth must be used within a VendorAuthProvider");return t}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],It=W("arrow-right",_r);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ot=W("book-open",Mr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Fr=W("box",Lr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$r=W("camera",Ur);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],_t=W("check-check",Br);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lt=W("circle-help",Zr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],us=W("circle",Hr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],qr=W("list",Vr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],at=W("loader",Yr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],xe=W("message-circle",Gr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Kr=W("pen-line",zr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],ut=W("power",Xr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Mt=W("receipt",Qr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Jr=W("share-2",Wr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ta=W("square-x",ea);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],ra=W("thumbs-up",sa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],la=W("ticket",aa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ia=W("video",na);function ca({children:t}){const{isLoading:l}=Te();return l?e.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(at,{className:"w-8 h-8 text-primary-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Loading..."})]})}):e.jsx(e.Fragment,{children:t})}var D=(t=>(t.ORDER_REQUEST="ORDER_REQUEST",t.ORDER_ACCEPTED="ORDER_ACCEPTED",t.ORDER_REJECTED="ORDER_REJECTED",t.ORDER_CANCELLED="ORDER_CANCELLED",t.ORDER_READY="ORDER_READY",t.ORDER_COMPLETED="ORDER_COMPLETED",t.PAYMENT_PROCESSED="PAYMENT_PROCESSED",t.PAYMENT_SETTLED="PAYMENT_SETTLED",t.SYSTEM_ALERT="SYSTEM_ALERT",t.PERFORMANCE_ALERT="PERFORMANCE_ALERT",t.PROFILE_UPDATE="PROFILE_UPDATE",t))(D||{}),q=(t=>(t.HIGH="HIGH",t.MEDIUM="MEDIUM",t.LOW="LOW",t))(q||{});const oa=[{id:"notif_001",type:D.ORDER_REQUEST,priority:q.HIGH,title:"New Order Request",message:"ORD-1251: 15 bags of UltraTech Cement 50kg - ₹4,860 payout. Respond within 15 minutes.",orderId:"order_req_01",orderNumber:"ORD-1251",amount:4860,metadata:{offerExpiresAt:new Date(Date.now()+840*1e3).toISOString()},isRead:!1,isArchived:!1,ctaLabel:"View Order",ctaLink:"/vendor/orders/order_req_01",createdAt:new Date(Date.now()-60*1e3).toISOString()},{id:"notif_002",type:D.ORDER_REQUEST,priority:q.HIGH,title:"New Order Request",message:"ORD-1250: 3 trolleys of M-Sand - ₹3,240 payout. Respond within 15 minutes.",orderId:"order_req_02",orderNumber:"ORD-1250",amount:3240,metadata:{offerExpiresAt:new Date(Date.now()+600*1e3).toISOString()},isRead:!1,isArchived:!1,ctaLabel:"View Order",ctaLink:"/vendor/orders/order_req_02",createdAt:new Date(Date.now()-300*1e3).toISOString()},{id:"notif_003",type:D.ORDER_REQUEST,priority:q.HIGH,title:"New Order Request",message:"ORD-1249: 5 trolleys of 20mm Aggregate - ₹4,950 payout. Respond within 15 minutes.",orderId:"order_req_03",orderNumber:"ORD-1249",amount:4950,metadata:{offerExpiresAt:new Date(Date.now()+780*1e3).toISOString()},isRead:!1,isArchived:!1,ctaLabel:"View Order",ctaLink:"/vendor/orders/order_req_03",createdAt:new Date(Date.now()-120*1e3).toISOString()},{id:"notif_004",type:D.PAYMENT_PROCESSED,priority:q.MEDIUM,title:"Payment Processing",message:"Settlement ST-2026-002 for ₹2,556 is being processed. Expected in 2-3 business days.",settlementId:"ST-2026-002",amount:2556,isRead:!1,isArchived:!1,ctaLabel:"View Payouts",ctaLink:"/vendor/payouts",createdAt:"2026-01-08T08:00:00Z"},{id:"notif_005",type:D.ORDER_COMPLETED,priority:q.LOW,title:"Order Completed",message:"ORD-1246 marked as complete. Settlement will be processed within 7 days.",orderId:"order_03HQKZX8Y9Z1A2B3C4D5E6F7H0",orderNumber:"ORD-1246",amount:2556,isRead:!0,isArchived:!1,ctaLabel:"View Order",ctaLink:"/vendor/orders/order_03HQKZX8Y9Z1A2B3C4D5E6F7H0",createdAt:"2026-01-07T14:45:00Z",readAt:"2026-01-07T15:00:00Z"},{id:"notif_006",type:D.PAYMENT_SETTLED,priority:q.MEDIUM,title:"Payment Settled",message:"Settlement ST-2026-001 for ₹1,620 has been credited to your account.",settlementId:"ST-2026-001",amount:1620,isRead:!0,isArchived:!1,ctaLabel:"View Payouts",ctaLink:"/vendor/payouts",createdAt:"2026-01-03T18:00:00Z",readAt:"2026-01-03T18:30:00Z"},{id:"notif_007",type:D.ORDER_ACCEPTED,priority:q.LOW,title:"Order Accepted",message:"You accepted ORD-1248 for 10 bags of UltraTech Cement 50kg. Prepare for delivery by 14:00.",orderId:"order_01HQKZX8Y9Z1A2B3C4D5E6F7G8",orderNumber:"ORD-1248",amount:3240,isRead:!0,isArchived:!1,ctaLabel:"View Order",ctaLink:"/vendor/orders/order_01HQKZX8Y9Z1A2B3C4D5E6F7G8",createdAt:"2026-01-08T07:32:00Z",readAt:"2026-01-08T07:35:00Z"},{id:"notif_008",type:D.SYSTEM_ALERT,priority:q.LOW,title:"New Feature: In-App Notifications",message:"You can now view all your notifications right here in the portal. No more relying on WhatsApp!",isRead:!0,isArchived:!1,createdAt:"2026-01-08T00:00:00Z",readAt:"2026-01-08T07:00:00Z"},{id:"notif_009",type:D.ORDER_READY,priority:q.MEDIUM,title:"Order Ready",message:"ORD-1247 marked as ready. Buyer has been notified for pickup.",orderId:"order_02HQKZX8Y9Z1A2B3C4D5E6F7G9",orderNumber:"ORD-1247",isRead:!0,isArchived:!1,ctaLabel:"View Order",ctaLink:"/vendor/orders/order_02HQKZX8Y9Z1A2B3C4D5E6F7G9",createdAt:"2026-01-08T09:45:00Z",readAt:"2026-01-08T09:50:00Z"},{id:"notif_010",type:D.PERFORMANCE_ALERT,priority:q.MEDIUM,title:"Maintain Your Response Time",message:"Your average response time is 4.5 minutes. Keep it under 5 minutes to maintain premium status!",isRead:!0,isArchived:!1,ctaLabel:"View Performance",ctaLink:"/vendor/performance",createdAt:"2026-01-07T08:00:00Z",readAt:"2026-01-07T09:00:00Z"},{id:"notif_011",type:D.ORDER_CANCELLED,priority:q.MEDIUM,title:"Order Cancelled by Buyer",message:"ORD-1243 has been cancelled by the buyer. No action needed.",orderNumber:"ORD-1243",isRead:!0,isArchived:!1,createdAt:"2026-01-06T16:30:00Z",readAt:"2026-01-06T17:00:00Z"}],hs=b.createContext(void 0);function da({children:t}){const[l,a]=b.useState(oa),c=b.useMemo(()=>{const x=new Date;return l.filter(p=>{var h;return p.type===D.ORDER_REQUEST&&((h=p.metadata)!=null&&h.offerExpiresAt)?new Date(p.metadata.offerExpiresAt)>x:!0})},[l]),s=b.useMemo(()=>{const x=c.filter(N=>!N.isRead).length,p=c.reduce((N,C)=>(N[C.type]=(N[C.type]||0)+1,N),{}),h=c.reduce((N,C)=>(N[C.priority]=(N[C.priority]||0)+1,N),{});return{total:c.length,unread:x,byType:p,byPriority:h}},[c]),r=b.useMemo(()=>c.filter(x=>!x.isRead&&!x.isArchived).length,[c]),u={notifications:c,unreadCount:r,stats:s,markAsRead:x=>{a(p=>p.map(h=>h.id===x?{...h,isRead:!0,readAt:new Date().toISOString()}:h))},markAsUnread:x=>{a(p=>p.map(h=>h.id===x?{...h,isRead:!1,readAt:void 0}:h))},markAllAsRead:()=>{const x=new Date().toISOString();a(p=>p.map(h=>h.isRead?h:{...h,isRead:!0,readAt:x}))},archiveNotification:x=>{a(p=>p.map(h=>h.id===x?{...h,isArchived:!0}:h))},getNotificationById:x=>l.find(p=>p.id===x),addNotification:x=>{const p={...x,id:`notif_${Date.now()}`,createdAt:new Date().toISOString(),isRead:!1,isArchived:!1};a(h=>[p,...h])}};return e.jsx(hs.Provider,{value:u,children:t})}function nt(){const t=b.useContext(hs);if(t===void 0)throw new Error("useVendorNotifications must be used within a VendorNotificationsProvider");return t}function it({expiresAt:t,className:l=""}){const[a,c]=b.useState(0),[s,r]=b.useState(!1);b.useEffect(()=>{const o=()=>{const x=new Date().getTime(),h=new Date(t).getTime()-x;if(h<=0){r(!0),c(0);return}c(h),r(!1)};o();const u=setInterval(o,1e3);return()=>clearInterval(u)},[t]);const d=o=>{const u=Math.floor(o/1e3),x=Math.floor(u/60),p=u%60;return`${x}:${p.toString().padStart(2,"0")}`},n=(()=>{const o=Math.floor(a/6e4);return o<=5?"critical":o<=10?"warning":"normal"})(),m={critical:{bg:"bg-error-50",border:"border-error-300",text:"text-error-700",icon:"text-error-600"},warning:{bg:"bg-warning-50",border:"border-warning-300",text:"text-warning-700",icon:"text-warning-600"},normal:{bg:"bg-success-50",border:"border-success-300",text:"text-success-700",icon:"text-success-600"}}[n];return s?e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-neutral-100 border border-neutral-300 ${l}`,children:[e.jsx(se,{className:"w-3.5 h-3.5 text-neutral-500"}),e.jsx("span",{className:"text-xs font-semibold text-neutral-600",children:"Expired"})]}):e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md ${m.bg} border ${m.border} ${l}`,children:[e.jsx(se,{className:`w-3.5 h-3.5 ${m.icon}`}),e.jsx("span",{className:`text-xs font-semibold ${m.text}`,children:d(a)})]})}function ma({onAcceptOrder:t,onRejectOrder:l}){const{notifications:a,unreadCount:c,markAsRead:s,markAllAsRead:r}=nt(),d=G(),[j,n]=b.useState(!1),y=a.filter(p=>!p.isArchived).sort((p,h)=>new Date(h.createdAt).getTime()-new Date(p.createdAt).getTime()).slice(0,10),m=(p,h)=>{s(p),h&&(n(!1),d(h))},o=()=>{r()},u=p=>{const h="w-4 h-4";switch(p){case D.ORDER_REQUEST:return e.jsx(X,{className:`${h} text-warning-600`});case D.ORDER_ACCEPTED:return e.jsx(Q,{className:`${h} text-success-600`});case D.ORDER_REJECTED:case D.ORDER_CANCELLED:return e.jsx(Se,{className:`${h} text-error-600`});case D.PAYMENT_PROCESSED:case D.PAYMENT_SETTLED:return e.jsx(Fe,{className:`${h} text-primary-600`});case D.PERFORMANCE_ALERT:return e.jsx(ye,{className:`${h} text-blue-600`});case D.SYSTEM_ALERT:return e.jsx(te,{className:`${h} text-neutral-600`});default:return e.jsx(ge,{className:`${h} text-neutral-600`})}},x=p=>{switch(p){case q.HIGH:return"bg-error-50 border-error-200";case q.MEDIUM:return"bg-warning-50 border-warning-200";case q.LOW:return"bg-neutral-50 border-neutral-200";default:return"bg-neutral-50 border-neutral-200"}};return e.jsxs(ht,{open:j,onOpenChange:n,children:[e.jsx(pt,{asChild:!0,children:e.jsxs(w,{variant:"ghost",size:"sm",className:"relative h-10 w-10 p-0 hover:bg-neutral-100",children:[e.jsx(ge,{className:"w-5 h-5 text-neutral-700"}),c>0&&e.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-error-600 text-[10px] font-semibold text-white",children:c>9?"9+":c})]})}),e.jsxs(gt,{align:"end",className:"w-96 p-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:"Notifications"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:c>0?`${c} unread`:"All caught up!"})]}),c>0&&e.jsxs(w,{variant:"ghost",size:"sm",onClick:o,className:"text-xs text-primary-600 hover:text-primary-700 h-auto px-2 py-1",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:y.length===0?e.jsxs("div",{className:"py-12 px-4 text-center",children:[e.jsx(ge,{className:"w-12 h-12 text-neutral-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900 mb-1",children:"No notifications"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"You're all caught up!"})]}):y.map((p,h)=>{var C;const N=p.type===D.ORDER_REQUEST;return e.jsxs("div",{children:[e.jsx("div",{className:`w-full p-4 transition-colors ${p.isRead?"":"bg-primary-50/30"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("div",{className:`w-8 h-8 rounded-lg border flex items-center justify-center ${p.isRead?"bg-neutral-50 border-neutral-200":x(p.priority)}`,children:u(p.type)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("p",{className:`text-sm font-medium ${p.isRead?"text-neutral-700":"text-neutral-900"}`,children:p.title}),!p.isRead&&e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-primary-600 rounded-full mt-1.5"})]}),e.jsx("p",{className:"text-xs text-neutral-600 mb-2 line-clamp-2",children:p.message}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs text-neutral-500",children:me(p.createdAt)}),p.priority===q.HIGH&&e.jsx(S,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-4 bg-error-50 text-error-700 border-error-200",children:"Urgent"}),N&&((C=p.metadata)==null?void 0:C.offerExpiresAt)&&e.jsx(it,{expiresAt:p.metadata.offerExpiresAt})]}),N&&p.orderId&&t&&e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsxs(w,{size:"sm",onClick:v=>{v.stopPropagation(),t(p.orderId),n(!1)},className:"bg-success-600 hover:bg-success-700 text-white h-8 px-3 text-xs border-2 border-success-600",children:[e.jsx(Le,{className:"w-3.5 h-3.5 mr-1"}),"Accept"]}),e.jsx(w,{size:"sm",variant:"ghost",onClick:()=>{m(p.id,p.ctaLink)},className:"text-xs text-primary-600 hover:text-primary-700 h-8 px-2",children:"View Details →"})]}),!N&&p.ctaLink&&e.jsxs("button",{onClick:()=>m(p.id,p.ctaLink),className:"text-xs text-primary-600 hover:text-primary-700 mt-2 inline-flex items-center",children:[p.ctaLabel||"View Details"," →"]})]})]})}),h<y.length-1&&e.jsx(Z,{})]},p.id)})}),y.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsx("div",{className:"p-2",children:e.jsx(w,{variant:"ghost",size:"sm",onClick:()=>{n(!1),d("/vendor/notifications")},className:"w-full text-xs text-primary-600 hover:text-primary-700 hover:bg-primary-50",children:"View all notifications"})})]})]})]})}function xa({onAcceptOrder:t,onRejectOrder:l}){const{vendor:a,logout:c,toggleAvailability:s}=Te(),r=G(),d=bt(),j=()=>{c(),r("/vendor/login")};if(!a)return null;const n=d.pathname.split("/").filter(Boolean),y=n.map((m,o)=>({label:m.charAt(0).toUpperCase()+m.slice(1).replace(/-/g," "),path:"/"+n.slice(0,o+1).join("/")}));return e.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b border-neutral-200 bg-white flex items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(Gt,{className:"h-8 w-auto"})}),e.jsx("div",{className:"h-8 w-px bg-neutral-200"}),e.jsx("div",{className:"flex items-center gap-2 text-sm",children:y.map((m,o)=>e.jsxs("div",{className:"flex items-center gap-2",children:[o>0&&e.jsx(ve,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:o===y.length-1?"font-semibold text-neutral-900":"text-neutral-500",children:m.label})]},m.path))})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 rounded-lg border border-neutral-200 bg-neutral-50",children:[e.jsx("span",{className:"text-xs font-medium text-neutral-600",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm font-semibold ${a.isAvailable?"text-[#22C55E]":"text-neutral-500"}`,children:a.isAvailable?"Available":"Unavailable"}),e.jsx(fe,{checked:a.isAvailable,onCheckedChange:s,style:{backgroundColor:a.isAvailable?"#22C55E":void 0}})]})]}),e.jsx(ma,{onAcceptOrder:t,onRejectOrder:l}),e.jsxs(ht,{children:[e.jsx(pt,{asChild:!0,children:e.jsxs(w,{variant:"ghost",className:"flex items-center gap-2 h-10 px-3 hover:bg-neutral-100",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(Ue,{className:"w-4 h-4 text-primary-700"})}),e.jsxs("div",{className:"text-left hidden md:block",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:a.ownerName}),e.jsx("p",{className:"text-xs text-neutral-500",children:"Vendor"})]})]})}),e.jsxs(gt,{align:"end",className:"w-56",children:[e.jsx(zt,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-semibold",children:a.ownerName}),e.jsx("span",{className:"text-xs text-neutral-500 font-normal",children:a.phone})]})}),e.jsx(Xe,{}),e.jsxs(_e,{onClick:()=>r("/vendor/settings"),children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Settings"]}),e.jsxs(_e,{onClick:s,children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),"Toggle Availability"]}),e.jsx(Xe,{}),e.jsxs(_e,{onClick:()=>r("/"),children:[e.jsx(Is,{className:"w-4 h-4 mr-2"}),"Portal Selector"]}),e.jsx(Xe,{}),e.jsxs(_e,{onClick:j,className:"text-error-600",children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]})}var ee=(t=>(t.ORDER_ISSUE="ORDER_ISSUE",t.PAYMENT_ISSUE="PAYMENT_ISSUE",t.TECHNICAL_ISSUE="TECHNICAL_ISSUE",t.ACCOUNT_ISSUE="ACCOUNT_ISSUE",t.CATALOG_UPDATE="CATALOG_UPDATE",t.DELIVERY_ISSUE="DELIVERY_ISSUE",t.GENERAL_INQUIRY="GENERAL_INQUIRY",t.FEATURE_REQUEST="FEATURE_REQUEST",t))(ee||{}),ne=(t=>(t.URGENT="URGENT",t.HIGH="HIGH",t.MEDIUM="MEDIUM",t.LOW="LOW",t))(ne||{}),O=(t=>(t.OPEN="OPEN",t.IN_PROGRESS="IN_PROGRESS",t.WAITING_VENDOR="WAITING_VENDOR",t.RESOLVED="RESOLVED",t.CLOSED="CLOSED",t))(O||{});const ua={ORDER_ISSUE:"Order Issue",PAYMENT_ISSUE:"Payment/Payout Issue",TECHNICAL_ISSUE:"Technical Problem",ACCOUNT_ISSUE:"Account/Profile Issue",CATALOG_UPDATE:"Catalog Update Request",DELIVERY_ISSUE:"Delivery Issue",GENERAL_INQUIRY:"General Question",FEATURE_REQUEST:"Feature Request"},ha={URGENT:"Urgent - Blocking Operations",HIGH:"High - Significant Impact",MEDIUM:"Medium - Moderate Impact",LOW:"Low - Minor Issue"},pa=[{id:"ticket_001",ticketNumber:"SUP-1245",category:ee.PAYMENT_ISSUE,priority:ne.HIGH,status:O.IN_PROGRESS,subject:"Payment not received for completed order",description:'I completed order ORD-1246 on January 5th and marked it as complete. The settlement shows as "Processing" but it has been 3 days. When will I receive payment?',orderId:"order_03HQKZX8Y9Z1A2B3C4D5E6F7H0",orderNumber:"ORD-1246",settlementId:"ST-2026-002",replies:[{id:"reply_001",ticketId:"ticket_001",message:"Thank you for contacting RealServ support. I can see that settlement ST-2026-002 is currently being processed. As per our payment terms, settlements are processed within 7 business days of order completion. Your order was completed on January 5th, so payment should be credited by January 14th. I've escalated this to our finance team for priority processing.",isVendorReply:!1,authorName:"Priya Sharma (Support)",createdAt:"2026-01-07T10:30:00Z"},{id:"reply_002",ticketId:"ticket_001",message:"Thank you for the update. I appreciate the escalation. Please let me know once the payment is processed.",isVendorReply:!0,authorName:"Kumar (Vendor)",createdAt:"2026-01-07T14:15:00Z"}],createdAt:"2026-01-07T09:00:00Z",updatedAt:"2026-01-07T14:15:00Z",assignedTo:"Priya Sharma"},{id:"ticket_002",ticketNumber:"SUP-1243",category:ee.ORDER_ISSUE,priority:ne.URGENT,status:O.RESOLVED,subject:"Buyer did not pick up order - what should I do?",description:"I accepted order ORD-1248 and prepared 10 bags of cement. Marked it as ready at 2 PM. The buyer was supposed to pick up by 4 PM but never showed up. I called the number but no response. What is the next step?",orderId:"order_01HQKZX8Y9Z1A2B3C4D5E6F7G8",orderNumber:"ORD-1248",replies:[{id:"reply_003",ticketId:"ticket_002",message:"I understand this is frustrating. Our team has contacted the buyer and they confirmed they will pick up the order by 6 PM today. They apologize for the delay - there was a vehicle breakdown. As per our vendor protection policy, if the buyer does not pick up within 24 hours of ready time, you can mark the order as cancelled and receive 50% cancellation fees. Thank you for your patience.",isVendorReply:!1,authorName:"Rajesh Kumar (Support)",createdAt:"2026-01-06T16:30:00Z"},{id:"reply_004",ticketId:"ticket_002",message:"The buyer picked up the order at 5:45 PM. All good now. Thanks for the quick response!",isVendorReply:!0,authorName:"Kumar (Vendor)",createdAt:"2026-01-06T18:00:00Z"}],createdAt:"2026-01-06T16:15:00Z",updatedAt:"2026-01-06T18:00:00Z",resolvedAt:"2026-01-06T18:00:00Z",assignedTo:"Rajesh Kumar",resolution:"Buyer picked up the order after a delay. No further action needed."},{id:"ticket_003",ticketNumber:"SUP-1240",category:ee.CATALOG_UPDATE,priority:ne.MEDIUM,status:O.RESOLVED,subject:"Add new item to my catalog - Ambuja Cement",description:"I want to add Ambuja Cement 43 Grade (50kg bags) to my catalog. I can supply this at competitive prices. How do I add this item?",replies:[{id:"reply_005",ticketId:"ticket_003",message:`Thank you for your interest in expanding your catalog. To add Ambuja Cement 43 Grade, I need the following information:

1. Your selling price per bag (base price to RealServ)
2. Current stock availability
3. Lead time for procurement if out of stock
4. Any quality certifications

Once you provide these details, I will add the item to your catalog within 24 hours.`,isVendorReply:!1,authorName:"Priya Sharma (Support)",createdAt:"2026-01-04T11:00:00Z"},{id:"reply_006",ticketId:"ticket_003",message:`Here are the details:
1. ₹310 per bag
2. 200 bags in stock
3. Can procure within 2 days if needed
4. I have ISI certification`,isVendorReply:!0,authorName:"Kumar (Vendor)",createdAt:"2026-01-04T14:30:00Z"},{id:"reply_007",ticketId:"ticket_003",message:"Perfect! I have added Ambuja Cement 43 Grade to your catalog. You should see it in your catalog page now. The item is marked as active and buyers in your service area will be able to see it.",isVendorReply:!1,authorName:"Priya Sharma (Support)",createdAt:"2026-01-05T09:00:00Z"}],createdAt:"2026-01-04T10:45:00Z",updatedAt:"2026-01-05T09:00:00Z",resolvedAt:"2026-01-05T09:00:00Z",assignedTo:"Priya Sharma",resolution:"Ambuja Cement 43 Grade added to vendor catalog."},{id:"ticket_004",ticketNumber:"SUP-1238",category:ee.TECHNICAL_ISSUE,priority:ne.LOW,status:O.CLOSED,subject:"Cannot login to vendor portal",description:'I am getting "Invalid credentials" error when trying to login even though I am using the correct phone number and password.',replies:[{id:"reply_008",ticketId:"ticket_004",message:"I can see your account is active. The issue was that you were using an old password. I have sent a password reset link to your registered phone number via SMS. Please use that to reset your password and try logging in again.",isVendorReply:!1,authorName:"Tech Support",createdAt:"2026-01-03T15:30:00Z"},{id:"reply_009",ticketId:"ticket_004",message:"I reset the password and I can login now. Thank you!",isVendorReply:!0,authorName:"Kumar (Vendor)",createdAt:"2026-01-03T16:00:00Z"}],createdAt:"2026-01-03T15:00:00Z",updatedAt:"2026-01-03T16:00:00Z",resolvedAt:"2026-01-03T16:00:00Z",closedAt:"2026-01-03T16:00:00Z",assignedTo:"Tech Support",resolution:"Password reset link sent. Vendor able to login successfully."}],ga=[{id:"faq_001",category:"Orders",question:"How long do I have to accept or reject an order request?",answer:"You have 15 minutes to respond to an order request. If you do not accept or reject within this time, the order will automatically expire and be offered to another vendor. We recommend keeping the vendor portal open or enabling notifications to respond quickly.",helpful:45,views:120,relatedLinks:[{label:"View Orders",url:"/vendor/orders"}]},{id:"faq_002",category:"Orders",question:"What happens if I accept an order but cannot fulfill it?",answer:"If you accept an order but cannot fulfill it due to stock unavailability or other reasons, please contact support immediately via the Help section. Repeated cancellations after acceptance will negatively impact your vendor rating and may lead to account suspension. Only accept orders you can confidently fulfill.",helpful:38,views:95},{id:"faq_003",category:"Payments",question:"When will I receive payment for completed orders?",answer:"Payments are processed within 7 business days of marking an order as complete. Settlements are grouped weekly and transferred to your registered bank account. You can track all settlements in the Payouts section of the portal.",helpful:67,views:180,relatedLinks:[{label:"View Payouts",url:"/vendor/payouts"}]},{id:"faq_004",category:"Payments",question:"How is my payout calculated?",answer:"Your payout is calculated as: Base Price (your catalog price) minus RealServ Commission (15-18% depending on category and volume). The exact breakdown is shown in each order details page. Higher order volumes may qualify you for reduced commission rates.",helpful:52,views:145},{id:"faq_005",category:"Catalog",question:"How do I add new items to my catalog?",answer:'To add new items, create a support ticket under "Catalog Update Request" with details about the item, your pricing, stock availability, and any certifications. Our team will review and add the item within 24 hours if approved. Not all items can be added - they must meet RealServ quality standards.',helpful:29,views:75,relatedLinks:[{label:"View Catalog",url:"/vendor/catalog"},{label:"Create Ticket",url:"/vendor/support"}]},{id:"faq_006",category:"Catalog",question:"Can I change prices for items in my catalog?",answer:"Yes, you can request price changes by creating a support ticket. Price changes are reviewed by our pricing team and typically processed within 48 hours. Frequent price changes may be rejected to maintain pricing stability for buyers.",helpful:41,views:110},{id:"faq_007",category:"Performance",question:"How is my vendor rating calculated?",answer:"Your rating is based on: Order Acceptance Rate (30%), Response Time (25%), Order Fulfillment Rate (25%), Buyer Ratings (15%), and Delivery Timeliness (5%). Maintaining high ratings gives you priority for order offers and access to premium buyers.",helpful:58,views:160,relatedLinks:[{label:"View Performance",url:"/vendor/performance"}]},{id:"faq_008",category:"Account",question:"How do I update my business details or bank account?",answer:"You can update most business details in the Settings page. For bank account changes, you need to create a support ticket with supporting documents (cancelled cheque or bank statement) for verification. Bank account changes are processed within 3-5 business days.",helpful:33,views:88,relatedLinks:[{label:"Settings",url:"/vendor/settings"}]},{id:"faq_009",category:"Technical",question:"I am not receiving order notifications. What should I do?",answer:"First, check your notification settings in the Settings page. Make sure your phone number is correct and you have enabled notifications. If issues persist, try logging out and logging back in. For continued issues, create a technical support ticket.",helpful:25,views:65},{id:"faq_010",category:"Delivery",question:"What if the buyer does not pick up the order on time?",answer:"If a buyer does not pick up a ready order within 24 hours of the scheduled time, you can mark the order as cancelled and receive 50% cancellation fees as compensation. Always contact support before cancelling to ensure proper documentation.",helpful:44,views:98}],ps=b.createContext(void 0);function ba({children:t}){const[l,a]=b.useState(pa),[c]=b.useState(ga),s=l.filter(m=>m.status===O.OPEN||m.status===O.IN_PROGRESS).length,y={tickets:l,faqs:c,openTicketsCount:s,createTicket:async m=>{try{await new Promise(p=>setTimeout(p,500));const o=`SUP-${1250+l.length}`,u=`ticket_${Date.now()}`,x={id:u,ticketNumber:o,category:m.category,priority:m.priority,status:O.OPEN,subject:m.subject,description:m.description,orderId:m.orderId,orderNumber:m.orderNumber,settlementId:m.settlementId,replies:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return a(p=>[x,...p]),{success:!0,ticketId:u}}catch{return{success:!1,error:"Failed to create support ticket. Please try again."}}},getTicketById:m=>l.find(o=>o.id===m),getTicketsByStatus:m=>l.filter(o=>o.status===m),addReply:async(m,o)=>{try{if(await new Promise(p=>setTimeout(p,500)),!l.find(p=>p.id===m))return{success:!1,error:"Ticket not found"};const x={id:`reply_${Date.now()}`,ticketId:m,message:o,isVendorReply:!0,authorName:"Kumar (Vendor)",createdAt:new Date().toISOString()};return a(p=>p.map(h=>h.id===m?{...h,replies:[...h.replies||[],x],updatedAt:new Date().toISOString(),status:O.IN_PROGRESS}:h)),{success:!0}}catch{return{success:!1,error:"Failed to add reply. Please try again."}}}};return e.jsx(ps.Provider,{value:y,children:t})}function Ve(){const t=b.useContext(ps);if(t===void 0)throw new Error("useVendorSupport must be used within a VendorSupportProvider");return t}const ja=[{name:"Dashboard",href:"/vendor/dashboard",icon:Ms},{name:"Orders",href:"/vendor/orders",icon:X},{name:"Catalog",href:"/vendor/catalog",icon:Fr},{name:"Payouts",href:"/vendor/payouts",icon:Fe},{name:"Performance",href:"/vendor/performance",icon:ye},{name:"Notifications",href:"/vendor/notifications",icon:ge},{name:"Help & Support",href:"/vendor/support",icon:lt},{name:"Settings",href:"/vendor/settings",icon:jt}];function va(){const{openTicketsCount:t}=Ve(),{unreadCount:l}=nt(),{vendor:a,availableVendors:c,switchVendor:s}=Te();if(!a)return null;const r=c.length>1;return e.jsxs("aside",{className:"sticky top-0 h-screen w-64 border-r border-neutral-200 bg-white flex flex-col",children:[e.jsx("div",{className:"h-16 px-4 border-b border-neutral-200 flex items-center",children:r?e.jsxs(ht,{children:[e.jsx(pt,{asChild:!0,children:e.jsx(w,{variant:"ghost",className:"w-full justify-start px-3 py-2 h-auto hover:bg-neutral-100 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900 truncate",children:a.businessName}),e.jsxs("p",{className:"text-xs text-neutral-500",children:[c.length," businesses"]})]}),e.jsx(_s,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"})]})})}),e.jsxs(gt,{align:"start",className:"w-[232px]",children:[e.jsx(zt,{className:"text-xs text-neutral-500 font-normal",children:"Switch Business"}),e.jsx(Xe,{}),c.map(d=>{const j=d.id===a.id;return e.jsxs(_e,{onClick:()=>s(d.id),className:"flex items-start gap-3 py-3 cursor-pointer",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${j?"bg-primary-600":"bg-neutral-100"}`,children:e.jsx(Pe,{className:`w-5 h-5 ${j?"text-white":"text-neutral-600"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:d.businessName}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(S,{className:`text-xs ${d.isAvailable?"bg-[#22C55E]/10 text-[#22C55E]":"bg-neutral-100 text-neutral-600"}`,children:d.isAvailable?"Available":"Unavailable"})})]})]},d.id)})]})]}):e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 w-full",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900 truncate",children:a.businessName}),e.jsx("p",{className:"text-xs text-neutral-500",children:"Vendor Portal"})]})]})}),e.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:ja.map(d=>{const j=d.icon;return e.jsx(Ls,{to:d.href,className:({isActive:n})=>We("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",n?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900"),children:({isActive:n})=>e.jsxs(e.Fragment,{children:[e.jsx(j,{className:We("w-5 h-5",n?"text-primary-600":"text-neutral-500")}),e.jsx("span",{children:d.name}),d.name==="Notifications"&&l>0&&e.jsx(S,{className:"ml-auto bg-error-600 text-white text-xs px-1.5 py-0 h-5",children:l>9?"9+":l}),d.name==="Help & Support"&&t>0&&e.jsx(S,{className:"ml-auto bg-primary-600 text-white text-xs px-1.5 py-0 h-5",children:t})]})},d.name)})}),e.jsx("div",{className:"p-4 border-t border-neutral-200",children:e.jsxs("div",{className:"text-xs text-neutral-500",children:[e.jsx("p",{className:"mb-1",children:"RealServ Vendor Portal"}),e.jsx("p",{children:"© 2026 All rights reserved"})]})})]})}var Nt="Radio",[ya,gs]=Xt(Nt),[fa,Na]=ya(Nt),bs=b.forwardRef((t,l)=>{const{__scopeRadio:a,name:c,checked:s=!1,required:r,disabled:d,value:j="on",onCheck:n,form:y,...m}=t,[o,u]=b.useState(null),x=Qt(l,N=>u(N)),p=b.useRef(!1),h=o?y||!!o.closest("form"):!0;return e.jsxs(fa,{scope:a,checked:s,disabled:d,children:[e.jsx(vt.button,{type:"button",role:"radio","aria-checked":s,"data-state":ys(s),"data-disabled":d?"":void 0,disabled:d,value:j,...m,ref:x,onClick:xt(t.onClick,N=>{s||n==null||n(),h&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),h&&e.jsx(wa,{control:o,bubbles:!p.current,name:c,value:j,checked:s,required:r,disabled:d,form:y,style:{transform:"translateX(-100%)"}})]})});bs.displayName=Nt;var js="RadioIndicator",vs=b.forwardRef((t,l)=>{const{__scopeRadio:a,forceMount:c,...s}=t,r=Na(js,a);return e.jsx(Zs,{present:c||r.checked,children:e.jsx(vt.span,{"data-state":ys(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:l})})});vs.displayName=js;var wa=t=>{const{control:l,checked:a,bubbles:c=!0,...s}=t,r=b.useRef(null),d=Hs(a),j=Vs(l);return b.useEffect(()=>{const n=r.current,y=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(y,"checked").set;if(d!==a&&o){const u=new Event("click",{bubbles:c});o.call(n,a),n.dispatchEvent(u)}},[d,a,c]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:a,...s,tabIndex:-1,ref:r,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ys(t){return t?"checked":"unchecked"}var Aa=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],wt="RadioGroup",[Sa]=Xt(wt,[Kt,gs]),fs=Kt(),Ns=gs(),[ka,Ca]=Sa(wt),ws=b.forwardRef((t,l)=>{const{__scopeRadioGroup:a,name:c,defaultValue:s,value:r,required:d=!1,disabled:j=!1,orientation:n,dir:y,loop:m=!0,onValueChange:o,...u}=t,x=fs(a),p=Fs(y),[h,N]=Us({prop:r,defaultProp:s,onChange:o});return e.jsx(ka,{scope:a,name:c,required:d,disabled:j,value:h,onValueChange:N,children:e.jsx($s,{asChild:!0,...x,orientation:n,dir:p,loop:m,children:e.jsx(vt.div,{role:"radiogroup","aria-required":d,"aria-orientation":n,"data-disabled":j?"":void 0,dir:p,...u,ref:l})})})});ws.displayName=wt;var As="RadioGroupItem",Ss=b.forwardRef((t,l)=>{const{__scopeRadioGroup:a,disabled:c,...s}=t,r=Ca(As,a),d=r.disabled||c,j=fs(a),n=Ns(a),y=b.useRef(null),m=Qt(l,y),o=r.value===s.value,u=b.useRef(!1);return b.useEffect(()=>{const x=h=>{Aa.includes(h.key)&&(u.current=!0)},p=()=>u.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",p)}},[]),e.jsx(Bs,{asChild:!0,...j,focusable:!d,active:o,children:e.jsx(bs,{disabled:d,required:r.required,checked:o,...n,...s,name:r.name,ref:m,onCheck:()=>r.onValueChange(s.value),onKeyDown:xt(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:xt(s.onFocus,()=>{var x;u.current&&((x=y.current)==null||x.click())})})})});Ss.displayName=As;var Ea="RadioGroupIndicator",ks=b.forwardRef((t,l)=>{const{__scopeRadioGroup:a,...c}=t,s=Ns(a);return e.jsx(vs,{...s,...c,ref:l})});ks.displayName=Ea;var Ta=ws,Ra=Ss,Da=ks;function Pa({className:t,...l}){return e.jsx(Ta,{"data-slot":"radio-group",className:We("grid gap-3",t),...l})}function Ia({className:t,...l}){return e.jsx(Ra,{"data-slot":"radio-group-item",className:We("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...l,children:e.jsx(Da,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(us,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Lt=[{id:"out-of-stock",label:"Out of stock",description:"Item is currently unavailable"},{id:"delivery-area",label:"Cannot deliver to this area",description:"Outside my service area"},{id:"delivery-time",label:"Delivery time not feasible",description:"Cannot meet the delivery schedule"},{id:"price-too-low",label:"Price too low",description:"Payout is not acceptable"},{id:"capacity",label:"At full capacity",description:"Too busy to take on more orders"},{id:"other",label:"Other reason",description:"Please provide details below"}];function Cs({isOpen:t,onClose:l,onConfirm:a,orderNumber:c,itemName:s}){const[r,d]=b.useState(""),[j,n]=b.useState(""),[y,m]=b.useState(!1),o=async()=>{var h;if(r){m(!0);try{const N=((h=Lt.find(C=>C.id===r))==null?void 0:h.label)||r;await a(N,j.trim()||void 0),d(""),n("")}finally{m(!1)}}},u=()=>{y||(d(""),n(""),l())},x=r==="other",p=r&&(!x||j.trim().length>0);return e.jsx(Wt,{open:t,onOpenChange:u,children:e.jsxs(Jt,{className:"max-w-lg",children:[e.jsxs(es,{children:[e.jsxs(ts,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5 text-error-600"}),"Reject Order Request"]}),e.jsxs(ss,{children:["You are rejecting order ",e.jsx("strong",{children:c})," for ",e.jsx("strong",{children:s}),". Please select a reason below."]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Ie,{className:"text-sm font-semibold text-neutral-900",children:["Reason for rejection ",e.jsx("span",{className:"text-error-600",children:"*"})]}),e.jsx(Pa,{value:r,onValueChange:d,children:Lt.map(h=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border-2 border-neutral-200 hover:border-primary-300 hover:bg-primary-50/30 transition-colors cursor-pointer",onClick:()=>d(h.id),children:[e.jsx(Ia,{value:h.id,id:h.id,className:"mt-0.5"}),e.jsxs("div",{className:"flex-1 cursor-pointer",children:[e.jsx(Ie,{htmlFor:h.id,className:"text-sm font-medium text-neutral-900 cursor-pointer",children:h.label}),e.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:h.description})]})]},h.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ie,{htmlFor:"notes",className:"text-sm font-semibold text-neutral-900",children:["Additional notes ",x&&e.jsx("span",{className:"text-error-600",children:"*"}),!x&&e.jsx("span",{className:"text-neutral-500 font-normal",children:"(optional)"})]}),e.jsx(qs,{id:"notes",placeholder:x?"Please provide details...":"Any additional information...",value:j,onChange:h=>n(h.target.value),rows:3,className:"resize-none"})]}),e.jsx("div",{className:"bg-warning-50 border-2 border-warning-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-warning-800",children:[e.jsx("strong",{children:"Note:"})," Frequent rejections may affect your vendor rating and future order allocation."]})})]}),e.jsxs(rs,{className:"gap-2",children:[e.jsx(w,{type:"button",variant:"outline",onClick:u,disabled:y,className:"border-2",children:"Cancel"}),e.jsx(w,{type:"button",onClick:o,disabled:!p||y,className:"bg-error-600 hover:bg-error-700 text-white",children:y?"Rejecting...":"Reject Order"})]})]})})}var f=(t=>(t.OFFERED="offered",t.ACCEPTED="accepted",t.REJECTED="rejected",t.IN_PROGRESS="in_progress",t.READY="ready",t.DELIVERED="delivered",t.COMPLETED="completed",t.ISSUE="issue",t.CANCELLED="cancelled",t))(f||{});const Oa=[{id:"order_req_01",orderNumber:"ORD-1251",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_cement_ultratech_50kg",itemName:"UltraTech Cement 50kgs",itemCategory:"cement",quantity:15,unit:"bags",payoutPerUnit:360,basePayoutAmount:5400,realservFee:540,logisticsFee:0,deductions:0,totalPayoutAmount:4860,status:f.OFFERED,offeredAt:new Date(Date.now()-60*1e3).toISOString(),offerExpiresAt:new Date(Date.now()+840*1e3).toISOString(),deliveryDate:new Date(Date.now()+1440*60*1e3).toISOString().split("T")[0],deliveryTimeSlot:{startTime:"16:00",endTime:"19:00"},deliveryArea:"Miyapur",deliveryPincode:"500049",deliveryAddress:`Plot No. 45, Sector 12, HITEC City
Hyderabad, Telangana - 500081
Landmark: Near Cyber Towers`,deliveryInstructions:"Please deliver before 11 AM. Contact site supervisor on arrival. Unload at basement level.",buyerPhone:"+91 98765 43210",buyerEmail:"rajesh@construction.com",settlementStatus:"pending",hasIssue:!1,createdAt:new Date(Date.now()-60*1e3).toISOString(),updatedAt:new Date(Date.now()-60*1e3).toISOString()},{id:"order_req_02",orderNumber:"ORD-1250",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_sand_msand",itemName:"M-Sand (Manufactured Sand)",itemCategory:"sand",quantity:3,unit:"trolleys",payoutPerUnit:1200,basePayoutAmount:3600,realservFee:360,logisticsFee:0,deductions:0,totalPayoutAmount:3240,status:f.OFFERED,offeredAt:new Date(Date.now()-300*1e3).toISOString(),offerExpiresAt:new Date(Date.now()+600*1e3).toISOString(),deliveryDate:new Date(Date.now()+2880*60*1e3).toISOString().split("T")[0],deliveryTimeSlot:{startTime:"08:00",endTime:"11:00"},deliveryArea:"Kukatpally",deliveryPincode:"500072",buyerPhone:"+91 98123 45678",settlementStatus:"pending",hasIssue:!1,createdAt:new Date(Date.now()-300*1e3).toISOString(),updatedAt:new Date(Date.now()-300*1e3).toISOString()},{id:"order_req_03",orderNumber:"ORD-1249",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_aggregate_20mm",itemName:"20mm Aggregate",itemCategory:"aggregate",quantity:5,unit:"trolleys",payoutPerUnit:1100,basePayoutAmount:5500,realservFee:550,logisticsFee:0,deductions:0,totalPayoutAmount:4950,status:f.OFFERED,offeredAt:new Date(Date.now()-120*1e3).toISOString(),offerExpiresAt:new Date(Date.now()+780*1e3).toISOString(),deliveryDate:new Date(Date.now()+1440*60*1e3).toISOString().split("T")[0],deliveryTimeSlot:{startTime:"10:00",endTime:"13:00"},deliveryArea:"Gachibowli",deliveryPincode:"500032",deliveryAddress:`Building No. 7, Phase 2, DLF Cyber City
Gachibowli, Hyderabad - 500032
Landmark: Behind Inorbit Mall`,buyerPhone:"+91 99887 76655",settlementStatus:"pending",hasIssue:!1,createdAt:new Date(Date.now()-120*1e3).toISOString(),updatedAt:new Date(Date.now()-120*1e3).toISOString()},{id:"order_01HQKZX8Y9Z1A2B3C4D5E6F7G8",orderNumber:"ORD-1248",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_cement_ultratech_50kg",itemName:"UltraTech Cement 50kg",itemCategory:"cement",quantity:10,unit:"bags",payoutPerUnit:360,basePayoutAmount:3600,realservFee:360,logisticsFee:0,deductions:0,totalPayoutAmount:3240,status:f.ACCEPTED,offeredAt:"2026-01-08T07:30:00Z",offerExpiresAt:"2026-01-08T07:45:00Z",respondedAt:"2026-01-08T07:32:00Z",acceptedAt:"2026-01-08T07:32:00Z",deliveryDate:"2026-01-08",deliveryTimeSlot:{startTime:"14:00",endTime:"17:00"},deliveryArea:"Miyapur",deliveryPincode:"500049",buyerPhone:"+91 98234 56789",settlementStatus:"pending",hasIssue:!1,createdAt:"2026-01-08T07:30:00Z",updatedAt:"2026-01-08T07:32:00Z"},{id:"order_02HQKZX8Y9Z1A2B3C4D5E6F7G9",orderNumber:"ORD-1247",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_sand_msand",itemName:"M-Sand (Manufactured Sand)",itemCategory:"sand",quantity:2,unit:"trolleys",payoutPerUnit:1200,basePayoutAmount:2400,realservFee:240,logisticsFee:0,deductions:0,totalPayoutAmount:2160,status:f.READY,offeredAt:"2026-01-07T16:00:00Z",offerExpiresAt:"2026-01-07T16:15:00Z",respondedAt:"2026-01-07T16:03:00Z",acceptedAt:"2026-01-07T16:03:00Z",deliveryDate:"2026-01-08",deliveryTimeSlot:{startTime:"10:00",endTime:"13:00"},deliveryArea:"Kukatpally",deliveryPincode:"500072",settlementStatus:"pending",hasIssue:!1,createdAt:"2026-01-07T16:00:00Z",updatedAt:"2026-01-08T09:45:00Z"},{id:"order_03HQKZX8Y9Z1A2B3C4D5E6F7H0",orderNumber:"ORD-1246",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_cement_acc_50kg",itemName:"ACC Cement 50kg",itemCategory:"cement",quantity:8,unit:"bags",payoutPerUnit:355,basePayoutAmount:2840,realservFee:284,logisticsFee:0,deductions:0,totalPayoutAmount:2556,status:f.COMPLETED,offeredAt:"2026-01-07T09:00:00Z",offerExpiresAt:"2026-01-07T09:15:00Z",respondedAt:"2026-01-07T09:05:00Z",acceptedAt:"2026-01-07T09:05:00Z",deliveredAt:"2026-01-07T14:30:00Z",completedAt:"2026-01-07T14:45:00Z",deliveryDate:"2026-01-07",deliveryTimeSlot:{startTime:"12:00",endTime:"15:00"},deliveryArea:"Miyapur",deliveryPincode:"500049",settlementStatus:"pending",hasIssue:!1,createdAt:"2026-01-07T09:00:00Z",updatedAt:"2026-01-07T14:45:00Z"},{id:"order_04HQKZX8Y9Z1A2B3C4D5E6F7H1",orderNumber:"ORD-1245",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_cement_ultratech_50kg",itemName:"UltraTech Cement 50kg",itemCategory:"cement",quantity:5,unit:"bags",payoutPerUnit:360,basePayoutAmount:1800,realservFee:180,logisticsFee:0,deductions:0,totalPayoutAmount:1620,status:f.COMPLETED,offeredAt:"2026-01-03T08:30:00Z",offerExpiresAt:"2026-01-03T08:45:00Z",respondedAt:"2026-01-03T08:33:00Z",acceptedAt:"2026-01-03T08:33:00Z",deliveredAt:"2026-01-03T14:20:00Z",completedAt:"2026-01-03T14:30:00Z",deliveryDate:"2026-01-03",deliveryTimeSlot:{startTime:"12:00",endTime:"15:00"},deliveryArea:"KPHB",deliveryPincode:"500085",settlementId:"ST-2026-001",settlementStatus:"settled",settlementDate:"2026-01-03T18:00:00Z",hasIssue:!1,createdAt:"2026-01-03T08:30:00Z",updatedAt:"2026-01-03T18:00:00Z"},{id:"order_05HQKZX8Y9Z1A2B3C4D5E6F7H2",orderNumber:"ORD-1244",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_aggregate_20mm",itemName:"20mm Aggregate",itemCategory:"aggregate",quantity:1,unit:"trolley",payoutPerUnit:1400,basePayoutAmount:1400,realservFee:140,logisticsFee:0,deductions:0,totalPayoutAmount:1260,status:f.ISSUE,offeredAt:"2026-01-02T10:00:00Z",offerExpiresAt:"2026-01-02T10:15:00Z",respondedAt:"2026-01-02T10:04:00Z",acceptedAt:"2026-01-02T10:04:00Z",deliveryDate:"2026-01-02",deliveryTimeSlot:{startTime:"15:00",endTime:"18:00"},deliveryArea:"Miyapur",deliveryPincode:"500049",settlementStatus:"pending",hasIssue:!0,issueDescription:"Customer site locked, unable to deliver",issueReportedAt:"2026-01-02T15:30:00Z",issueResolvedAt:"2026-01-02T16:15:00Z",issueResolution:"Rescheduled to next day, delivered successfully",createdAt:"2026-01-02T10:00:00Z",updatedAt:"2026-01-02T16:15:00Z"},{id:"order_06HQKZX8Y9Z1A2B3C4D5E6F7H3",orderNumber:"ORD-1240",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_cement_ultratech_50kg",itemName:"UltraTech Cement 50kg",itemCategory:"cement",quantity:12,unit:"bags",payoutPerUnit:360,basePayoutAmount:4320,realservFee:432,logisticsFee:0,deductions:0,totalPayoutAmount:3888,status:f.COMPLETED,offeredAt:"2025-12-28T09:00:00Z",offerExpiresAt:"2025-12-28T09:15:00Z",respondedAt:"2025-12-28T09:06:00Z",acceptedAt:"2025-12-28T09:06:00Z",deliveredAt:"2025-12-28T13:45:00Z",completedAt:"2025-12-28T14:00:00Z",deliveryDate:"2025-12-28",deliveryTimeSlot:{startTime:"11:00",endTime:"14:00"},deliveryArea:"Kukatpally",deliveryPincode:"500072",settlementId:"ST-2025-052",settlementStatus:"settled",settlementDate:"2025-12-30T12:00:00Z",hasIssue:!1,createdAt:"2025-12-28T09:00:00Z",updatedAt:"2025-12-30T12:00:00Z"},{id:"order_07HQKZX8Y9Z1A2B3C4D5E6F7H4",orderNumber:"ORD-1238",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:"item_steel_tmt_8mm",itemName:"TMT Steel Bars 8mm",itemCategory:"steel",quantity:100,unit:"kg",payoutPerUnit:58,basePayoutAmount:5800,realservFee:580,logisticsFee:100,deductions:100,totalPayoutAmount:5020,status:f.COMPLETED,offeredAt:"2025-12-20T08:00:00Z",offerExpiresAt:"2025-12-20T08:15:00Z",respondedAt:"2025-12-20T08:08:00Z",acceptedAt:"2025-12-20T08:08:00Z",deliveredAt:"2025-12-20T15:45:00Z",completedAt:"2025-12-20T16:00:00Z",deliveryDate:"2025-12-20",deliveryTimeSlot:{startTime:"12:00",endTime:"15:00"},deliveryArea:"KPHB",deliveryPincode:"500085",settlementId:"ST-2025-051",settlementStatus:"settled",settlementDate:"2025-12-23T12:00:00Z",hasIssue:!1,createdAt:"2025-12-20T08:00:00Z",updatedAt:"2025-12-23T12:00:00Z"},..._a(3),...Ma(2),...La(1),...Fa(1),...Ua()];function _a(t){const l=[],a=[{id:"item_cement_ultratech_50kg",name:"UltraTech Cement 50kg",category:"cement",unit:"bags",payout:360,qty:[5,8,10,12]},{id:"item_cement_acc_50kg",name:"ACC Cement 50kg",category:"cement",unit:"bags",payout:355,qty:[5,8,10]},{id:"item_sand_msand",name:"M-Sand",category:"sand",unit:"trolleys",payout:1200,qty:[1,2,3]},{id:"item_aggregate_20mm",name:"20mm Aggregate",category:"aggregate",unit:"trolley",payout:1400,qty:[1,2]}],c=["Miyapur","Kukatpally","KPHB"],s=["500049","500072","500085"];for(let r=0;r<t;r++){const d=a[r%a.length],j=d.qty[Math.floor(Math.random()*d.qty.length)],n=j*d.payout,y=1237-r,m=5+r,o=new Date("2025-12-15");o.setDate(o.getDate()+m);const u=r%c.length;l.push({id:`order_gen_${r.toString().padStart(3,"0")}`,orderNumber:`ORD-${y}`,vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:d.id,itemName:d.name,itemCategory:d.category,quantity:j,unit:d.unit,payoutPerUnit:d.payout,basePayoutAmount:n,realservFee:n*.1,logisticsFee:0,deductions:0,totalPayoutAmount:n*.9,status:f.COMPLETED,offeredAt:new Date(o.getTime()-360*60*1e3).toISOString(),offerExpiresAt:new Date(o.getTime()-5.75*60*60*1e3).toISOString(),respondedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),acceptedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),deliveredAt:new Date(o.getTime()-3600*1e3).toISOString(),completedAt:o.toISOString(),deliveryDate:o.toISOString().split("T")[0],deliveryTimeSlot:{startTime:"12:00",endTime:"15:00"},deliveryArea:c[u],deliveryPincode:s[u],settlementId:r<10?`ST-2025-${(42+r).toString().padStart(3,"0")}`:void 0,settlementStatus:r<10?"settled":"pending",settlementDate:r<10?new Date(o.getTime()+2880*60*1e3).toISOString():void 0,hasIssue:!1,createdAt:new Date(o.getTime()-360*60*1e3).toISOString(),updatedAt:o.toISOString()})}return l}function Ma(t){const l=[],a=[{id:"item_cement_ultratech_50kg",name:"UltraTech Cement 50kg",category:"cement",unit:"bags",payout:360,qty:[5,8,10,12]},{id:"item_cement_acc_50kg",name:"ACC Cement 50kg",category:"cement",unit:"bags",payout:355,qty:[5,8,10]},{id:"item_sand_msand",name:"M-Sand",category:"sand",unit:"trolleys",payout:1200,qty:[1,2,3]},{id:"item_aggregate_20mm",name:"20mm Aggregate",category:"aggregate",unit:"trolley",payout:1400,qty:[1,2]}],c=["Miyapur","Kukatpally","KPHB"],s=["500049","500072","500085"];for(let r=0;r<t;r++){const d=a[r%a.length],j=d.qty[Math.floor(Math.random()*d.qty.length)],n=j*d.payout,y=1237-r,m=5+r,o=new Date("2026-01-01");o.setDate(o.getDate()+m);const u=r%c.length;l.push({id:`order_recent_${r.toString().padStart(3,"0")}`,orderNumber:`ORD-${y}`,vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:d.id,itemName:d.name,itemCategory:d.category,quantity:j,unit:d.unit,payoutPerUnit:d.payout,basePayoutAmount:n,realservFee:n*.1,logisticsFee:0,deductions:0,totalPayoutAmount:n*.9,status:f.COMPLETED,offeredAt:new Date(o.getTime()-360*60*1e3).toISOString(),offerExpiresAt:new Date(o.getTime()-5.75*60*60*1e3).toISOString(),respondedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),acceptedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),deliveredAt:new Date(o.getTime()-3600*1e3).toISOString(),completedAt:o.toISOString(),deliveryDate:o.toISOString().split("T")[0],deliveryTimeSlot:{startTime:"12:00",endTime:"15:00"},deliveryArea:c[u],deliveryPincode:s[u],settlementId:r<10?`ST-2026-${(42+r).toString().padStart(3,"0")}`:void 0,settlementStatus:r<10?"settled":"pending",settlementDate:r<10?new Date(o.getTime()+2880*60*1e3).toISOString():void 0,hasIssue:!1,createdAt:new Date(o.getTime()-360*60*1e3).toISOString(),updatedAt:o.toISOString()})}return l}function La(t){const l=[],a=[{id:"item_cement_ultratech_50kg",name:"UltraTech Cement 50kg",category:"cement",unit:"bags",payout:360,qty:[5,8,10,12]},{id:"item_cement_acc_50kg",name:"ACC Cement 50kg",category:"cement",unit:"bags",payout:355,qty:[5,8,10]},{id:"item_sand_msand",name:"M-Sand",category:"sand",unit:"trolleys",payout:1200,qty:[1,2,3]},{id:"item_aggregate_20mm",name:"20mm Aggregate",category:"aggregate",unit:"trolley",payout:1400,qty:[1,2]}],c=["Miyapur","Kukatpally","KPHB"],s=["500049","500072","500085"];for(let r=0;r<t;r++){const d=a[r%a.length],j=d.qty[Math.floor(Math.random()*d.qty.length)],n=j*d.payout,y=1237-r,m=5+r,o=new Date("2026-01-01");o.setDate(o.getDate()+m);const u=r%c.length;l.push({id:`order_active_${r.toString().padStart(3,"0")}`,orderNumber:`ORD-${y}`,vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:d.id,itemName:d.name,itemCategory:d.category,quantity:j,unit:d.unit,payoutPerUnit:d.payout,basePayoutAmount:n,realservFee:n*.1,logisticsFee:0,deductions:0,totalPayoutAmount:n*.9,status:f.READY,offeredAt:new Date(o.getTime()-360*60*1e3).toISOString(),offerExpiresAt:new Date(o.getTime()-5.75*60*60*1e3).toISOString(),respondedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),acceptedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),deliveredAt:new Date(o.getTime()-3600*1e3).toISOString(),completedAt:o.toISOString(),deliveryDate:o.toISOString().split("T")[0],deliveryTimeSlot:{startTime:"12:00",endTime:"15:00"},deliveryArea:c[u],deliveryPincode:s[u],settlementId:r<10?`ST-2026-${(42+r).toString().padStart(3,"0")}`:void 0,settlementStatus:r<10?"settled":"pending",settlementDate:r<10?new Date(o.getTime()+2880*60*1e3).toISOString():void 0,hasIssue:!1,createdAt:new Date(o.getTime()-360*60*1e3).toISOString(),updatedAt:o.toISOString()})}return l}function Fa(t){const l=[],a=[{id:"item_cement_ultratech_50kg",name:"UltraTech Cement 50kg",category:"cement",unit:"bags",payout:360,qty:[5,8,10,12]},{id:"item_cement_acc_50kg",name:"ACC Cement 50kg",category:"cement",unit:"bags",payout:355,qty:[5,8,10]},{id:"item_sand_msand",name:"M-Sand",category:"sand",unit:"trolleys",payout:1200,qty:[1,2,3]},{id:"item_aggregate_20mm",name:"20mm Aggregate",category:"aggregate",unit:"trolley",payout:1400,qty:[1,2]}],c=["Miyapur","Kukatpally","KPHB"],s=["500049","500072","500085"];for(let r=0;r<t;r++){const d=a[r%a.length],j=d.qty[Math.floor(Math.random()*d.qty.length)],n=j*d.payout,y=1237-r,m=5+r,o=new Date("2026-01-01");o.setDate(o.getDate()+m);const u=r%c.length;l.push({id:`order_rejected_${r.toString().padStart(3,"0")}`,orderNumber:`ORD-${y}`,vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",itemId:d.id,itemName:d.name,itemCategory:d.category,quantity:j,unit:d.unit,payoutPerUnit:d.payout,basePayoutAmount:n,realservFee:n*.1,logisticsFee:0,deductions:0,totalPayoutAmount:n*.9,status:f.REJECTED,offeredAt:new Date(o.getTime()-360*60*1e3).toISOString(),offerExpiresAt:new Date(o.getTime()-5.75*60*60*1e3).toISOString(),respondedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),acceptedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),deliveredAt:new Date(o.getTime()-3600*1e3).toISOString(),completedAt:o.toISOString(),deliveryDate:o.toISOString().split("T")[0],deliveryTimeSlot:{startTime:"12:00",endTime:"15:00"},deliveryArea:c[u],deliveryPincode:s[u],settlementId:r<10?`ST-2026-${(42+r).toString().padStart(3,"0")}`:void 0,settlementStatus:r<10?"settled":"pending",settlementDate:r<10?new Date(o.getTime()+2880*60*1e3).toISOString():void 0,hasIssue:!1,createdAt:new Date(o.getTime()-360*60*1e3).toISOString(),updatedAt:o.toISOString()})}return l}function Ua(t=5){const l=[],a=[{id:"item_steel_tmt_8mm",name:"TMT Steel Bars 8mm",category:"steel",unit:"kg",payout:58,qty:[50,100,150]},{id:"item_steel_tmt_10mm",name:"TMT Steel Bars 10mm",category:"steel",unit:"kg",payout:60,qty:[50,100,150]},{id:"item_steel_tmt_12mm",name:"TMT Steel Bars 12mm",category:"steel",unit:"kg",payout:62,qty:[50,100,150]},{id:"item_hardware_nails",name:"Steel Nails",category:"hardware",unit:"kg",payout:85,qty:[10,20,30]}],c=["Bachupally","Nizampet","Pragathi Nagar"],s=["500090","500090","500072"];l.push({id:"order_vendor3_offered_001",orderNumber:"ORD-RK-1001",vendorId:"vendor_03HQKZX8Y9Z1A2B3C4D5E6F7H0",itemId:"item_steel_tmt_10mm",itemName:"TMT Steel Bars 10mm",itemCategory:"steel",quantity:100,unit:"kg",payoutPerUnit:60,basePayoutAmount:6e3,realservFee:600,logisticsFee:0,deductions:0,totalPayoutAmount:5400,status:f.OFFERED,offeredAt:"2026-01-08T10:00:00Z",offerExpiresAt:"2026-01-08T10:15:00Z",deliveryDate:"2026-01-08",deliveryTimeSlot:{startTime:"15:00",endTime:"18:00"},deliveryArea:"Bachupally",deliveryPincode:"500090",buyerPhone:"+91 98765 11111",settlementStatus:"pending",hasIssue:!1,createdAt:"2026-01-08T10:00:00Z",updatedAt:"2026-01-08T10:00:00Z"}),l.push({id:"order_vendor3_offered_002",orderNumber:"ORD-RK-1002",vendorId:"vendor_03HQKZX8Y9Z1A2B3C4D5E6F7H0",itemId:"item_hardware_nails",itemName:"Steel Nails",itemCategory:"hardware",quantity:20,unit:"kg",payoutPerUnit:85,basePayoutAmount:1700,realservFee:170,logisticsFee:0,deductions:0,totalPayoutAmount:1530,status:f.OFFERED,offeredAt:"2026-01-08T09:30:00Z",offerExpiresAt:"2026-01-08T09:45:00Z",deliveryDate:"2026-01-09",deliveryTimeSlot:{startTime:"10:00",endTime:"13:00"},deliveryArea:"Nizampet",deliveryPincode:"500090",buyerPhone:"+91 98765 22222",settlementStatus:"pending",hasIssue:!1,createdAt:"2026-01-08T09:30:00Z",updatedAt:"2026-01-08T09:30:00Z"}),l.push({id:"order_vendor3_accepted_001",orderNumber:"ORD-RK-1000",vendorId:"vendor_03HQKZX8Y9Z1A2B3C4D5E6F7H0",itemId:"item_steel_tmt_12mm",itemName:"TMT Steel Bars 12mm",itemCategory:"steel",quantity:150,unit:"kg",payoutPerUnit:62,basePayoutAmount:9300,realservFee:930,logisticsFee:0,deductions:0,totalPayoutAmount:8370,status:f.ACCEPTED,offeredAt:"2026-01-08T08:00:00Z",offerExpiresAt:"2026-01-08T08:15:00Z",respondedAt:"2026-01-08T08:05:00Z",acceptedAt:"2026-01-08T08:05:00Z",deliveryDate:"2026-01-08",deliveryTimeSlot:{startTime:"14:00",endTime:"17:00"},deliveryArea:"Pragathi Nagar",deliveryPincode:"500072",buyerPhone:"+91 98765 33333",settlementStatus:"pending",hasIssue:!1,createdAt:"2026-01-08T08:00:00Z",updatedAt:"2026-01-08T08:05:00Z"});for(let r=0;r<t;r++){const d=a[r%a.length],j=d.qty[Math.floor(Math.random()*d.qty.length)],n=j*d.payout,y=999-r,m=3+r,o=new Date("2026-01-05");o.setDate(o.getDate()-m);const u=r%c.length;l.push({id:`order_vendor3_${r.toString().padStart(3,"0")}`,orderNumber:`ORD-RK-${y}`,vendorId:"vendor_03HQKZX8Y9Z1A2B3C4D5E6F7H0",itemId:d.id,itemName:d.name,itemCategory:d.category,quantity:j,unit:d.unit,payoutPerUnit:d.payout,basePayoutAmount:n,realservFee:n*.1,logisticsFee:0,deductions:0,totalPayoutAmount:n*.9,status:f.COMPLETED,offeredAt:new Date(o.getTime()-360*60*1e3).toISOString(),offerExpiresAt:new Date(o.getTime()-5.75*60*60*1e3).toISOString(),respondedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),acceptedAt:new Date(o.getTime()-5.9*60*60*1e3).toISOString(),deliveredAt:new Date(o.getTime()-3600*1e3).toISOString(),completedAt:o.toISOString(),deliveryDate:o.toISOString().split("T")[0],deliveryTimeSlot:{startTime:"12:00",endTime:"15:00"},deliveryArea:c[u],deliveryPincode:s[u],settlementId:r<10?`ST-2026-${(42+r).toString().padStart(3,"0")}`:void 0,settlementStatus:r<10?"settled":"pending",settlementDate:r<10?new Date(o.getTime()+2880*60*1e3).toISOString():void 0,hasIssue:!1,createdAt:new Date(o.getTime()-360*60*1e3).toISOString(),updatedAt:o.toISOString()})}return l}const Es=b.createContext(void 0);function $a({children:t}){const[l,a]=b.useState(Oa),{vendor:c}=Te(),{addNotification:s}=nt(),r=b.useMemo(()=>c?l.filter(u=>u.vendorId===c.id):[],[l,c]),o={orders:r,acceptOrder:async u=>{try{await new Promise(p=>setTimeout(p,500));const x=r.find(p=>p.id===u);return x?x.status!==f.OFFERED?{success:!1,error:"Can only accept orders with OFFERED status"}:(a(p=>p.map(h=>h.id===u?{...h,status:f.ACCEPTED,acceptedAt:new Date().toISOString()}:h)),s&&s({type:D.ORDER_ACCEPTED,priority:q.LOW,title:"Order Accepted",message:`You accepted ${x.orderNumber} for ${x.quantity} ${x.unit} of ${x.itemName}. Prepare for delivery by ${x.deliveryTimeSlot.startTime}.`,orderId:x.id,orderNumber:x.orderNumber,amount:x.totalPayoutAmount,ctaLabel:"View Order",ctaLink:`/vendor/orders/${x.id}`}),{success:!0}):{success:!1,error:"Order not found"}}catch{return{success:!1,error:"Failed to accept order. Please try again."}}},rejectOrder:async(u,x)=>{try{await new Promise(h=>setTimeout(h,500));const p=r.find(h=>h.id===u);return p?p.status!==f.OFFERED?{success:!1,error:"Can only reject orders with OFFERED status"}:(a(h=>h.map(N=>N.id===u?{...N,status:f.REJECTED,rejectedAt:new Date().toISOString(),rejectionReason:x}:N)),{success:!0}):{success:!1,error:"Order not found"}}catch{return{success:!1,error:"Failed to reject order. Please try again."}}},markAsReady:async u=>{try{await new Promise(p=>setTimeout(p,500));const x=r.find(p=>p.id===u);return x?x.status!==f.ACCEPTED&&x.status!==f.IN_PROGRESS?{success:!1,error:"Can only mark ACCEPTED or IN_PROGRESS orders as ready"}:(a(p=>p.map(h=>h.id===u?{...h,status:f.READY,readyAt:new Date().toISOString()}:h)),{success:!0}):{success:!1,error:"Order not found"}}catch{return{success:!1,error:"Failed to mark order as ready. Please try again."}}},markAsDelivered:async(u,x,p)=>{try{await new Promise(N=>setTimeout(N,500));const h=r.find(N=>N.id===u);return h?h.status!==f.READY?{success:!1,error:"Can only mark READY orders as delivered"}:x==="otp"?/^\d{6}$/.test(p)?(a(C=>C.map(v=>v.id===u?{...v,status:f.COMPLETED,deliveredAt:new Date().toISOString(),completedAt:new Date().toISOString(),verificationMethod:"otp",verificationData:"OTP verified"}:v)),s&&s({type:D.ORDER_COMPLETED,priority:q.MEDIUM,title:"Order Completed",message:`${h.orderNumber} has been completed successfully with OTP verification. Payment settlement will be processed within 3-5 business days.`,orderId:h.id,orderNumber:h.orderNumber,amount:h.totalPayoutAmount,ctaLabel:"View Order",ctaLink:`/vendor/orders/${h.id}`}),{success:!0}):{success:!1,error:"Invalid OTP format"}:x==="image"?(a(N=>N.map(C=>C.id===u?{...C,status:f.DELIVERED,deliveredAt:new Date().toISOString(),verificationMethod:"image",verificationData:p}:C)),s&&s({type:D.ORDER_UPDATE,priority:q.MEDIUM,title:"Order Marked as Delivered",message:`${h.orderNumber} has been marked as delivered with image proof. Awaiting buyer confirmation.`,orderId:h.id,orderNumber:h.orderNumber,amount:h.totalPayoutAmount,ctaLabel:"View Order",ctaLink:`/vendor/orders/${h.id}`}),{success:!0}):{success:!1,error:"Invalid verification type"}:{success:!1,error:"Order not found"}}catch{return{success:!1,error:"Failed to mark order as delivered. Please try again."}}},getOrderById:u=>r.find(x=>x.id===u)};return e.jsx(Es.Provider,{value:o,children:t})}function qe(){const t=b.useContext(Es);if(t===void 0)throw new Error("useVendorOrders must be used within a VendorOrdersProvider");return t}function Ba(){const{orders:t}=qe(),[l,a]=b.useState(!1),[c,s]=b.useState(null),r=n=>{const y=t.find(m=>m.id===n);y&&(console.log("Accepting order:",n),L.success(`Order ${y.orderNumber} accepted!`,{description:`You've accepted the order for ${y.itemName}`,duration:5e3,action:{label:"Undo",onClick:()=>{console.log("Undo accept:",n),L.info("Order acceptance cancelled")}}}))},d=n=>{const y=t.find(m=>m.id===n);y&&(s({id:y.id,orderNumber:y.orderNumber,itemName:y.itemName}),a(!0))},j=(n,y)=>{c&&(console.log("Rejecting order:",c.id,"Reason:",n,"Notes:",y),L.error(`Order ${c.orderNumber} rejected`,{description:`Reason: ${n}`,duration:5e3}),a(!1),s(null))};return e.jsxs("div",{className:"h-screen flex flex-col bg-neutral-50",children:[e.jsx(xa,{onAcceptOrder:r,onRejectOrder:d}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx(va,{}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx(Ys,{context:{onAcceptOrder:r,onRejectOrder:d}})})]}),c&&e.jsx(Cs,{isOpen:l,onClose:()=>{a(!1),s(null)},onConfirm:j,orderNumber:c.orderNumber,itemName:c.itemName})]})}function Za(){const t=G(),[l]=yt(),{login:a,isLoading:c}=Te(),[s,r]=b.useState("phone"),[d,j]=b.useState(""),[n,y]=b.useState(""),[m,o]=b.useState(!1);b.useEffect(()=>{l.get("demo")==="true"&&!c&&u()},[l]);const u=async()=>{const h="9876543210",N="123456";o(!0),await new Promise(v=>setTimeout(v,500));const C=await a(h,N);o(!1),C.success?(L.success("Demo account logged in successfully!"),t("/vendor/dashboard")):L.error(C.error||"Login failed")},x=async h=>{if(h.preventDefault(),d.length!==10||!/^\d{10}$/.test(d)){L.error("Please enter a valid 10-digit phone number");return}o(!0),await new Promise(N=>setTimeout(N,800)),o(!1),L.success("OTP sent to +91 "+d),r("otp")},p=async h=>{if(h.preventDefault(),n.length!==6||!/^\d{6}$/.test(n)){L.error("Please enter a valid 6-digit OTP");return}o(!0);const N=await a(d,n);o(!1),N.success?(L.success("Login successful!"),t("/vendor/dashboard")):L.error(N.error||"Login failed")};return e.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-neutral-200 p-8 shadow-sm",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Gt,{className:"h-16"})}),e.jsx("h1",{className:"text-xl font-bold text-neutral-900 mb-2",children:"Vendor Portal"}),e.jsx("p",{className:"text-sm text-neutral-600",children:s==="phone"?"Enter your phone number to continue":"Enter the OTP sent to +91 "+d})]}),s==="phone"&&e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"phone",className:"text-sm font-medium text-neutral-700",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500",children:"+91"}),e.jsx(he,{id:"phone",type:"tel",placeholder:"9876543210",value:d,onChange:h=>j(h.target.value.replace(/\D/g,"").slice(0,10)),className:"pl-12 h-12 text-base border-neutral-300 focus-visible:ring-primary-500",disabled:m,required:!0})]})]}),e.jsx(w,{type:"submit",className:"w-full h-12 bg-primary-600 hover:bg-primary-700 text-white font-medium",disabled:m||d.length!==10,children:m?e.jsxs(e.Fragment,{children:[e.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending OTP..."]}):"Send OTP"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-neutral-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"bg-white px-2 text-neutral-500",children:"or"})})]}),e.jsxs(w,{type:"button",variant:"outline",className:"w-full h-12 border-2 border-secondary-300 hover:bg-secondary-50 hover:border-secondary-400 text-neutral-700 font-medium",onClick:u,disabled:m,children:[e.jsx(as,{className:"w-4 h-4 mr-2 text-secondary-600"}),"Try Demo Account"]})]}),s==="otp"&&e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"otp",className:"text-sm font-medium text-neutral-700",children:"Enter OTP"}),e.jsx(he,{id:"otp",type:"text",inputMode:"numeric",placeholder:"123456",value:n,onChange:h=>y(h.target.value.replace(/\D/g,"").slice(0,6)),className:"h-12 text-center text-2xl tracking-widest border-neutral-300 focus-visible:ring-primary-500",disabled:m||c,required:!0,maxLength:6,autoFocus:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{type:"submit",className:"w-full h-12 bg-primary-600 hover:bg-primary-700 text-white font-medium",disabled:m||c||n.length!==6,children:m||c?e.jsxs(e.Fragment,{children:[e.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify & Login"}),e.jsx(w,{type:"button",variant:"ghost",className:"w-full h-10 text-neutral-600",onClick:()=>{r("phone"),y("")},disabled:m||c,children:"Change phone number"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",onClick:x,disabled:m||c,children:"Resend OTP"})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-neutral-600 hover:text-neutral-900",children:"← Back to Portal Selector"})}),e.jsx("p",{className:"text-center text-xs text-neutral-500 mt-6",children:"RealServ © 2026. All rights reserved."})]})})}function Ae({icon:t,iconBgColor:l="bg-primary-100",iconColor:a="text-primary-700",label:c,value:s,subtitle:r,trend:d}){return e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-6 relative",children:[e.jsx("div",{className:`absolute top-6 right-6 w-12 h-12 ${l} rounded-lg flex items-center justify-center`,children:e.jsx(t,{className:`w-6 h-6 ${a}`})}),e.jsxs("div",{className:"pr-16",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:c}),e.jsx("p",{className:"text-xl font-bold text-neutral-900 whitespace-nowrap",children:s}),d&&e.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[e.jsxs("span",{className:`text-sm font-medium ${d.value>=0?"text-success-600":"text-error-600"}`,children:[d.value>=0?"+":"",d.value,"%"]}),e.jsx("span",{className:"text-xs text-neutral-500",children:d.label})]}),r&&!d&&e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:r})]})]})}function _(t){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t)}function Ha(){const t=G(),{orders:l}=qe(),a=b.useMemo(()=>{const r=new Date,d=new Date(r.getFullYear(),r.getMonth(),1),j=l.filter(m=>m.status===f.OFFERED),n=l.filter(m=>m.status===f.ACCEPTED||m.status===f.IN_PROGRESS),y=l.filter(m=>m.status!==f.COMPLETED?!1:new Date(m.createdAt)>=d).reduce((m,o)=>m+o.totalPayoutAmount,0);return{pendingOffers:j.length,activeOrders:n.length,monthRevenue:y}},[l]),c=b.useMemo(()=>l.filter(r=>r.status===f.OFFERED).slice(0,5),[l]),s=b.useMemo(()=>l.filter(r=>r.status===f.ACCEPTED||r.status===f.IN_PROGRESS).slice(0,5),[l]);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Welcome to RealServ Vendor Portal"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ae,{icon:ge,iconBgColor:"bg-warning-100",iconColor:"text-warning-700",label:"Pending Offers",value:a.pendingOffers,subtitle:"Need response"}),e.jsx(Ae,{icon:X,iconBgColor:"bg-primary-100",iconColor:"text-primary-700",label:"Active Orders",value:a.activeOrders,subtitle:"In progress"}),e.jsx(Ae,{icon:ft,iconBgColor:"bg-success-100",iconColor:"text-success-700",label:"This Month",value:_(a.monthRevenue),subtitle:"Revenue"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5 text-warning-700"}),e.jsx("h2",{className:"font-semibold text-neutral-900",children:"Pending Offers"}),a.pendingOffers>0&&e.jsx(S,{className:"bg-warning-600 text-white",children:a.pendingOffers})]}),a.pendingOffers>5&&e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>t("/vendor/orders?filter=offered"),children:["View All",e.jsx(It,{className:"w-4 h-4 ml-1"})]})]})}),c.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(ge,{className:"w-12 h-12 text-neutral-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"No pending offers at the moment"})]}):e.jsx("div",{className:"divide-y divide-neutral-200",children:c.map(r=>e.jsxs("div",{className:"px-6 py-3 hover:bg-neutral-50 cursor-pointer flex items-center justify-between",onClick:()=>t(`/vendor/orders/${r.id}`),children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:r.orderNumber}),r.offerExpiresAt&&e.jsx(it,{expiresAt:r.offerExpiresAt})]}),e.jsxs("div",{className:"text-sm text-neutral-600 truncate",children:[r.itemName," × ",r.quantity," ",r.unit]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-neutral-500 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3"}),I(r.deliveryDate)]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:r.deliveryArea})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("div",{className:"font-semibold text-neutral-900",children:_(r.totalPayoutAmount)}),e.jsx(w,{size:"sm",className:"mt-1",children:"Accept"})]})]},r.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-primary-700"}),e.jsx("h2",{className:"font-semibold text-neutral-900",children:"Active Orders"})]}),a.activeOrders>5&&e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>t("/vendor/orders"),children:["View All",e.jsx(It,{className:"w-4 h-4 ml-1"})]})]})}),s.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(X,{className:"w-12 h-12 text-neutral-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"No active orders at the moment"})]}):e.jsx("div",{className:"divide-y divide-neutral-200",children:s.map(r=>e.jsxs("div",{className:"px-6 py-3 hover:bg-neutral-50 cursor-pointer flex items-center justify-between",onClick:()=>t(`/vendor/orders/${r.id}`),children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-neutral-900",children:r.orderNumber}),e.jsxs("div",{className:"text-sm text-neutral-600 truncate",children:[r.itemName," × ",r.quantity," ",r.unit]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-neutral-500 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3"}),I(r.deliveryDate)]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:r.deliveryArea})]})]}),e.jsx("div",{className:"text-right ml-4",children:e.jsx(S,{variant:"outline",className:r.status===f.ACCEPTED?"bg-primary-100 text-primary-700 border-primary-200":"bg-blue-100 text-blue-700 border-blue-200",children:r.status===f.ACCEPTED?"Accepted":"In Progress"})})]},r.id))})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200",children:[e.jsxs("div",{className:"bg-primary-50 px-6 py-4 border-b border-primary-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5 text-primary-700"}),e.jsx("h2",{className:"font-semibold text-neutral-900",children:"Help & Support"})]}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"We're here to help you succeed"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"Contact Us"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"tel:+911234567890",className:"flex items-start gap-3 text-sm text-neutral-700 hover:text-primary-700 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-100 flex items-center justify-center flex-shrink-0 group-hover:bg-primary-200 transition-colors",children:e.jsx(Oe,{className:"w-4 h-4 text-primary-700"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Call Us"}),e.jsx("div",{className:"text-xs text-neutral-500",children:"+91 123 456 7890"})]})]}),e.jsxs("a",{href:"mailto:vendor-support@realserv.com",className:"flex items-start gap-3 text-sm text-neutral-700 hover:text-primary-700 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-100 flex items-center justify-center flex-shrink-0 group-hover:bg-primary-200 transition-colors",children:e.jsx($e,{className:"w-4 h-4 text-primary-700"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Email Us"}),e.jsx("div",{className:"text-xs text-neutral-500",children:"vendor-support@realserv.com"})]})]}),e.jsxs("a",{href:"https://wa.me/911234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-3 text-sm text-neutral-700 hover:text-primary-700 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-100 flex items-center justify-center flex-shrink-0 group-hover:bg-primary-200 transition-colors",children:e.jsx(Gs,{className:"w-4 h-4 text-primary-700"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"WhatsApp"}),e.jsx("div",{className:"text-xs text-neutral-500",children:"Chat with support"})]})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"Support Hours"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600",children:"Monday - Saturday"}),e.jsx("span",{className:"font-medium text-neutral-900",children:"9:00 AM - 6:00 PM"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600",children:"Sunday"}),e.jsx("span",{className:"font-medium text-neutral-900",children:"Closed"})]})]}),e.jsx("p",{className:"text-xs text-neutral-500 mt-3",children:"Average response time: 2-4 hours"})]}),e.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[e.jsx("h3",{className:"text-sm text-neutral-900 mb-3",children:"Common Questions"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("button",{onClick:()=>t("/vendor/support?question=catalog"),className:"block w-full text-left text-neutral-600 hover:text-primary-700 hover:underline cursor-pointer text-[14px]",children:"• How to update my catalog?"}),e.jsx("button",{onClick:()=>t("/vendor/support?question=payment"),className:"block w-full text-left text-neutral-600 hover:text-primary-700 hover:underline cursor-pointer text-[14px]",children:"• When will I receive payment?"}),e.jsx("button",{onClick:()=>t("/vendor/support?question=offers"),className:"block w-full text-left text-neutral-600 hover:text-primary-700 hover:underline cursor-pointer text-[14px]",children:"• How to respond to offers?"}),e.jsx("button",{onClick:()=>t("/vendor/support?question=delivery"),className:"block w-full text-left text-neutral-600 hover:text-primary-700 hover:underline cursor-pointer text-[14px]",children:"• Delivery requirements"})]}),e.jsx("p",{className:"text-xs text-primary-700 mt-3",children:"Click any question to view details"})]})]})]})})]})]})}function ct({data:t,columns:l,searchable:a=!0,searchPlaceholder:c="Search...",pageSize:s=10,emptyMessage:r="No data available",onRowClick:d,loading:j=!1,stickyHeader:n=!0,getRowClassName:y,pageSizeOptions:m=[10,20,50,100],showPageSizeSelector:o=!0,showPaginationInfo:u=!0,showFirstLastButtons:x=!0}){const[p,h]=b.useState(""),[N,C]=b.useState(1),[v,A]=b.useState(s),[P,z]=b.useState(null),Y=p?t.filter(T=>Object.values(T).some(B=>String(B).toLowerCase().includes(p.toLowerCase()))):t,K=P?[...Y].sort((T,B)=>{const H=T[P.key],Ne=B[P.key];if(H===Ne)return 0;const Ye=H<Ne?-1:1;return P.direction==="asc"?Ye:-Ye}):Y,i=Math.ceil(K.length/v),k=(N-1)*v,g=K.slice(k,k+v),E=T=>{z(B=>!B||B.key!==T?{key:T,direction:"asc"}:B.direction==="asc"?{key:T,direction:"desc"}:null)},F=T=>{switch(T){case"right":return"text-right";case"center":return"text-center";default:return"text-left"}},ae=T=>!P||P.key!==T?e.jsx(tr,{className:"ml-2 h-4 w-4 text-neutral-400"}):P.direction==="asc"?e.jsx(sr,{className:"ml-2 h-4 w-4 text-primary-700 font-bold"}):e.jsx(rr,{className:"ml-2 h-4 w-4 text-primary-700 font-bold"});return e.jsxs("div",{className:"space-y-4",children:[a&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),e.jsx(he,{placeholder:c,value:p,onChange:T=>{h(T.target.value),C(1)},className:"pl-9"})]}),e.jsxs("div",{className:"text-sm text-neutral-600",children:[Y.length," ",Y.length===1?"result":"results"]})]}),e.jsx("div",{className:"border-2 border-neutral-200 rounded-xl overflow-hidden bg-white",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(zs,{children:[e.jsx(Ks,{className:n?"sticky top-0 z-10 bg-surface-2":"",children:e.jsx(Ge,{className:"bg-surface-2 hover:bg-surface-2 border-b-2 border-neutral-200",children:l.map(T=>{const B=(P==null?void 0:P.key)===T.key;return e.jsx(Xs,{className:`${F(T.align)} text-xs font-semibold uppercase tracking-wider px-6 py-4 ${B?"text-primary-700":"text-neutral-600"}`,style:{width:T.width},children:T.sortable?e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>E(T.key),className:`-ml-3 h-9 font-semibold uppercase hover:bg-neutral-200 ${F(T.align)} ${B?"text-primary-700":"text-neutral-600"}`,children:[T.label,ae(T.key)]}):e.jsx("span",{className:"font-semibold uppercase",children:T.label})},T.key)})})}),e.jsx(Qs,{children:j?e.jsx(Ge,{children:e.jsx(ot,{colSpan:l.length,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"Loading..."})]})})}):g.length===0?e.jsx(Ge,{children:e.jsx(ot,{colSpan:l.length,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(pe,{className:"w-12 h-12 text-neutral-300"}),e.jsx("p",{className:"text-neutral-600 font-medium",children:r}),p&&e.jsx("p",{className:"text-sm text-neutral-500",children:"Try adjusting your search query"})]})})}):g.map((T,B)=>e.jsx(Ge,{onClick:()=>d&&d(T),className:`
                      ${d?"cursor-pointer hover:bg-neutral-50":"hover:bg-neutral-50/50"}
                      transition-colors
                      ${y?y(T):""}
                    `,children:l.map(H=>e.jsx(ot,{className:`${F(H.align)} px-6 py-4`,children:H.render?H.render(T):T[H.key]},H.key))},B))})]})})}),!j&&i>1&&e.jsxs("div",{className:"flex items-center justify-between px-2",children:[u&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:["Showing ",e.jsx("span",{className:"font-medium",children:k+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(k+v,K.length)})," of"," ",e.jsx("span",{className:"font-medium",children:K.length})]}),o&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Rows per page:"}),e.jsxs(ie,{value:v.toString(),onValueChange:T=>{const B=parseInt(T,10);C(1),A(B)},children:[e.jsx(ce,{className:"h-8 w-[70px]",children:e.jsx(oe,{})}),e.jsx(de,{children:m.map(T=>e.jsx(R,{value:T.toString(),children:T},T))})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[x&&e.jsx(w,{variant:"outline",size:"sm",onClick:()=>C(1),disabled:N===1,className:"h-8 px-2",title:"First page",children:e.jsx(Ws,{className:"w-4 h-4"})}),e.jsxs(w,{variant:"outline",size:"sm",onClick:()=>C(T=>Math.max(1,T-1)),disabled:N===1,className:"h-8",children:[e.jsx(Js,{className:"w-4 h-4 mr-1"}),"Previous"]}),e.jsxs("div",{className:"text-sm font-medium text-neutral-700 px-2",children:["Page ",N," of ",i]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:()=>C(T=>Math.min(i,T+1)),disabled:N===i,className:"h-8",children:["Next",e.jsx(ve,{className:"w-4 h-4 ml-1"})]}),x&&e.jsx(w,{variant:"outline",size:"sm",onClick:()=>C(i),disabled:N===i,className:"h-8 px-2",title:"Last page",children:e.jsx(er,{className:"w-4 h-4"})})]})]}),!j&&i<=1&&K.length>0&&e.jsxs("div",{className:"px-2 text-sm text-neutral-600",children:["Showing ",e.jsx("span",{className:"font-medium",children:K.length})," ",K.length===1?"result":"results"]})]})}function Ft({orders:t,onOrderClick:l,currentTab:a,onAcceptOrder:c,onRejectOrder:s}){const r=G(),d=h=>{const C={[f.OFFERED]:{label:"New Offer",className:"bg-warning-100 text-warning-700 border-warning-200"},[f.ACCEPTED]:{label:"Accepted",className:"bg-primary-100 text-primary-700 border-primary-200"},[f.IN_PROGRESS]:{label:"In Progress",className:"bg-blue-100 text-blue-700 border-blue-200"},[f.READY]:{label:"Ready",className:"bg-success-100 text-success-700 border-success-200"},[f.COMPLETED]:{label:"Completed",className:"bg-success-100 text-success-700 border-success-200"},[f.REJECTED]:{label:"Rejected",className:"bg-neutral-100 text-neutral-700 border-neutral-200"},[f.ISSUE]:{label:"Issue",className:"bg-error-100 text-error-700 border-error-200"},[f.CANCELLED]:{label:"Cancelled",className:"bg-error-100 text-error-700 border-error-200"}}[h];return C?e.jsx(S,{variant:"outline",className:C.className,children:C.label}):e.jsx(S,{variant:"outline",className:"bg-neutral-100 text-neutral-700 border-neutral-200",children:h})},j=h=>{l?l(h.id):r(`/vendor/orders/${h.id}`,{state:{fromTab:a}})},n=[{key:"orderNumber",label:"Order Number",sortable:!0,width:a==="requests"?"12%":"15%",render:h=>e.jsx("div",{className:"font-medium text-neutral-900",children:h.orderNumber})}],y={key:"timeRemaining",label:"Time Remaining",width:"12%",render:h=>e.jsx("div",{children:h.offerExpiresAt&&e.jsx(it,{expiresAt:h.offerExpiresAt})})},m=[{key:"itemName",label:"Item & Quantity",width:"20%",render:h=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-neutral-900",children:h.itemName}),e.jsxs("div",{className:"text-xs text-neutral-500 mt-0.5",children:[h.quantity," ",h.unit]})]})},{key:"deliveryDate",label:"Delivery",sortable:!0,width:"15%",render:h=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-neutral-900",children:I(h.deliveryDate)}),e.jsxs("div",{className:"text-xs text-neutral-500 mt-0.5",children:[h.deliveryTimeSlot.startTime,"-",h.deliveryTimeSlot.endTime]})]})},{key:"totalPayoutAmount",label:"Payout",sortable:!0,align:"right",width:"10%",render:h=>e.jsx("div",{className:"font-semibold text-neutral-900",children:_(h.totalPayoutAmount)})}],o={key:"status",label:"Status",sortable:!0,width:"10%",render:h=>d(h.status)},u={key:"paymentStatus",label:"Payment",sortable:!1,width:"12%",render:h=>h.status===f.COMPLETED?h.settlementStatus==="settled"?e.jsxs("div",{children:[e.jsx(S,{variant:"outline",className:"bg-success-100 text-success-700 border-success-200 mb-1",children:"Settled"}),h.settlementDate&&e.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:I(h.settlementDate)})]}):h.settlementStatus==="processing"?e.jsx(S,{variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-200",children:"Processing"}):e.jsx(S,{variant:"outline",className:"bg-warning-100 text-warning-700 border-warning-200",children:"Awaiting Settlement"}):e.jsx("span",{className:"text-xs text-neutral-400",children:"-"})},x={key:"actions",label:"Actions",width:"16%",align:"right",render:h=>e.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:N=>N.stopPropagation(),children:[e.jsxs(w,{size:"sm",onClick:N=>{N.stopPropagation(),c==null||c(h.id)},className:"bg-success-600 hover:bg-success-700 text-white h-9 px-4 border-2 border-success-600",children:[e.jsx(Le,{className:"w-4 h-4 mr-1.5"}),"Accept"]}),e.jsxs(w,{size:"sm",variant:"outline",onClick:N=>{N.stopPropagation(),s==null||s(h.id)},className:"border-2 border-error-600 text-error-600 hover:bg-error-50 hover:text-error-700 h-9 px-4",children:[e.jsx(ke,{className:"w-4 h-4 mr-1.5"}),"Reject"]})]})},p=a==="requests"?[...n,y,...m,x]:[...n.slice(0,1),{key:"createdAt",label:"Date",sortable:!0,width:"15%",render:h=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-neutral-900",children:I(h.createdAt)}),e.jsx("div",{className:"text-xs text-neutral-500 mt-0.5",children:me(h.createdAt)})]})},...m,o,u];return t.length===0?e.jsxs("div",{className:"border border-neutral-200 rounded-lg p-12 text-center bg-white",children:[e.jsx(X,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"No orders found"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"Orders matching your filters will appear here."})]}):e.jsx(ct,{data:t,columns:p,searchable:!1,pageSize:10,onRowClick:j,emptyMessage:"No orders found",stickyHeader:!0,showPageSizeSelector:!0,showPaginationInfo:!0,showFirstLastButtons:!0})}function Va({orders:t,filename:l="orders",disabled:a=!1}){const c=()=>{if(t.length===0)return;const s=["Order Number","Date","Time","Item Name","Quantity","Unit","Delivery Date","Delivery Time","Delivery Area","Status","Base Amount","RealServ Fee","Logistics Fee","Total Payout","Settlement Status"],r=t.map(m=>{var o;return[m.orderNumber,I(m.createdAt),me(m.createdAt),m.itemName,m.quantity.toString(),m.unit,I(m.deliveryDate),`${m.deliveryTimeSlot.startTime}-${m.deliveryTimeSlot.endTime}`,m.deliveryArea,m.status.replace("_"," ").toUpperCase(),m.basePayoutAmount.toString(),m.realservFee.toString(),((o=m.logisticsFee)==null?void 0:o.toString())||"0",m.totalPayoutAmount.toString(),m.settlementStatus||"Pending"]}),d=[s.join(","),...r.map(m=>m.map(o=>`"${o}"`).join(","))].join(`
`),j=new Blob([d],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),y=URL.createObjectURL(j);n.setAttribute("href",y),n.setAttribute("download",`${l}_${new Date().toISOString().split("T")[0]}.csv`),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)};return e.jsxs(w,{variant:"outline",size:"sm",onClick:c,disabled:a||t.length===0,className:"border-neutral-300 text-neutral-700 hover:bg-neutral-50",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Export CSV"]})}function qa(){const{orders:t}=qe(),l=bt(),[a,c]=b.useState(""),[s,r]=b.useState("all"),[d,j]=b.useState("all"),[n,y]=b.useState("all"),[m,o]=b.useState("requests"),[u,x]=b.useState(!1),[p,h]=b.useState(null);b.useEffect(()=>{const g=l.state;g!=null&&g.activeTab&&(o(g.activeTab),window.history.replaceState({},document.title))},[l.state]);const N=b.useMemo(()=>{const g=new Set(t.filter(E=>E.itemCategory).map(E=>E.itemCategory));return Array.from(g).sort()},[t]),C={cement:"Cement",sand:"Sand",aggregate:"Aggregate",steel:"Steel"},v=b.useMemo(()=>{const g=[f.OFFERED,f.ACCEPTED,f.IN_PROGRESS],E=t.reduce((T,B)=>T+B.totalPayoutAmount,0),F=new Date,ae=t.filter(T=>T.status!==f.OFFERED?!1:T.offerExpiresAt?new Date(T.offerExpiresAt)>F:!0).length;return{all:t.length,requests:ae,myOrders:t.filter(T=>T.status!==f.OFFERED).length,active:t.filter(T=>g.includes(T.status)).length,completed:t.filter(T=>T.status===f.COMPLETED).length,totalPayout:E}},[t]),A=b.useMemo(()=>{let g=[...t];if(m==="requests"?g=g.filter(E=>E.status!==f.OFFERED?!1:E.offerExpiresAt?new Date(E.offerExpiresAt)>new Date:!0):g=g.filter(E=>E.status!==f.OFFERED),s!=="all"&&(s==="active"?g=g.filter(E=>E.status===f.ACCEPTED||E.status===f.IN_PROGRESS||E.status===f.READY):g=g.filter(E=>E.status===s)),d!=="all"&&(g=g.filter(E=>E.itemCategory===d)),n!=="all"&&(g=g.filter(E=>E.settlementStatus===n)),g.sort((E,F)=>new Date(F.createdAt).getTime()-new Date(E.createdAt).getTime()),a.trim()){const E=a.toLowerCase();g=g.filter(F=>F.orderNumber.toLowerCase().includes(E)||F.itemName.toLowerCase().includes(E))}return g},[t,a,s,d,m,n]),P=[];if(s!=="all"){const g={[f.ACCEPTED]:"Accepted",[f.IN_PROGRESS]:"In Progress",[f.READY]:"Ready",[f.COMPLETED]:"Completed",[f.REJECTED]:"Rejected",[f.CANCELLED]:"Cancelled",[f.OFFERED]:"Order Requests",active:"Active"};P.push({type:"status",label:"Status",value:g[s],onRemove:()=>r("all")})}if(d!=="all"&&P.push({type:"category",label:"Category",value:C[d]||d,onRemove:()=>j("all")}),n!=="all"){const g={all:"All Settlements",pending:"Pending",processing:"Processing",settled:"Settled"};P.push({type:"settlement",label:"Settlement Status",value:g[n],onRemove:()=>y("all")})}const z=()=>{r("all"),j("all"),y("all")},Y=P.length>0,K=g=>{const E=t.find(F=>F.id===g);E&&(console.log("Accepting order:",g),L.success(`Order ${E.orderNumber} accepted!`,{description:`You've accepted the order for ${E.itemName}`,duration:5e3,action:{label:"Undo",onClick:()=>{console.log("Undo accept:",g),L.info("Order acceptance cancelled")}}}))},i=g=>{const E=t.find(F=>F.id===g);E&&(h({id:E.id,orderNumber:E.orderNumber,itemName:E.itemName}),x(!0))},k=(g,E)=>{p&&(console.log("Rejecting order:",p.id,"Reason:",g,"Notes:",E),L.error(`Order ${p.orderNumber} rejected`,{description:`Reason: ${g}`,duration:5e3}),x(!1),h(null))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Orders"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Manage order requests and track your order history"})]}),e.jsx(Va,{orders:A,filename:"realserv_orders"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ae,{icon:se,iconBgColor:"bg-warning-100",iconColor:"text-warning-700",label:"Pending Requests",value:v.requests,subtitle:"Awaiting your response"}),e.jsx(Ae,{icon:X,iconBgColor:"bg-primary-100",iconColor:"text-primary-700",label:"Active Orders",value:v.active-v.requests,subtitle:"In progress"}),e.jsx(Ae,{icon:be,iconBgColor:"bg-success-100",iconColor:"text-success-700",label:"Completed",value:v.completed,subtitle:"Successfully delivered"}),e.jsx(Ae,{icon:ye,iconBgColor:"bg-secondary-100",iconColor:"text-secondary-700",label:"Total Payout",value:ar(v.totalPayout),subtitle:"All orders"})]}),e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b-2 border-neutral-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx(he,{placeholder:"Search by order number, item name, or delivery area...",value:a,onChange:g=>c(g.target.value),className:"pl-10 h-11"})]})}),e.jsx("div",{className:"px-4 py-3 bg-neutral-50 border-t-2 border-neutral-200",children:e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs(ie,{value:s,onValueChange:g=>r(g),children:[e.jsx(ce,{className:"w-[180px] h-10 border-2 bg-white",children:e.jsx(oe,{placeholder:"Status"})}),e.jsxs(de,{children:[e.jsx(R,{value:"all",children:"All Statuses"}),e.jsx(R,{value:"active",children:"Active"}),e.jsx(R,{value:f.OFFERED,children:"Order Requests"}),e.jsx(R,{value:f.ACCEPTED,children:"Accepted"}),e.jsx(R,{value:f.IN_PROGRESS,children:"In Progress"}),e.jsx(R,{value:f.READY,children:"Ready"}),e.jsx(R,{value:f.COMPLETED,children:"Completed"}),e.jsx(R,{value:f.REJECTED,children:"Rejected"}),e.jsx(R,{value:f.CANCELLED,children:"Cancelled"})]})]}),e.jsxs(ie,{value:d,onValueChange:j,children:[e.jsx(ce,{className:"w-[180px] h-10 border-2 bg-white",children:e.jsx(oe,{placeholder:"Category"})}),e.jsxs(de,{children:[e.jsx(R,{value:"all",children:"All Categories"}),N.map(g=>e.jsx(R,{value:g,children:C[g]||g},g))]})]}),e.jsxs(ie,{value:n,onValueChange:y,children:[e.jsx(ce,{className:"w-[180px] h-10 border-2 bg-white",children:e.jsx(oe,{placeholder:"Settlement Status"})}),e.jsxs(de,{children:[e.jsx(R,{value:"all",children:"All Settlements"}),e.jsx(R,{value:"pending",children:"Pending"}),e.jsx(R,{value:"processing",children:"Processing"}),e.jsx(R,{value:"settled",children:"Settled"})]})]})]})}),Y&&e.jsx("div",{className:"px-4 py-3 bg-primary-50/30 border-t-2 border-primary-100",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs font-medium text-neutral-600",children:"Active filters:"}),P.map((g,E)=>e.jsxs("button",{onClick:g.onRemove,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-white border-2 border-neutral-300 text-sm text-neutral-700 hover:bg-neutral-50 hover:border-neutral-400 transition-colors",children:[e.jsxs("span",{className:"font-medium text-neutral-500",children:[g.label,":"]}),e.jsx("span",{children:g.value}),e.jsx(ke,{className:"w-3.5 h-3.5 text-neutral-500"})]},E)),e.jsx("button",{type:"button",onClick:z,className:"text-xs text-primary-700 hover:text-primary-800 font-medium underline",children:"Clear all filters"})]})})]}),e.jsxs(ls,{value:m,onValueChange:g=>{o(g)},className:"mt-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(ns,{children:[e.jsxs(Je,{value:"requests",children:["Order Requests",v.requests>0&&e.jsx(S,{variant:"outline",className:"ml-2 bg-warning-100 text-warning-700 border-warning-200 px-1.5 py-0 text-xs",children:v.requests})]}),e.jsx(Je,{value:"my-orders",children:"My Orders"})]})}),e.jsxs(et,{value:"requests",className:"pt-0",children:[e.jsx("div",{className:"bg-warning-50 border-2 border-warning-200 rounded-xl p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-warning-800",children:[e.jsx("strong",{children:"New Order Requests:"})," Review and accept orders that match your availability and service areas. You have 15 minutes to respond. If you don't respond, the request will automatically be declined."]})}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"font-semibold text-neutral-900",children:"Order Requests"}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-neutral-900",children:A.length})," order request",A.length!==1?"s":""]})]})}),e.jsx(Ft,{orders:A,currentTab:m,onAcceptOrder:K,onRejectOrder:i})]}),e.jsxs(et,{value:"my-orders",className:"pt-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"font-semibold text-neutral-900",children:"My Orders"}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-neutral-900",children:A.length})," of"," ",e.jsx("span",{className:"font-semibold text-neutral-900",children:v.myOrders})," order",v.myOrders!==1?"s":""]})]})}),e.jsx(Ft,{orders:A,currentTab:m,onAcceptOrder:K,onRejectOrder:i})]})]}),p&&e.jsx(Cs,{isOpen:u,onClose:()=>{x(!1),h(null)},onConfirm:k,orderNumber:p.orderNumber,itemName:p.itemName})]})}function At(t,l){const a=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <title>${l}</title>
      <style>
        @page {
          size: A4;
          margin: 2cm;
        }
        body {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
          font-size: 10pt;
          line-height: 1.4;
          color: #1a1a1a;
        }
        .header {
          text-align: center;
          margin-bottom: 30px;
          padding-bottom: 20px;
          border-bottom: 3px solid #2F3E46;
        }
        .logo {
          font-size: 24pt;
          font-weight: bold;
          color: #2F3E46;
          margin-bottom: 5px;
        }
        .tagline {
          font-size: 9pt;
          color: #666;
        }
        .document-title {
          font-size: 16pt;
          font-weight: bold;
          color: #2F3E46;
          margin: 20px 0 10px 0;
        }
        .section {
          margin: 20px 0;
        }
        .section-title {
          font-size: 11pt;
          font-weight: bold;
          color: #2F3E46;
          margin-bottom: 10px;
          padding-bottom: 5px;
          border-bottom: 1px solid #ddd;
        }
        .info-row {
          display: flex;
          justify-content: space-between;
          margin: 5px 0;
        }
        .label {
          font-weight: 600;
          color: #555;
        }
        .value {
          color: #1a1a1a;
        }
        table {
          width: 100%;
          border-collapse: collapse;
          margin: 15px 0;
        }
        th {
          background-color: #2F3E46;
          color: white;
          padding: 10px;
          text-align: left;
          font-weight: 600;
          font-size: 9pt;
        }
        td {
          padding: 8px 10px;
          border-bottom: 1px solid #e0e0e0;
        }
        tr:nth-child(even) {
          background-color: #f9f9f9;
        }
        .total-row {
          font-weight: bold;
          background-color: #f0f0f0 !important;
        }
        .footer {
          margin-top: 40px;
          padding-top: 20px;
          border-top: 2px solid #2F3E46;
          text-align: center;
          font-size: 8pt;
          color: #666;
        }
        .notes {
          background-color: #f9f9f9;
          padding: 15px;
          border-left: 3px solid #D2B48C;
          margin: 20px 0;
          font-size: 9pt;
        }
      </style>
    </head>
    <body>
      ${t}
    </body>
    </html>
  `,c=new Blob([a],{type:"text/html"}),s=document.createElement("a"),r=URL.createObjectURL(c);s.setAttribute("href",r),s.setAttribute("download",`${l}.html`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function Ya(t){const l=`
    <div class="header">
      <div class="logo">RealServ</div>
      <div class="tagline">Building Materials & Labor Marketplace</div>
    </div>

    <div class="document-title">TAX INVOICE</div>

    <div class="section">
      <div class="section-title">Invoice Details</div>
      <div class="info-row">
        <span class="label">Invoice Number:</span>
        <span class="value">INV-${t.orderNumber}</span>
      </div>
      <div class="info-row">
        <span class="label">Invoice Date:</span>
        <span class="value">${I(t.orderDate)}</span>
      </div>
      <div class="info-row">
        <span class="label">Order Number:</span>
        <span class="value">${t.orderNumber}</span>
      </div>
    </div>

    <div class="section">
      <div class="section-title">Vendor Details (From)</div>
      <div class="info-row">
        <span class="label">Vendor Name:</span>
        <span class="value">${t.vendorName}</span>
      </div>
      ${t.vendorGST?`
      <div class="info-row">
        <span class="label">GST Number:</span>
        <span class="value">${t.vendorGST}</span>
      </div>
      `:""}
      ${t.vendorAddress?`
      <div class="info-row">
        <span class="label">Address:</span>
        <span class="value">${t.vendorAddress}</span>
      </div>
      `:""}
    </div>

    <div class="section">
      <div class="section-title">Buyer Details (To)</div>
      <div class="info-row">
        <span class="label">Buyer Name:</span>
        <span class="value">${t.buyerName}</span>
      </div>
      <div class="info-row">
        <span class="label">Delivery Address:</span>
        <span class="value">${t.deliveryAddress}, ${t.deliveryArea}</span>
      </div>
    </div>

    <div class="section">
      <div class="section-title">Item Details</div>
      <table>
        <thead>
          <tr>
            <th>Item Description</th>
            <th style="text-align: right;">Quantity</th>
            <th style="text-align: right;">Unit Price</th>
            <th style="text-align: right;">Total Amount</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>${t.itemName}</td>
            <td style="text-align: right;">${t.quantity} ${t.unit}</td>
            <td style="text-align: right;">${_(t.unitPrice)}</td>
            <td style="text-align: right;">${_(t.totalAmount)}</td>
          </tr>
          <tr class="total-row">
            <td colspan="3" style="text-align: right;">TOTAL AMOUNT:</td>
            <td style="text-align: right;">${_(t.totalAmount)}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="notes">
      <strong>Notes:</strong><br>
      • Payment will be processed as per RealServ's standard settlement schedule.<br>
      • This is a computer-generated invoice and does not require a physical signature.<br>
      • For any queries, please contact RealServ support.
    </div>

    <div class="footer">
      RealServ Marketplace | Hyderabad, India<br>
      This is a system-generated document. For support, visit your vendor portal.
    </div>
  `;At(l,`Invoice_${t.orderNumber}_${I(new Date)}`)}function Ga(t){const l=`
    <div class="header">
      <div class="logo">RealServ</div>
      <div class="tagline">Building Materials & Labor Marketplace</div>
    </div>

    <div class="document-title">DELIVERY CHALLAN</div>

    <div class="section">
      <div class="section-title">Challan Details</div>
      <div class="info-row">
        <span class="label">Challan Number:</span>
        <span class="value">DC-${t.orderNumber}</span>
      </div>
      <div class="info-row">
        <span class="label">Challan Date:</span>
        <span class="value">${I(t.deliveryDate||t.orderDate)}</span>
      </div>
      <div class="info-row">
        <span class="label">Order Number:</span>
        <span class="value">${t.orderNumber}</span>
      </div>
    </div>

    <div class="section">
      <div class="section-title">Supplier Details (From)</div>
      <div class="info-row">
        <span class="label">Vendor Name:</span>
        <span class="value">${t.vendorName}</span>
      </div>
    </div>

    <div class="section">
      <div class="section-title">Delivery Details (To)</div>
      <div class="info-row">
        <span class="label">Buyer Name:</span>
        <span class="value">${t.buyerName}</span>
      </div>
      <div class="info-row">
        <span class="label">Delivery Address:</span>
        <span class="value">${t.deliveryAddress}, ${t.deliveryArea}</span>
      </div>
      ${t.deliveryInstructions?`
      <div class="info-row">
        <span class="label">Special Instructions:</span>
        <span class="value">${t.deliveryInstructions}</span>
      </div>
      `:""}
    </div>

    <div class="section">
      <div class="section-title">Material Details</div>
      <table>
        <thead>
          <tr>
            <th>Item Description</th>
            <th style="text-align: right;">Quantity Delivered</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>${t.itemName}</td>
            <td style="text-align: right;">${t.quantity} ${t.unit}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="section" style="margin-top: 60px;">
      <div style="display: flex; justify-content: space-between;">
        <div style="width: 45%;">
          <div style="border-top: 2px solid #2F3E46; padding-top: 10px;">
            <strong>Vendor Signature</strong><br>
            <span style="font-size: 8pt; color: #666;">Name: ${t.vendorName}</span>
          </div>
        </div>
        <div style="width: 45%;">
          <div style="border-top: 2px solid #2F3E46; padding-top: 10px;">
            <strong>Buyer Signature</strong><br>
            <span style="font-size: 8pt; color: #666;">Name: ${t.buyerName}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="notes">
      <strong>Notes:</strong><br>
      • Please verify the quantity and quality of materials upon delivery.<br>
      • Report any discrepancies immediately through the RealServ app.<br>
      • This challan must be signed by both parties for order completion.
    </div>

    <div class="footer">
      RealServ Marketplace | Hyderabad, India<br>
      This is a system-generated document.
    </div>
  `;At(l,`DeliveryChallan_${t.orderNumber}_${I(new Date)}`)}function za(t){const l=`
    <div class="header">
      <div class="logo">RealServ</div>
      <div class="tagline">Building Materials & Labor Marketplace</div>
    </div>

    <div class="document-title">VENDOR PERFORMANCE REPORT</div>

    <div class="section">
      <div class="section-title">Report Details</div>
      <div class="info-row">
        <span class="label">Vendor Name:</span>
        <span class="value">${t.vendorName}</span>
      </div>
      <div class="info-row">
        <span class="label">Report Period:</span>
        <span class="value">${t.reportPeriod}</span>
      </div>
      <div class="info-row">
        <span class="label">Generated On:</span>
        <span class="value">${I(new Date)}</span>
      </div>
    </div>

    <div class="section">
      <div class="section-title">Overall Performance</div>
      <table>
        <tbody>
          <tr class="total-row">
            <td><strong>Overall Performance Score:</strong></td>
            <td style="text-align: right; font-size: 14pt; color: ${t.overallScore>=75?"#16a34a":"#dc2626"};">
              ${t.overallScore}/100
            </td>
          </tr>
          <tr>
            <td><strong>Rating:</strong></td>
            <td style="text-align: right;">${t.rating}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="section">
      <div class="section-title">Key Metrics</div>
      <table>
        <thead>
          <tr>
            <th>Metric</th>
            <th style="text-align: right;">Performance</th>
            <th style="text-align: right;">Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Acceptance Rate</td>
            <td style="text-align: right;">${t.acceptanceRate}%</td>
            <td style="text-align: right; color: ${t.acceptanceRate>=80?"#16a34a":"#dc2626"};">
              ${t.acceptanceRate>=80?"Good":"Needs Improvement"}
            </td>
          </tr>
          <tr>
            <td>On-Time Delivery Rate</td>
            <td style="text-align: right;">${t.onTimeDeliveryRate}%</td>
            <td style="text-align: right; color: ${t.onTimeDeliveryRate>=90?"#16a34a":"#dc2626"};">
              ${t.onTimeDeliveryRate>=90?"Excellent":"Needs Improvement"}
            </td>
          </tr>
          <tr>
            <td>Average Response Time</td>
            <td style="text-align: right;">${t.averageResponseTime} min</td>
            <td style="text-align: right; color: ${t.averageResponseTime<=30?"#16a34a":"#dc2626"};">
              ${t.averageResponseTime<=30?"Fast":"Slow"}
            </td>
          </tr>
          <tr>
            <td>Orders Completed</td>
            <td style="text-align: right;">${t.ordersCompleted}</td>
            <td style="text-align: right;">-</td>
          </tr>
          <tr class="total-row">
            <td><strong>Total Revenue</strong></td>
            <td style="text-align: right;"><strong>${_(t.totalRevenue)}</strong></td>
            <td style="text-align: right;">-</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="notes">
      <strong>Performance Guidelines:</strong><br>
      • <strong>Overall Score:</strong> Maintain above 75 to remain in good standing<br>
      • <strong>Acceptance Rate:</strong> Target 80%+ for better order allocation<br>
      • <strong>On-Time Delivery:</strong> Maintain 90%+ to avoid penalties<br>
      • <strong>Response Time:</strong> Respond within 30 minutes for priority matching
    </div>

    <div class="footer">
      RealServ Marketplace | Hyderabad, India<br>
      Confidential Vendor Performance Report
    </div>
  `;At(l,`Performance_Report_${I(new Date)}`)}function Ka({status:t,createdAt:l,acceptedAt:a,readyAt:c,deliveredAt:s,completedAt:r,updatedAt:d}){const j=[{title:"Order Placed",timestamp:l,completed:!0},{title:"Payment Received",timestamp:l,completed:!0},{title:"Accepted by You",timestamp:a,completed:t!==f.OFFERED&&t!==f.REJECTED,current:t===f.ACCEPTED||t===f.IN_PROGRESS},{title:"Ready for Delivery",timestamp:c,completed:t===f.READY||t===f.DELIVERED||t===f.COMPLETED,current:t===f.READY},{title:"Delivered to Buyer",timestamp:s,completed:t===f.DELIVERED||t===f.COMPLETED,current:t===f.DELIVERED},{title:"Buyer Confirmed Delivery",timestamp:r,completed:t===f.COMPLETED,current:!1},{title:"Payment Settlement",timestamp:void 0,completed:!1,current:!1}];return e.jsx("div",{className:"space-y-0",children:j.map((n,y)=>e.jsxs("div",{className:"flex items-start gap-3 pb-6 last:pb-0",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.completed?e.jsx("div",{className:"w-6 h-6 rounded-full bg-success-100 flex items-center justify-center",children:e.jsx(Q,{className:"w-4 h-4 text-success-600"})}):n.current?e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary-100 flex items-center justify-center ring-4 ring-primary-50",children:e.jsx(se,{className:"w-4 h-4 text-primary-600"})}):e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-neutral-300 flex items-center justify-center",children:e.jsx(us,{className:"w-3 h-3 text-neutral-300"})})}),y<j.length-1&&e.jsx("div",{className:"absolute left-[11px] top-8 w-0.5 h-10 -ml-0.5",style:{backgroundColor:n.completed?"#10B981":"#E5E7EB"}}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("p",{className:`text-sm font-medium ${n.completed?"text-neutral-900":n.current?"text-primary-900":"text-neutral-400"}`,children:n.title}),n.timestamp&&e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("p",{className:"text-xs text-neutral-500",children:I(n.timestamp)}),e.jsx("p",{className:"text-xs text-neutral-400",children:me(n.timestamp)})]}),!n.timestamp&&!n.completed&&e.jsx("p",{className:"text-xs text-neutral-400 flex-shrink-0",children:"Pending"})]})})]},y))})}function Xa({itemName:t,quantity:l,unit:a,totalPayoutAmount:c,deliveryDate:s,deliveryTimeSlot:r,status:d}){const j=n=>({[f.OFFERED]:"Review and respond to this offer",[f.ACCEPTED]:"Order accepted - Prepare for delivery",[f.IN_PROGRESS]:"Order in progress - Prepare for delivery",[f.READY]:"Order ready - Awaiting delivery completion",[f.COMPLETED]:"Order completed - Payment settlement in progress",[f.REJECTED]:"Order rejected",[f.ISSUE]:"Order has an issue",[f.CANCELLED]:"Order cancelled"})[n]||"Order in progress";return e.jsx(M,{className:"border-primary-200 bg-primary-50/50",children:e.jsxs($,{className:"p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-700 uppercase tracking-wide mb-4",children:"Order Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(X,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-0.5",children:"Item"}),e.jsx("p",{className:"text-sm font-semibold text-neutral-900 truncate",children:t}),e.jsxs("p",{className:"text-xs text-neutral-600",children:[l," ",a]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-success-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ft,{className:"w-5 h-5 text-success-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-0.5",children:"Your Payout"}),e.jsx("p",{className:"text-lg font-bold text-success-700",children:_(c)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Ze,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-0.5",children:"Delivery"}),e.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:I(s)}),e.jsxs("p",{className:"text-xs text-neutral-600",children:[r.startTime," - ",r.endTime]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-warning-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(te,{className:"w-5 h-5 text-warning-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-0.5",children:"Status"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:j(d)})]})]})]})]})})}function Qa({buyerName:t="RealServ Buyer",buyerPhone:l,buyerEmail:a,buyerCompany:c,orderNumber:s}){const r=()=>{l&&(window.location.href=`tel:${l}`)},d=()=>{if(l){const n=`Hi, I'm contacting you regarding order ${s}`;window.open(`https://wa.me/${l.replace(/[^0-9]/g,"")}?text=${encodeURIComponent(n)}`,"_blank")}},j=()=>{if(a){const n=`Regarding Order ${s}`;window.location.href=`mailto:${a}?subject=${encodeURIComponent(n)}`}};return e.jsxs(M,{className:"border-neutral-200",children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsxs(re,{className:"text-lg font-semibold text-neutral-900 flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5 text-primary-600"}),"Buyer Information"]})}),e.jsxs($,{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide",children:"Name"}),e.jsx("p",{className:"text-base font-semibold text-neutral-900 mt-1",children:t})]}),c&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(Pe,{className:"w-3 h-3"}),"Company"]}),e.jsx("p",{className:"text-base text-neutral-900 mt-1",children:c})]})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(Oe,{className:"w-3 h-3"}),"Phone"]}),e.jsx("p",{className:"text-base text-neutral-900 mt-1",children:l})]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx($e,{className:"w-3 h-3"}),"Email"]}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1 break-all",children:a})]})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs(w,{variant:"outline",size:"sm",onClick:r,className:"justify-start border-2 border-neutral-200 hover:bg-primary-50 hover:border-primary-300",children:[e.jsx(Oe,{className:"w-4 h-4 mr-2 text-primary-600"}),"Call Buyer"]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:d,className:"justify-start border-2 border-neutral-200 hover:bg-success-50 hover:border-success-300",children:[e.jsx(xe,{className:"w-4 h-4 mr-2 text-success-600"}),"WhatsApp"]}),a&&e.jsxs(w,{variant:"outline",size:"sm",onClick:j,className:"justify-start border-2 border-neutral-200 hover:bg-blue-50 hover:border-blue-300",children:[e.jsx($e,{className:"w-4 h-4 mr-2 text-blue-600"}),"Email"]})]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-neutral-50 rounded-lg",children:e.jsx("p",{className:"text-xs text-neutral-600",children:"Contact the buyer if you need to coordinate delivery times or discuss order details."})})]})]})}function Wa({deliveryDate:t,deliveryTimeSlot:l,deliveryArea:a,deliveryAddress:c,deliveryInstructions:s,deliveryMethod:r="vendor"}){const d=()=>{const j=c||a;window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(j)}`,"_blank")};return e.jsxs(M,{className:"border-neutral-200",children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsxs(re,{className:"text-lg font-semibold text-neutral-900 flex items-center gap-2",children:[e.jsx(is,{className:"w-5 h-5 text-primary-600"}),"Delivery Information"]})}),e.jsxs($,{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide flex items-center gap-1 mb-2",children:[e.jsx(Ze,{className:"w-3 h-3"}),"Delivery Date & Time"]}),e.jsx("p",{className:"text-base font-semibold text-neutral-900",children:I(t)}),e.jsxs("p",{className:"text-sm text-neutral-600 mt-0.5",children:[l.startTime," - ",l.endTime]})]}),e.jsx(Z,{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide",children:"Delivery Method"}),e.jsx("p",{className:"text-base text-neutral-900 mt-1",children:r==="vendor"?"Vendor Self-Delivery":"Platform Logistics"})]}),e.jsx(Z,{}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide flex items-center gap-1 mb-2",children:[e.jsx(Me,{className:"w-3 h-3"}),"Delivery Address"]}),c?e.jsx("p",{className:"text-sm text-neutral-900 leading-relaxed whitespace-pre-line",children:c}):e.jsx("p",{className:"text-sm text-neutral-900",children:a})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsx("div",{className:"bg-warning-50 border-2 border-warning-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(te,{className:"w-4 h-4 text-warning-700 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-warning-900 uppercase tracking-wide mb-1",children:"Special Instructions"}),e.jsx("p",{className:"text-sm text-warning-800 whitespace-pre-line leading-relaxed",children:s})]})]})})]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:d,className:"w-full justify-start border-2 border-neutral-200 hover:bg-blue-50 hover:border-blue-300",children:[e.jsx(Me,{className:"w-4 h-4 mr-2 text-blue-600"}),"View on Map",e.jsx(tt,{className:"w-3 h-3 ml-auto text-neutral-400"})]}),e.jsx("div",{className:"mt-4 p-3 bg-neutral-50 rounded-lg",children:e.jsx("p",{className:"text-xs text-neutral-600",children:"Ensure the materials are delivered to the correct location within the specified time slot."})})]})]})}function Ja({orderTotal:t,deliveryCharges:l=0,platformFee:a=0,totalPaidByBuyer:c,paymentMethod:s="UPI",paymentStatus:r,basePayoutAmount:d,realservFee:j,logisticsFee:n=0,totalPayoutAmount:y,settlementStatus:m,settlementId:o,showSettlementLink:u=!1}){const x=G(),p=()=>r==="received"?e.jsxs(S,{variant:"outline",className:"bg-success-100 text-success-700 border-success-200",children:[e.jsx(be,{className:"w-3 h-3 mr-1"}),"Received"]}):e.jsxs(S,{variant:"outline",className:"bg-warning-100 text-warning-700 border-warning-200",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Pending"]}),h=()=>!m||m==="pending"?e.jsxs(S,{variant:"outline",className:"bg-warning-100 text-warning-700 border-warning-200",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Pending"]}):m==="processing"?e.jsxs(S,{variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-200",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Processing"]}):e.jsxs(S,{variant:"outline",className:"bg-success-100 text-success-700 border-success-200",children:[e.jsx(be,{className:"w-3 h-3 mr-1"}),"Settled"]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{className:"border-neutral-200",children:[e.jsxs(J,{className:"border-b border-neutral-200",children:[e.jsx(re,{className:"text-lg font-semibold text-neutral-900",children:"Payment Information"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"What the buyer paid"})]}),e.jsxs($,{className:"p-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Order Total"}),e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:_(t)})]}),l>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Delivery Charges"}),e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:_(l)})]}),a>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Platform Fee"}),e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:_(a)})]}),e.jsx(Z,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-base font-semibold text-neutral-900",children:"Total Paid by Buyer"}),e.jsx("span",{className:"text-lg font-bold text-neutral-900",children:_(c)})]}),e.jsx(Z,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Payment Method"}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Payment Status"}),p()]})]})]}),e.jsxs(M,{className:"border-primary-200 bg-primary-50/30",children:[e.jsx(J,{className:"border-b border-primary-200",children:e.jsxs(re,{className:"text-lg font-semibold text-neutral-900 flex items-center gap-2",children:[e.jsx(ft,{className:"w-5 h-5 text-primary-600"}),"Your Payout Breakdown"]})}),e.jsxs($,{className:"p-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Base Amount"}),e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:_(d)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"RealServ Fee"}),e.jsxs("span",{className:"text-sm font-semibold text-error-600",children:["- ",_(j)]})]}),n>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Logistics Fee"}),e.jsxs("span",{className:"text-sm font-semibold text-error-600",children:["- ",_(n)]})]}),e.jsx(Z,{className:"bg-primary-200"}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("span",{className:"text-base font-semibold text-neutral-900",children:"Your Total Payout"}),e.jsx("span",{className:"text-xl font-bold text-primary-600",children:_(y)})]}),e.jsx(Z,{className:"bg-primary-200"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Settlement Status"}),h()]}),(!m||m==="pending")&&e.jsx("div",{className:"bg-warning-50 border border-warning-200 rounded-lg p-3 mt-2",children:e.jsxs("p",{className:"text-xs text-warning-800",children:[e.jsx("strong",{children:"Expected Settlement:"})," Within 7 days of order completion"]})}),u&&o&&e.jsxs(w,{variant:"outline",size:"sm",onClick:()=>x(`/vendor/payouts/${o}`),className:"w-full justify-between border-2 border-primary-200 hover:bg-primary-50 hover:border-primary-300 mt-2",children:[e.jsx("span",{className:"text-primary-700 font-medium",children:"View Settlement Details"}),e.jsx(tt,{className:"w-4 h-4 text-primary-600"})]})]})]})]})}function el({status:t,orderId:l,orderNumber:a}){const c=G(),s=j=>{switch(j){case f.OFFERED:return["What if I can't fulfill this order?","How long do I have to respond?","Can I modify the quoted price?"];case f.ACCEPTED:case f.IN_PROGRESS:return["What if I can't deliver on time?","How do I change the delivery date?","What if I have quality issues?"];case f.READY:return["What if the buyer doesn't pick up?","How do I confirm delivery?","Can I reschedule delivery?"];case f.COMPLETED:return["When will I receive payment?","How do I track my settlement?","What if there's a payment issue?"];default:return["How do I contact the buyer?","What are my payment terms?","How do I report an issue?"]}},r=()=>{const j=new URLSearchParams({category:"order",orderId:l,orderNumber:a});c(`/vendor/support/create-ticket?${j.toString()}`)},d=s(t);return e.jsxs(M,{className:"border-neutral-200",children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsxs(re,{className:"text-lg font-semibold text-neutral-900 flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5 text-primary-600"}),"Need Help?"]})}),e.jsxs($,{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-3",children:"Common Questions"}),e.jsx("div",{className:"space-y-2",children:d.map((j,n)=>e.jsxs("button",{onClick:r,className:"w-full text-left text-sm text-neutral-700 hover:text-primary-700 hover:underline cursor-pointer flex items-start gap-2 group",children:[e.jsx(ve,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-neutral-400 group-hover:text-primary-600"}),e.jsx("span",{children:j})]},n))})]}),e.jsx("div",{className:"pt-2",children:e.jsxs(w,{variant:"outline",size:"sm",onClick:r,className:"w-full justify-start border-2 border-primary-200 hover:bg-primary-50 hover:border-primary-300",children:[e.jsx(xe,{className:"w-4 h-4 mr-2 text-primary-600"}),"Create Support Ticket"]})}),e.jsx("div",{className:"p-3 bg-neutral-50 rounded-lg",children:e.jsx("p",{className:"text-xs text-neutral-600",children:"Our support team typically responds within 2-4 hours during business hours (9 AM - 6 PM)."})})]})]})}function tl({orderNumber:t,onDownloadInvoice:l,onDownloadDeliveryChallan:a}){const c=()=>{const r=window.location.href;navigator.share?navigator.share({title:`Order ${t}`,text:`View order details for ${t}`,url:r}).then(()=>L.success("Order shared successfully")).catch(()=>{}):(navigator.clipboard.writeText(r),L.success("Order link copied to clipboard"))},s=()=>{window.print(),L.success("Print dialog opened")};return e.jsxs(M,{className:"border-neutral-200",children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsx(re,{className:"text-lg font-semibold text-neutral-900",children:"Documents & Actions"})}),e.jsxs($,{className:"p-6 space-y-2",children:[e.jsxs(w,{variant:"outline",size:"sm",onClick:l,className:"w-full justify-start border-2 border-neutral-200 hover:bg-primary-50 hover:border-primary-300",children:[e.jsx(st,{className:"w-4 h-4 mr-2 text-primary-600"}),e.jsx("span",{className:"flex-1 text-left",children:"Download Invoice"}),e.jsx(Ce,{className:"w-4 h-4 text-neutral-400"})]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:a,className:"w-full justify-start border-2 border-neutral-200 hover:bg-primary-50 hover:border-primary-300",children:[e.jsx(is,{className:"w-4 h-4 mr-2 text-primary-600"}),e.jsx("span",{className:"flex-1 text-left",children:"Download Delivery Challan"}),e.jsx(Ce,{className:"w-4 h-4 text-neutral-400"})]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:s,className:"w-full justify-start border-2 border-neutral-200 hover:bg-neutral-50 hover:border-neutral-300",children:[e.jsx(lr,{className:"w-4 h-4 mr-2 text-neutral-600"}),e.jsx("span",{className:"flex-1 text-left",children:"Print Order Details"})]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:c,className:"w-full justify-start border-2 border-neutral-200 hover:bg-blue-50 hover:border-blue-300",children:[e.jsx(Jr,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("span",{className:"flex-1 text-left",children:"Share Order Details"})]}),e.jsx("div",{className:"pt-3 mt-3 border-t border-neutral-200",children:e.jsx("p",{className:"text-xs text-neutral-500",children:"Keep these documents for tax compliance and record-keeping"})})]})]})}function sl({open:t,onOpenChange:l,onVerify:a,isVerifying:c,orderId:s}){const[r,d]=b.useState("otp"),[j,n]=b.useState(""),[y,m]=b.useState(null),[o,u]=b.useState(null),[x,p]=b.useState(null),h=A=>{var z;const P=(z=A.target.files)==null?void 0:z[0];if(P){if(P.size>5*1024*1024){p("Image size must be less than 5MB");return}m(P);const Y=new FileReader;Y.onloadend=()=>{u(Y.result),p(null)},Y.readAsDataURL(P)}},N=()=>{if(r==="otp"){if(j.length!==6||!/^\d{6}$/.test(j)){p("Please enter a valid 6-digit OTP");return}a("otp",j)}else{if(!y){p("Please upload an image");return}a("image",o||"")}},C=()=>{c||(n(""),m(null),u(null),p(null),l(!1))},v=r==="otp"?j.length===6&&/^\d{6}$/.test(j):y!==null;return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"Verify Delivery"}),e.jsxs("p",{className:"text-sm text-neutral-600 mt-1",children:["Order #",s]})]}),e.jsx("button",{onClick:C,disabled:c,className:"text-neutral-400 hover:text-neutral-600 disabled:opacity-50",children:e.jsx(ke,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Q,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-medium mb-1",children:"Delivery Verification Required"}),r==="otp"?e.jsxs("p",{children:[e.jsx("strong",{children:"OTP Verification:"})," If the buyer is present at the delivery site, collect their 6-digit OTP. This immediately marks the order as ",e.jsx("strong",{children:"completed"})," since the buyer is confirming delivery in person."]}):e.jsxs("p",{children:[e.jsx("strong",{children:"Image Verification:"})," If the buyer is not present, upload a photo of the delivered materials. The order will be marked as ",e.jsx("strong",{children:"delivered"})," and will await buyer confirmation on their app."]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ie,{className:"text-sm font-medium text-neutral-900",children:"Select Verification Method"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>{d("otp"),p(null)},disabled:c,className:`
                  p-4 border-2 rounded-lg text-left transition-all
                  ${r==="otp"?"border-primary-600 bg-primary-50":"border-neutral-200 hover:border-neutral-300"}
                  disabled:opacity-50 disabled:cursor-not-allowed
                `,children:[e.jsx("div",{className:"font-medium text-sm text-neutral-900 mb-1",children:"Buyer's OTP"}),e.jsx("div",{className:"text-xs text-neutral-600",children:"Ask buyer for 6-digit code"})]}),e.jsxs("button",{onClick:()=>{d("image"),p(null)},disabled:c,className:`
                  p-4 border-2 rounded-lg text-left transition-all
                  ${r==="image"?"border-primary-600 bg-primary-50":"border-neutral-200 hover:border-neutral-300"}
                  disabled:opacity-50 disabled:cursor-not-allowed
                `,children:[e.jsx("div",{className:"font-medium text-sm text-neutral-900 mb-1",children:"Image Proof"}),e.jsx("div",{className:"text-xs text-neutral-600",children:"Take photo of delivery"})]})]})]}),r==="otp"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ie,{htmlFor:"otp",className:"text-sm font-medium text-neutral-900",children:"Enter Buyer's OTP"}),e.jsx(he,{id:"otp",type:"text",inputMode:"numeric",placeholder:"000000",value:j,onChange:A=>{n(A.target.value.replace(/\D/g,"").slice(0,6)),p(null)},className:"h-12 text-center text-2xl tracking-widest",disabled:c,maxLength:6}),e.jsx("p",{className:"text-xs text-neutral-600",children:"Ask the buyer to provide their 6-digit delivery confirmation OTP"})]}),r==="image"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ie,{className:"text-sm font-medium text-neutral-900",children:"Upload Delivery Image"}),o?e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"relative rounded-lg overflow-hidden border-2 border-neutral-200",children:[e.jsx("img",{src:o,alt:"Delivery proof",className:"w-full h-48 object-cover"}),!c&&e.jsx("button",{onClick:()=>{m(null),u(null)},className:"absolute top-2 right-2 bg-white rounded-full p-1.5 shadow-md hover:bg-neutral-50",children:e.jsx(ke,{className:"w-4 h-4 text-neutral-600"})})]})}):e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:h,disabled:c,className:"hidden"}),e.jsx("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-8 text-center cursor-pointer hover:border-primary-400 hover:bg-primary-50/50 transition-colors",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx($r,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Take Photo or Upload"}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"Image of delivered materials (max 5MB)"})]})]})})]}),e.jsx("p",{className:"text-xs text-neutral-600",children:"Take a clear photo showing the delivered materials at the buyer's site"})]}),x&&e.jsx("div",{className:"bg-error-50 border border-error-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-error-700",children:x})})]}),e.jsxs("div",{className:"flex gap-3 p-6 border-t border-neutral-200",children:[e.jsx(w,{variant:"outline",onClick:C,disabled:c,className:"flex-1",children:"Cancel"}),e.jsx(w,{onClick:N,disabled:c||!v,className:"flex-1 bg-success-600 hover:bg-success-700 text-white",children:c?"Verifying...":r==="otp"?"Complete Order":"Mark as Delivered"})]})]})}):null}function rl(){var St;const{orderId:t}=He(),l=G(),a=bt(),{getOrderById:c,acceptOrder:s,rejectOrder:r,markAsReady:d,markAsDelivered:j}=qe(),[n,y]=b.useState(!1),[m,o]=b.useState(!1),[u,x]=b.useState(!1),[p,h]=b.useState(!1),[N,C]=b.useState(null),[v,A]=b.useState(!1),[P,z]=b.useState(!1),[Y,K]=b.useState(!1),i=b.useMemo(()=>t?c(t):void 0,[t,c]),k=(St=a.state)==null?void 0:St.fromTab,g=()=>{k?l("/vendor/orders",{state:{activeTab:k}}):l("/vendor/orders")},E=async()=>{if(!i)return;y(!0),C(null);const le=await s(i.id);y(!1),le.success?g():C(le.error||"Failed to accept order")},F=()=>{A(!0)},ae=async()=>{if(!i)return;o(!0);const le=await r(i.id);o(!1),le.success?(L.success("Order rejected"),l("/vendor/orders")):C(le.error||"Failed to reject order"),A(!1)},T=()=>{z(!0)},B=async()=>{if(!i)return;x(!0);const le=await d(i.id);x(!1),le.success?L.success("Order marked as ready for pickup/delivery"):C(le.error||"Failed to mark order as ready"),z(!1)},H=()=>{K(!0)},Ne=async(le,kt)=>{if(!i)return;h(!0);const Re=await j(i.id,le,kt);h(!1),Re.success?(le==="otp"?L.success("Order completed successfully with OTP verification"):L.success("Order marked as delivered with image proof. Awaiting buyer confirmation."),K(!1)):C(Re.error||"Failed to complete order")};if(!i)return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[e.jsx(X,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"Order Not Found"}),e.jsx("p",{className:"text-sm text-neutral-500 mb-6",children:"The order you're looking for doesn't exist or has been removed."}),e.jsxs(w,{onClick:()=>l("/vendor/orders"),children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Orders"]})]})});const Ye=le=>{const Re={[f.OFFERED]:{label:"New Offer",className:"bg-warning-100 text-warning-700 border-warning-200"},[f.ACCEPTED]:{label:"Accepted",className:"bg-primary-100 text-primary-700 border-primary-200"},[f.IN_PROGRESS]:{label:"In Progress",className:"bg-blue-100 text-blue-700 border-blue-200"},[f.READY]:{label:"Ready",className:"bg-success-100 text-success-700 border-success-200"},[f.DELIVERED]:{label:"Delivered - Awaiting Confirmation",className:"bg-blue-100 text-blue-700 border-blue-200"},[f.COMPLETED]:{label:"Completed",className:"bg-success-100 text-success-700 border-success-200"},[f.REJECTED]:{label:"Rejected",className:"bg-neutral-100 text-neutral-700 border-neutral-200"},[f.ISSUE]:{label:"Issue",className:"bg-error-100 text-error-700 border-error-200"},[f.CANCELLED]:{label:"Cancelled",className:"bg-error-100 text-error-700 border-error-200"}}[le];return Re?e.jsx(S,{variant:"outline",className:Re.className,children:Re.label}):e.jsx(S,{variant:"outline",className:"bg-neutral-100 text-neutral-700 border-neutral-200",children:le})};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(w,{variant:"ghost",size:"sm",onClick:g,className:"text-neutral-600 hover:text-neutral-900 -ml-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Orders"]}),e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:i.orderNumber}),Ye(i.status)]}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["Order placed on ",I(i.createdAt)," at ",me(i.createdAt)]})]})}),e.jsx(Xa,{itemName:i.itemName,quantity:i.quantity,unit:i.unit,totalPayoutAmount:i.totalPayoutAmount,deliveryDate:i.deliveryDate,deliveryTimeSlot:i.deliveryTimeSlot,status:i.status}),i.status===f.OFFERED&&e.jsxs("div",{className:"bg-warning-50 border-2 border-warning-300 rounded-xl p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(te,{className:"w-5 h-5 text-warning-700 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-warning-900 mb-1",children:"Action Required - Respond Before Offer Expires"}),e.jsx("p",{className:"text-sm text-warning-800",children:"Review the order details below and accept or reject this request. Once accepted, it will move to your active orders."})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{size:"lg",onClick:E,disabled:n||m,className:"bg-success-600 hover:bg-success-700 text-white border-0 flex-1 sm:flex-none",children:n?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"Accepting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Accept Order"]})}),e.jsx(w,{variant:"outline",size:"lg",onClick:F,disabled:n||m,className:"border-error-300 text-error-700 hover:bg-error-50 flex-1 sm:flex-none",children:m?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"Rejecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Reject Order"]})})]})]}),(i.status===f.ACCEPTED||i.status===f.IN_PROGRESS)&&e.jsxs("div",{className:"bg-primary-50 border-2 border-primary-200 rounded-xl p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(X,{className:"w-5 h-5 text-primary-700 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-primary-900 mb-1",children:"Next Step: Prepare Order"}),e.jsx("p",{className:"text-sm text-primary-800",children:"Once you have prepared the order and it's ready for pickup/delivery, click the button below to notify the buyer."})]})]}),e.jsx(w,{size:"lg",onClick:T,disabled:u,className:"bg-primary-600 hover:bg-primary-700 text-white border-0",children:u?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Mark as Ready"]})})]}),i.status===f.READY&&e.jsxs("div",{className:"bg-success-50 border-2 border-success-200 rounded-xl p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(Q,{className:"w-5 h-5 text-success-700 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-success-900 mb-1",children:"Final Step: Mark as Delivered"}),e.jsx("p",{className:"text-sm text-success-800",children:"After you deliver the order to the buyer, mark it as delivered. The buyer will then confirm delivery via OTP or image validation before the order is marked as complete and payout is initiated."})]})]}),e.jsx(w,{size:"lg",onClick:H,disabled:p,className:"bg-success-600 hover:bg-success-700 text-white border-0",children:p?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Mark as Delivered"]})})]}),i.status===f.DELIVERED&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(te,{className:"w-5 h-5 text-blue-700 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Awaiting Buyer Confirmation"}),e.jsx("p",{className:"text-sm text-blue-800",children:"You've marked this order as delivered. The buyer needs to confirm delivery via OTP or image validation. Once confirmed, the order will be marked as complete and your payout will be processed."})]})]})}),N&&e.jsx("div",{className:"bg-error-50 border-2 border-error-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Se,{className:"w-4 h-4 text-error-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-error-700 font-medium",children:N})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(M,{className:"border-neutral-200",children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsx(re,{className:"text-lg font-semibold text-neutral-900",children:"Order Timeline"})}),e.jsx($,{className:"p-6",children:e.jsx("div",{className:"relative",children:e.jsx(Ka,{status:i.status,createdAt:i.createdAt,acceptedAt:i.status!==f.OFFERED?i.createdAt:void 0,readyAt:i.status===f.READY||i.status===f.DELIVERED||i.status===f.COMPLETED?i.updatedAt:void 0,deliveredAt:i.status===f.DELIVERED||i.status===f.COMPLETED?i.deliveredAt:void 0,completedAt:i.status===f.COMPLETED?i.updatedAt:void 0,updatedAt:i.updatedAt})})})]}),e.jsxs(M,{className:"border-neutral-200",children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsxs(re,{className:"text-lg font-semibold text-neutral-900 flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-primary-600"}),"Order Items"]})}),e.jsxs($,{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide",children:"Item Name"}),e.jsx("p",{className:"text-base font-semibold text-neutral-900 mt-1",children:i.itemName})]}),e.jsx(Z,{}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide",children:"Quantity"}),e.jsxs("p",{className:"text-base font-semibold text-neutral-900 mt-1",children:[i.quantity," ",i.unit]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide",children:"Unit Price"}),e.jsx("p",{className:"text-base font-semibold text-neutral-900 mt-1",children:_(i.payoutPerUnit)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide",children:"Subtotal"}),e.jsx("p",{className:"text-base font-semibold text-primary-600 mt-1",children:_(i.basePayoutAmount)})]})]}),e.jsx(Z,{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide",children:"Category"}),e.jsx("p",{className:"text-base text-neutral-900 mt-1",children:i.category||"Construction Materials"})]}),i.deliveryInstructions&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("label",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wide block mb-2",children:"Specifications / Notes"}),e.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-line leading-relaxed",children:i.deliveryInstructions})]})]})]})]}),e.jsx(Wa,{deliveryDate:i.deliveryDate,deliveryTimeSlot:i.deliveryTimeSlot,deliveryArea:i.deliveryArea,deliveryAddress:i.deliveryAddress,deliveryInstructions:i.deliveryInstructions,deliveryMethod:"vendor"}),e.jsx(Qa,{buyerName:"RealServ Buyer",buyerPhone:i.buyerPhone,buyerEmail:i.buyerEmail,buyerCompany:"Rajesh Construction",orderNumber:i.orderNumber})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ja,{orderTotal:i.basePayoutAmount,deliveryCharges:0,platformFee:0,totalPaidByBuyer:i.basePayoutAmount,paymentMethod:"UPI",paymentStatus:"received",basePayoutAmount:i.basePayoutAmount,realservFee:i.realservFee,logisticsFee:i.logisticsFee,totalPayoutAmount:i.totalPayoutAmount,settlementStatus:i.settlementStatus,settlementId:i.settlementId,showSettlementLink:!!i.settlementId}),e.jsx(tl,{orderNumber:i.orderNumber,onDownloadInvoice:()=>Ya({orderNumber:i.orderNumber,orderDate:i.createdAt,itemName:i.itemName,quantity:i.quantity,unit:i.unit,unitPrice:i.payoutPerUnit,totalAmount:i.basePayoutAmount,deliveryAddress:i.deliveryAddress||`Delivery to ${i.deliveryArea}`,deliveryArea:i.deliveryArea,buyerName:"RealServ Buyer",vendorName:"Kumar Cement Suppliers",vendorGST:"29ABCDE1234F1Z5",vendorAddress:"Miyapur, Hyderabad - 500049"}),onDownloadDeliveryChallan:()=>Ga({orderNumber:i.orderNumber,orderDate:i.createdAt,deliveryDate:i.deliveryDate,itemName:i.itemName,quantity:i.quantity,unit:i.unit,deliveryAddress:i.deliveryAddress||`Delivery to ${i.deliveryArea}`,deliveryArea:i.deliveryArea,buyerName:"RealServ Buyer",vendorName:"Kumar Cement Suppliers",deliveryInstructions:i.deliveryInstructions})}),e.jsx(el,{status:i.status,orderId:i.id,orderNumber:i.orderNumber})]})]}),e.jsx(Ct,{open:v,onOpenChange:A,onConfirm:ae,title:"Reject Order",description:"Are you sure you want to reject this order? This action cannot be undone.",confirmText:"Reject Order",cancelText:"Cancel",variant:"danger"}),e.jsx(Ct,{open:P,onOpenChange:z,onConfirm:B,title:"Mark as Ready",description:"Confirm that this order is ready for pickup/delivery?",confirmText:"Mark as Ready",cancelText:"Cancel",variant:"default"}),e.jsx(sl,{open:Y,onOpenChange:K,onVerify:Ne,isVerifying:p,orderId:(i==null?void 0:i.orderNumber)||""})]})}function al(){const t=G(),l="vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",[a,c]=b.useState(!0),[s,r]=b.useState([]),[d,j]=b.useState(0),[n,y]=b.useState(null),[m,o]=b.useState(""),[u,x]=b.useState(""),[p,h]=b.useState("all"),[N,C]=b.useState("all");b.useEffect(()=>{v()},[]);const v=async()=>{c(!0);try{const g=cs(l,1,1e3);r(g.items);const E=g.items.filter(H=>H.status==="completed");E.length>0&&y(E[0]);const F=nr(l);j(F);const ae=new Date,T=(8-ae.getDay())%7||7,B=new Date(ae);B.setDate(ae.getDate()+T),o(I(B.toISOString()))}catch(g){L.error("Failed to load payout data"),console.error(g)}finally{c(!1)}},A=()=>{const g=["Settlement Date","Period","Orders","Gross Amount","Commission","Net Settled","Status","UTR"],E=s.map(H=>{var Ne;return[I(H.processedAt||H.createdAt),`${I(H.periodStart)} to ${I(H.periodEnd)}`,((Ne=H.paymentCount)==null?void 0:Ne.toString())||"0",H.totalAmount.toString(),H.commissionAmount.toString(),H.settlementAmount.toString(),H.status,H.utrNumber||"N/A"]}),F=[g,...E].map(H=>H.join(",")).join(`
`),ae=new Blob([F],{type:"text/csv"}),T=window.URL.createObjectURL(ae),B=document.createElement("a");B.href=T,B.download=`settlements-${new Date().toISOString().split("T")[0]}.csv`,B.click(),L.success("Settlement report exported")},P=g=>{const F={completed:{variant:"success",label:"Settled"},processing:{variant:"warning",label:"Processing"},pending:{variant:"default",label:"Pending"},failed:{variant:"destructive",label:"Failed"}}[g]||{variant:"default",label:g};return e.jsx(S,{variant:F.variant,children:F.label})},z=s.filter(g=>{var B;const E=u.toLowerCase(),F=!u||((B=g.utrNumber)==null?void 0:B.toLowerCase().includes(E))||I(g.periodStart).toLowerCase().includes(E)||I(g.periodEnd).toLowerCase().includes(E)||g.settlementAmount.toString().includes(E),ae=p==="all"||g.status===p,T=N==="all"||g.processedAt&&new Date(g.processedAt).getMonth()===parseInt(N);return F&&ae&&T}),Y=[];if(p!=="all"){const g={completed:"Settled",processing:"Processing",pending:"Pending",failed:"Failed"};Y.push({label:"Status",value:g[p]||p,onRemove:()=>h("all")})}if(N!=="all"){const g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Y.push({label:"Month",value:g[parseInt(N)],onRemove:()=>C("all")})}const K=Y.length>0,i=()=>{h("all"),C("all")},k=[{key:"periodStart",label:"Settlement Period",sortable:!0,width:"18%",render:g=>e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-neutral-900",children:[I(g.periodStart)," - ",I(g.periodEnd)]}),e.jsxs("div",{className:"text-xs text-neutral-600 mt-0.5",children:["Settled: ",I(g.processedAt||g.createdAt)]})]})},{key:"paymentCount",label:"Orders",sortable:!0,width:"10%",render:g=>e.jsxs("span",{className:"text-sm text-neutral-900",children:[g.paymentCount||0," orders"]})},{key:"totalAmount",label:"Gross Amount",sortable:!0,align:"right",width:"13%",render:g=>e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:_(g.totalAmount)})},{key:"commissionAmount",label:"Commission",sortable:!0,align:"right",width:"12%",render:g=>e.jsxs("span",{className:"text-sm text-neutral-600",children:["-",_(g.commissionAmount)]})},{key:"settlementAmount",label:"Net Settled",sortable:!0,align:"right",width:"13%",render:g=>e.jsx("span",{className:"text-sm font-semibold text-success",children:_(g.settlementAmount)})},{key:"status",label:"Status",sortable:!0,width:"12%",render:g=>P(g.status)},{key:"utrNumber",label:"UTR Number",width:"14%",render:g=>g.utrNumber?e.jsx("div",{className:"text-xs font-mono text-neutral-700 bg-surface-2 px-2 py-1 rounded inline-block",children:g.utrNumber}):e.jsx("span",{className:"text-xs text-neutral-500",children:"Pending"})},{key:"id",label:"Actions",width:"8%",render:g=>e.jsxs(w,{variant:"ghost",size:"sm",onClick:E=>{E.stopPropagation(),t(`/vendor/payouts/${g.id}`)},children:[e.jsx(or,{className:"w-4 h-4 mr-1"}),"View"]})}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Payouts & Settlements"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Track your settlements and bank transfers"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-6 relative",children:[e.jsx("div",{className:"absolute top-6 right-6 w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(Fe,{className:"w-6 h-6 text-primary-700"})}),e.jsxs("div",{className:"pr-16",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Available Balance"}),e.jsx("p",{className:"text-xl font-bold text-neutral-900",children:_(d)}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(ir,{className:"w-3 h-3 text-neutral-500"}),e.jsxs("p",{className:"text-xs text-neutral-500",children:["Settling on ",m]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-6 relative",children:[e.jsx("div",{className:"absolute top-6 right-6 w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center",children:e.jsx(Q,{className:"w-6 h-6 text-success-700"})}),e.jsxs("div",{className:"pr-16",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Last Settled"}),e.jsx("p",{className:"text-xl font-bold text-neutral-900",children:n?_(n.settlementAmount):"₹0"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:n?I(n.processedAt||n.createdAt):"No settlements yet"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-6 relative",children:[e.jsx("div",{className:"absolute top-6 right-6 w-12 h-12 bg-warning-100 rounded-lg flex items-center justify-center",children:e.jsx(Ze,{className:"w-6 h-6 text-warning-700"})}),e.jsxs("div",{className:"pr-16",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Next Settlement"}),e.jsx("p",{className:"text-xl font-bold text-neutral-900",children:m}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Weekly on Mondays"})]})]})]}),e.jsx("div",{className:"bg-primary-subtle border-2 border-neutral-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-primary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(cr,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900 mb-1",children:"How settlements work"}),e.jsxs("p",{className:"text-sm text-neutral-600 leading-relaxed",children:["Orders are settled weekly every Monday. Once settled, money is transferred to your bank account within 1-2 business days. You'll receive UTR number for bank reconciliation. Check individual order payment status on the"," ",e.jsx("button",{onClick:()=>t("/vendor/orders"),className:"underline font-semibold text-primary hover:text-primary-pressed",children:"Orders page"}),"."]})]})]})}),e.jsx("div",{className:"space-y-4",children:a?e.jsx("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-12 flex items-center justify-center",children:e.jsx(we,{className:"w-8 h-8 animate-spin text-neutral-400"})}):s.length===0?e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-12 text-center",children:[e.jsx(Fe,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),e.jsx("p",{className:"text-neutral-900 font-medium mb-1",children:"No settlements yet"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Your first settlement will appear here after completing orders"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b-2 border-neutral-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx(he,{placeholder:"Search by UTR number, settlement period, or amount...",value:u,onChange:g=>x(g.target.value),className:"pl-10 h-11"})]})}),e.jsx("div",{className:"px-4 py-3 bg-neutral-50",children:e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs(ie,{value:p,onValueChange:g=>h(g),children:[e.jsx(ce,{className:"w-[180px] h-10 border-2",children:e.jsx(oe,{placeholder:"Status"})}),e.jsxs(de,{children:[e.jsx(R,{value:"all",children:"All Statuses"}),e.jsx(R,{value:"completed",children:"Settled"}),e.jsx(R,{value:"processing",children:"Processing"}),e.jsx(R,{value:"pending",children:"Pending"}),e.jsx(R,{value:"failed",children:"Failed"})]})]}),e.jsxs(ie,{value:N,onValueChange:C,children:[e.jsx(ce,{className:"w-[180px] h-10 border-2",children:e.jsx(oe,{placeholder:"Month"})}),e.jsxs(de,{children:[e.jsx(R,{value:"all",children:"All Months"}),e.jsx(R,{value:"0",children:"January"}),e.jsx(R,{value:"1",children:"February"}),e.jsx(R,{value:"2",children:"March"}),e.jsx(R,{value:"3",children:"April"}),e.jsx(R,{value:"4",children:"May"}),e.jsx(R,{value:"5",children:"June"}),e.jsx(R,{value:"6",children:"July"}),e.jsx(R,{value:"7",children:"August"}),e.jsx(R,{value:"8",children:"September"}),e.jsx(R,{value:"9",children:"October"}),e.jsx(R,{value:"10",children:"November"}),e.jsx(R,{value:"11",children:"December"})]})]})]})}),K&&e.jsx("div",{className:"px-4 py-3 bg-primary-50/30 border-t-2 border-primary-100",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs font-medium text-neutral-600",children:"Active filters:"}),Y.map((g,E)=>e.jsxs("button",{onClick:g.onRemove,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-white border-2 border-neutral-300 text-sm text-neutral-700 hover:bg-neutral-50 hover:border-neutral-400 transition-colors",children:[e.jsxs("span",{className:"font-medium text-neutral-500",children:[g.label,":"]}),e.jsx("span",{children:g.value}),e.jsx(ke,{className:"w-3.5 h-3.5 text-neutral-500"})]},E)),e.jsx("button",{type:"button",onClick:i,className:"text-xs text-primary-700 hover:text-primary-800 font-medium underline",children:"Clear all filters"})]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"font-semibold text-neutral-900",children:"Settlement History"}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-neutral-900",children:z.length})," settlement",z.length!==1?"s":""]})]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:A,children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),e.jsx(ct,{data:z,columns:k,searchable:!1,searchPlaceholder:"",pageSize:10,emptyMessage:"No settlements found",loading:!1,stickyHeader:!1,showPageSizeSelector:!0,showPaginationInfo:!0,showFirstLastButtons:!0,onRowClick:g=>t(`/vendor/payouts/${g.id}`)})]})})]})}function ll(){const{payoutId:t}=He(),l=G(),[a,c]=b.useState(!1),s=b.useMemo(()=>cs("vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8").items.find(p=>p.id===t),[t]),r=b.useMemo(()=>s?dr.filter(u=>{if(u.vendorId!==s.vendorId||u.paymentStatus!=="success")return!1;const x=new Date(u.completedAt||u.createdAt),p=new Date(s.periodStart),h=new Date(s.periodEnd);return x>=p&&x<=h}):[],[s]);if(!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[e.jsx(Mt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Settlement Not Found"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"The settlement you're looking for doesn't exist or has been removed."}),e.jsxs(w,{onClick:()=>l("/vendor/payouts"),children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Payouts"]})]})});const d=u=>{switch(u){case"completed":return e.jsxs(S,{className:"bg-green-100 text-green-700 text-base px-3 py-1",children:[e.jsx(Q,{className:"w-4 h-4 mr-1"}),"COMPLETED"]});case"pending":return e.jsxs(S,{className:"bg-yellow-100 text-yellow-700 text-base px-3 py-1",children:[e.jsx(se,{className:"w-4 h-4 mr-1"}),"PENDING"]});case"failed":return e.jsxs(S,{className:"bg-red-100 text-red-700 text-base px-3 py-1",children:[e.jsx(te,{className:"w-4 h-4 mr-1"}),"FAILED"]});default:return e.jsx(S,{className:"bg-gray-100 text-gray-700 text-base px-3 py-1",children:u.toUpperCase()})}},j=(u,x)=>{navigator.clipboard.writeText(u),c(!0),setTimeout(()=>c(!1),2e3),L.success(`${x} copied to clipboard`)},n=()=>{L.success("Settlement statement downloaded"),console.log("Downloading PDF for settlement:",s.id)},y=()=>{const u=["Date","Order ID","Payment ID","Amount","Status"],x=r.map(v=>[I(v.completedAt||v.createdAt),v.orderId,v.id,v.amount.toString(),v.paymentStatus]),p=[u,...x].map(v=>v.join(",")).join(`
`),h=new Blob([p],{type:"text/csv"}),N=window.URL.createObjectURL(h),C=document.createElement("a");C.href=N,C.download=`settlement-${s.id}-${I(s.periodStart)}.csv`,C.click(),L.success("CSV exported successfully")},m=Math.round(s.totalAmount*.01),o=Math.round(s.totalAmount*.02);return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs(w,{variant:"outline",size:"sm",onClick:()=>l("/vendor/payouts"),className:"mb-3",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Payouts"]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settlement Details"}),d(s.status)]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Settlement Period: ",I(s.periodStart)," - ",I(s.periodEnd)]}),e.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["ID: ",s.id]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(w,{variant:"outline",size:"sm",onClick:y,children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),s.status==="completed"&&e.jsxs(w,{variant:"default",size:"sm",onClick:n,children:[e.jsx(st,{className:"w-4 h-4 mr-2"}),"Download Statement"]})]})]}),s.status==="pending"&&e.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(se,{className:"w-5 h-5 text-yellow-700 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-yellow-800 mb-1",children:"Settlement Processing"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"This settlement is scheduled to be processed on Monday. Settlements are typically credited within 1-2 business days after processing."})]})]})}),s.status==="completed"&&e.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Q,{className:"w-5 h-5 text-green-700 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-green-800 mb-1",children:"✓ Settlement Completed Successfully"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Funds were transferred to your bank account on ",I(s.processedAt)," at ",me(s.processedAt)]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ye,{className:"w-5 h-5 text-primary-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Settlement Summary"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Sales Amount"}),e.jsx("span",{className:"text-xl font-semibold text-gray-900",children:_(s.totalAmount)})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{className:"space-y-3 bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 uppercase",children:"Deductions"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Platform Commission (",s.commissionPercentage,"%)"]})]}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:["-",_(s.commissionAmount)]})]}),o>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Payment Gateway Fee (2%)"})]}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:["-",_(o)]})]}),m>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"TDS (1%)"})]}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:["-",_(m)]})]}),s.adjustmentAmount!==0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Adjustments"})]}),e.jsxs("span",{className:`text-sm font-medium ${s.adjustmentAmount>0?"text-green-600":"text-red-600"}`,children:[s.adjustmentAmount>0?"+":"",_(Math.abs(s.adjustmentAmount))]})]})]}),e.jsx("div",{className:"border-t-2 border-gray-300"}),e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Net Settlement Amount"}),e.jsx("span",{className:"text-3xl font-bold text-green-600",children:_(s.settlementAmount)})]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[s.paymentCount," ",s.paymentCount===1?"payment":"payments"," included in this settlement"]})]})]}),s.notes&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(rt,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-blue-800",children:s.notes})]})})]}),s.status==="completed"&&s.utrNumber&&e.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Pe,{className:"w-5 h-5 text-primary-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Bank Transfer Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Bank Account"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["HDFC Bank ",s.accountNumber]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Account Holder"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.accountHolderName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"IFSC Code"}),e.jsx("p",{className:"text-sm font-mono font-semibold text-gray-900",children:s.ifscCode})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Transfer Method"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.settlementMethod})]})]}),e.jsx("div",{className:"border-t border-gray-200 my-4"}),e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-1",children:"UTR Number (Transaction Reference)"}),e.jsx("p",{className:"text-sm font-mono font-bold text-gray-900 break-all",children:s.utrNumber})]}),e.jsx(w,{variant:"outline",size:"sm",onClick:()=>j(s.utrNumber,"UTR"),className:"flex-shrink-0",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),"Copy"]})})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Use this UTR number to track the transaction in your bank statement"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Transfer Date"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:I(s.processedAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Transfer Time"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:me(s.processedAt)})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b-2 border-gray-300 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Included Payments"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[r.length," ",r.length===1?"payment":"payments"," in this settlement"]})]})}),r.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Mt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No payments found in this settlement period"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Order ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Payment ID"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Commission"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Net Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(u=>{const x=Math.round(u.amount*(s.commissionPercentage/100)),p=u.amount-x;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:I(u.completedAt||u.createdAt)}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsxs("div",{className:"font-mono text-xs text-gray-700",children:[u.orderId.slice(0,20),"..."]})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsxs("div",{className:"font-mono text-xs text-gray-700",children:[u.id.slice(0,15),"..."]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-right font-medium text-gray-900",children:_(u.amount)}),e.jsxs("td",{className:"px-6 py-4 text-sm text-right text-red-600",children:["-",_(x)]}),e.jsx("td",{className:"px-6 py-4 text-sm text-right font-semibold text-green-600",children:_(p)})]},u.id)})}),e.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-4 text-sm font-semibold text-gray-900",children:"Total"}),e.jsx("td",{className:"px-6 py-4 text-sm text-right font-bold text-gray-900",children:_(s.totalAmount)}),e.jsxs("td",{className:"px-6 py-4 text-sm text-right font-bold text-red-600",children:["-",_(s.commissionAmount)]}),e.jsx("td",{className:"px-6 py-4 text-sm text-right font-bold text-green-600",children:_(s.settlementAmount)})]})})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-6",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Settlement Info"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Settlement ID"}),e.jsx("p",{className:"text-xs font-mono text-gray-900 break-all",children:s.id})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Status"}),d(s.status)]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Period Start"}),e.jsx("p",{className:"text-sm text-gray-900",children:I(s.periodStart)})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Period End"}),e.jsx("p",{className:"text-sm text-gray-900",children:I(s.periodEnd)})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Created Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:I(s.createdAt)})]}),s.processedAt&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Processed Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:I(s.processedAt)})]})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Payments"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.paymentCount})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-6",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(w,{variant:"outline",className:"w-full justify-start",onClick:n,children:[e.jsx(st,{className:"w-4 h-4 mr-2"}),"Download Statement"]}),e.jsxs(w,{variant:"outline",className:"w-full justify-start",onClick:y,children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Export as CSV"]}),s.status==="completed"&&e.jsxs(w,{variant:"outline",className:"w-full justify-start text-orange-600 border-orange-300 hover:bg-orange-50",onClick:()=>l("/vendor/support/create-ticket?category=settlement&settlementId="+t),children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Raise Dispute"]})]})]}),e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(rt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"If you have questions about this settlement or notice any discrepancies, contact our support team."}),e.jsx(w,{variant:"outline",size:"sm",onClick:()=>{const u=new URLSearchParams({category:"settlement",settlementId:t||""});l(`/vendor/support/create-ticket?${u.toString()}`)},className:"w-full border-blue-300 text-blue-700 hover:bg-blue-100",children:"Contact Support"})]})]})}),e.jsx("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ze,{className:"w-5 h-5 text-gray-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Settlement Cycle"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Settlements are processed weekly every Monday. Funds typically reach your account within 1-2 business days."})]})]})})]})]})]})})}const U={overallScore:92,rating:"excellent",offersReceived:30,offersAccepted:28,acceptanceRate:93.3,ordersDelivered:28,ordersOnTime:27,onTimeDeliveryRate:96.4,averageResponseTime:3.5,fastestResponseTime:1.2,slowestResponseTime:12.8,totalOrdersCompleted:28,totalRevenue:78540},nl=[{month:"November 2025",orderCount:17,revenue:42300},{month:"December 2025",orderCount:24,revenue:65820},{month:"January 2026",orderCount:28,revenue:78540,growth:16.7}],ze=[{id:"issue_01HQKZX8Y9Z1A2B3C4D5E6F7G8",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",orderId:"order_05HQKZX8Y9Z1A2B3C4D5E6F7H2",description:"Customer site locked, unable to deliver",severity:"minor",category:"other",status:"resolved",resolution:"Rescheduled to next day by ops team. Delivered successfully on Jan 3.",reportedAt:"2026-01-02T15:30:00Z",resolvedAt:"2026-01-02T16:15:00Z",performanceImpact:0,createdAt:"2026-01-02T15:30:00Z",updatedAt:"2026-01-02T16:15:00Z"},{id:"issue_02HQKZX8Y9Z1A2B3C4D5E6F7G9",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",orderId:"order_07HQKZX8Y9Z1A2B3C4D5E6F7H4",description:"Late delivery - 45 minutes past delivery window",severity:"warning",category:"late_delivery",status:"resolved",resolution:"Acknowledged. Minor traffic delay. ₹100 deduction applied.",reportedAt:"2025-12-20T15:45:00Z",resolvedAt:"2025-12-20T16:00:00Z",performanceImpact:-1,createdAt:"2025-12-20T15:45:00Z",updatedAt:"2025-12-20T16:00:00Z"},{id:"issue_03HQKZX8Y9Z1A2B3C4D5E6F7H0",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",orderId:"order_gen_008",description:"Customer reported 1 damaged cement bag",severity:"minor",category:"quality",status:"resolved",resolution:"Replacement bag provided same day. Issue resolved to customer satisfaction.",reportedAt:"2025-12-15T16:20:00Z",resolvedAt:"2025-12-15T18:30:00Z",performanceImpact:0,createdAt:"2025-12-15T16:20:00Z",updatedAt:"2025-12-15T18:30:00Z"},{id:"issue_04HQKZX8Y9Z1A2B3C4D5E6F7H1",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",orderId:"order_gen_001",description:"Wrong item delivered (M-Sand instead of 20mm aggregate)",severity:"major",category:"other",status:"resolved",resolution:"Correct item delivered within 2 hours. No penalty as new vendor (learning period).",reportedAt:"2025-11-25T14:00:00Z",resolvedAt:"2025-11-25T16:30:00Z",performanceImpact:0,createdAt:"2025-11-25T14:00:00Z",updatedAt:"2025-11-25T16:30:00Z"},{id:"issue_05HQKZX8Y9Z1A2B3C4D5E6F7H2",vendorId:"vendor_01HQKZX8Y9Z1A2B3C4D5E6F7G8",orderId:"order_gen_003",description:"Customer phone number incorrect in system",severity:"minor",category:"other",status:"resolved",resolution:"Ops team provided correct number. Delivery completed successfully.",reportedAt:"2025-11-28T11:15:00Z",resolvedAt:"2025-11-28T12:00:00Z",performanceImpact:0,createdAt:"2025-11-28T11:15:00Z",updatedAt:"2025-11-28T12:00:00Z"}];function il({value:t,onChange:l,label:a="Date Range",className:c=""}){const[s,r]=b.useState(!1),[d,j]=b.useState("last30days"),[n,y]=b.useState(Ut(t.from)),[m,o]=b.useState(Ut(t.to)),u=b.useRef(null);b.useEffect(()=>{function v(A){u.current&&!u.current.contains(A.target)&&r(!1)}if(s)return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[s]);const x=[{id:"today",label:"Today",range:()=>{const v=new Date;v.setHours(0,0,0,0);const A=new Date(v);return A.setHours(23,59,59,999),{from:v,to:A}}},{id:"last7days",label:"Last 7 Days",range:()=>{const v=new Date;v.setHours(23,59,59,999);const A=new Date;return A.setDate(A.getDate()-6),A.setHours(0,0,0,0),{from:A,to:v}}},{id:"last30days",label:"Last 30 Days",range:()=>{const v=new Date;v.setHours(23,59,59,999);const A=new Date;return A.setDate(A.getDate()-29),A.setHours(0,0,0,0),{from:A,to:v}}},{id:"last60days",label:"Last 60 Days",range:()=>{const v=new Date;v.setHours(23,59,59,999);const A=new Date;return A.setDate(A.getDate()-59),A.setHours(0,0,0,0),{from:A,to:v}}},{id:"thisMonth",label:"This Month",range:()=>{const v=new Date,A=new Date(v.getFullYear(),v.getMonth(),1);A.setHours(0,0,0,0);const P=new Date(v.getFullYear(),v.getMonth()+1,0);return P.setHours(23,59,59,999),{from:A,to:P}}},{id:"lastMonth",label:"Last Month",range:()=>{const v=new Date,A=new Date(v.getFullYear(),v.getMonth()-1,1);A.setHours(0,0,0,0);const P=new Date(v.getFullYear(),v.getMonth(),0);return P.setHours(23,59,59,999),{from:A,to:P}}},{id:"allTime",label:"All Time",range:()=>{const v=new Date(2e3,0,1);v.setHours(0,0,0,0);const A=new Date;return A.setHours(23,59,59,999),{from:v,to:A}}}],p=v=>{const A=x.find(P=>P.id===v);if(A){const P=A.range();j(v),l(P),r(!1)}},h=()=>{const v=new Date(n);v.setHours(0,0,0,0);const A=new Date(m);if(A.setHours(23,59,59,999),v>A){alert("Start date must be before end date");return}j("custom"),l({from:v,to:A}),r(!1)},N=()=>{if(d==="custom")return`${$t(t.from)} - ${$t(t.to)}`;const v=x.find(A=>A.id===d);return(v==null?void 0:v.label)||"Select Date Range"},C=v=>{v.stopPropagation();const A=x.find(P=>P.id==="last30days");if(A){const P=A.range();j("last30days"),l(P)}};return e.jsxs("div",{className:`relative ${c}`,ref:u,children:[e.jsxs("button",{onClick:()=>r(!s),className:"w-[220px] h-10 flex items-center justify-between px-4 py-2.5 border-2 border-neutral-200 rounded-lg text-sm font-medium text-neutral-700 bg-white hover:border-primary-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-neutral-500"}),e.jsx("span",{children:N()})]}),d!=="last30days"&&e.jsx(ke,{className:"w-4 h-4 text-neutral-400 hover:text-neutral-600",onClick:C})]}),s&&e.jsx(M,{className:"absolute z-50 mt-2 w-full min-w-[320px] border-2 border-primary-200 shadow-lg",children:e.jsxs($,{className:"p-0",children:[e.jsx("div",{className:"p-3 space-y-1",children:x.map(v=>e.jsx("button",{onClick:()=>p(v.id),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d===v.id?"bg-primary-100 text-primary-700":"text-neutral-700 hover:bg-neutral-100"}`,children:v.label},v.id))}),e.jsx("div",{className:"border-t border-neutral-200"}),e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-700 mb-3",children:"Custom Range"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:n,onChange:v=>y(v.target.value),className:"w-full px-3 py-2 border-2 border-neutral-200 rounded-lg text-sm focus:outline-none focus:border-primary-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:m,onChange:v=>o(v.target.value),className:"w-full px-3 py-2 border-2 border-neutral-200 rounded-lg text-sm focus:outline-none focus:border-primary-300"})]}),e.jsx(w,{onClick:h,size:"sm",className:"w-full bg-primary-600 hover:bg-primary-700 text-white border-0",children:"Apply Custom Range"})]})]})]})})]})}function Ut(t){const l=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),c=String(t.getDate()).padStart(2,"0");return`${l}-${a}-${c}`}function $t(t){const l={year:"numeric",month:"short",day:"numeric"};return t.toLocaleDateString("en-IN",l)}function cl({data:t,title:l="Order Volume Trend",subtitle:a="Last 3 months"}){const c=t.reduce((y,m)=>y+m.orderCount,0),s=t.reduce((y,m)=>y+m.revenue,0),r=t[t.length-1],d=r.growth!==void 0,j=t.map(y=>({...y,monthShort:y.month.split(" ")[0].substring(0,3)})),n=({active:y,payload:m})=>{if(y&&m&&m.length){const o=m[0].payload;return e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200 shadow-lg",children:[e.jsx("p",{className:"font-semibold text-neutral-900 mb-2",children:o.month}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("span",{className:"text-neutral-600",children:"Orders:"}),e.jsx("span",{className:"font-semibold text-neutral-900",children:o.orderCount})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("span",{className:"text-neutral-600",children:"Revenue:"}),e.jsx("span",{className:"font-semibold text-neutral-900",children:_(o.revenue)})]}),o.growth!==void 0&&e.jsxs("div",{className:"flex items-center justify-between gap-4 pt-1 border-t border-neutral-200",children:[e.jsx("span",{className:"text-neutral-600",children:"Growth:"}),e.jsxs("span",{className:`font-semibold ${o.growth>=0?"text-green-700":"text-red-700"}`,children:[o.growth>0?"+":"",o.growth.toFixed(1),"%"]})]})]})]})}return null};return e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:l}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:a})]}),e.jsx(X,{className:"size-5 text-[#2F3E46]"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-neutral-600 mb-1",children:"Total Orders"}),e.jsx("div",{className:"text-2xl font-bold text-neutral-900",children:c})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-neutral-600 mb-1",children:"Total Revenue"}),e.jsx("div",{className:"text-2xl font-bold text-neutral-900",children:_(s)})]})]}),d&&r.growth&&e.jsxs("div",{className:"flex items-center gap-2 mb-6 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(ye,{className:"size-4 text-green-700"}),e.jsxs("span",{className:"text-sm font-medium text-green-900",children:[r.growth>0?"+":"",r.growth.toFixed(1),"% growth this month"]})]}),e.jsx("div",{className:"h-64",children:e.jsx(xr,{width:"100%",height:"100%",children:e.jsxs(ur,{data:j,margin:{top:10,right:10,left:-20,bottom:0},children:[e.jsx(hr,{strokeDasharray:"3 3",stroke:"#E5E7EB",vertical:!1}),e.jsx(pr,{dataKey:"monthShort",axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12}}),e.jsx(gr,{axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12}}),e.jsx(br,{content:e.jsx(n,{}),cursor:{fill:"rgba(47, 62, 70, 0.05)"}}),e.jsx(jr,{dataKey:"orderCount",radius:[8,8,0,0],maxBarSize:80,children:j.map((y,m)=>e.jsx(vr,{fill:m===j.length-1?"#2F3E46":"#9CA3AF"},`cell-${m}`))})]})})}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 pt-4 border-t border-neutral-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-neutral-400"}),e.jsx("span",{className:"text-xs text-neutral-600",children:"Previous months"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-[#2F3E46]"}),e.jsx("span",{className:"text-xs text-neutral-600",children:"Current month"})]})]})]})}function ol(){const[t,l]=b.useState(()=>{const y=new Date;y.setHours(23,59,59,999);const m=new Date;return m.setDate(m.getDate()-29),m.setHours(0,0,0,0),{from:m,to:y}}),[a,c]=b.useState("30days"),r=(y=>({name:"Gold",color:"text-warning-700",bgColor:"bg-warning-50",borderColor:"border-warning-200"}))(),j=U.overallScore-88,n={acceptanceRate:85,onTimeDelivery:90,responseTime:5};return e.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Performance"}),e.jsx("p",{className:"text-neutral-600 mt-1",children:"Track your metrics and improve your standing"})]}),e.jsx("div",{className:`border-2 ${r.borderColor} ${r.bgColor} rounded-xl p-6`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-white border-2 border-warning-300 flex items-center justify-center",children:e.jsx(yr,{className:"w-8 h-8 text-warning-600"})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h2",{className:`text-2xl font-bold ${r.color}`,children:[r.name," Partner"]}),e.jsxs(S,{className:"bg-success-100 text-success-700 border-success-200",children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"+",j," pts"]})]}),e.jsxs("p",{className:"text-neutral-700 mb-3",children:["You're performing ","exceptionally well","! Keep up the great work to maintain your ",r.name," status."]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Performance Score"}),e.jsxs("div",{className:"text-2xl font-bold text-neutral-900 mt-1",children:[U.overallScore,"/100"]})]}),e.jsx("div",{className:"h-12 w-px bg-neutral-300"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"This Period Earnings"}),e.jsx("div",{className:"text-2xl font-bold text-neutral-900 mt-1",children:_(U.totalRevenue)})]}),e.jsx("div",{className:"h-12 w-px bg-neutral-300"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Orders Completed"}),e.jsx("div",{className:"text-2xl font-bold text-neutral-900 mt-1",children:U.totalOrdersCompleted})]})]})]})]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:()=>{za({vendorName:"Kumar Cement Suppliers",reportPeriod:`${I(t.from)} to ${I(t.to)}`,overallScore:U.overallScore,rating:U.rating,acceptanceRate:U.acceptanceRate,onTimeDeliveryRate:U.onTimeDeliveryRate,averageResponseTime:U.averageResponseTime,ordersCompleted:U.ordersCompleted,totalRevenue:U.totalRevenue})},className:"border-2 flex-shrink-0",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Download Report"]})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ie,{value:a,onValueChange:c,children:[e.jsx(ce,{className:"w-[200px] h-10 border-2",children:e.jsx(oe,{})}),e.jsxs(de,{children:[e.jsx(R,{value:"7days",children:"Last 7 days"}),e.jsx(R,{value:"30days",children:"Last 30 days"}),e.jsx(R,{value:"90days",children:"Last 90 days"}),e.jsx(R,{value:"custom",children:"Custom range"})]})]}),a==="custom"&&e.jsx(il,{value:t,onChange:l})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(dt,{icon:be,label:"Acceptance Rate",value:`${U.acceptanceRate.toFixed(1)}%`,target:90,current:U.acceptanceRate,benchmark:n.acceptanceRate,description:`${U.offersAccepted} of ${U.offersReceived} offers accepted`,trend:"+2.3%",trendDirection:"up"}),e.jsx(dt,{icon:X,label:"On-Time Delivery",value:`${U.onTimeDeliveryRate.toFixed(1)}%`,target:95,current:U.onTimeDeliveryRate,benchmark:n.onTimeDelivery,description:`${U.ordersOnTime} of ${U.ordersDelivered} on time`,trend:"+1.4%",trendDirection:"up"}),e.jsx(dt,{icon:se,label:"Avg Response Time",value:`${U.averageResponseTime.toFixed(1)}m`,target:5,current:U.averageResponseTime,benchmark:n.responseTime,description:`Range: ${U.fastestResponseTime.toFixed(1)}m - ${U.slowestResponseTime.toFixed(1)}m`,trend:"-0.8m",trendDirection:"up",invertColors:!0})]}),e.jsx("div",{className:"bg-primary-50 border-2 border-primary-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(as,{className:"w-5 h-5 text-primary-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 mb-2",children:"Ways to Improve"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ve,{className:"w-4 h-4 text-primary-600 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-neutral-700",children:[e.jsx("span",{className:"font-medium",children:"Accept more offers:"})," Your acceptance rate of ",U.acceptanceRate.toFixed(1),"% is good, but reaching 95% will boost your score and order priority."]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ve,{className:"w-4 h-4 text-primary-600 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-neutral-700",children:[e.jsx("span",{className:"font-medium",children:"Respond faster:"})," Average ",U.averageResponseTime.toFixed(1),"m is excellent. Keep it under 5 minutes to maintain Gold tier."]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ve,{className:"w-4 h-4 text-primary-600 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-neutral-700",children:[e.jsx("span",{className:"font-medium",children:"On-time delivery:"})," You're doing great at ",U.onTimeDeliveryRate.toFixed(1),"%! Just ",Math.max(0,95-U.onTimeDeliveryRate).toFixed(0),"% more to hit the 95% target."]})]})]})]})]})}),e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 mb-4",children:"How Your Score is Calculated"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(mt,{label:"Acceptance Rate",weight:30,score:U.acceptanceRate,maxScore:100}),e.jsx(mt,{label:"On-Time Delivery",weight:40,score:U.onTimeDeliveryRate,maxScore:100}),e.jsx(mt,{label:"Response Time",weight:30,score:85,maxScore:100})]}),e.jsx("div",{className:"mt-6 pt-6 border-t-2 border-neutral-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-neutral-900",children:"Overall Score"}),e.jsxs("span",{className:"text-2xl font-bold text-neutral-900",children:[U.overallScore,"/100"]})]})})]}),e.jsx("div",{children:e.jsx(cl,{data:nl,title:"Order Volume & Revenue Trend",subtitle:"Last 3 months"})}),ze.length>0&&e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-neutral-900",children:"Recent Issues"}),e.jsxs(S,{variant:"outline",className:"text-neutral-600",children:[ze.filter(y=>y.status!=="resolved").length," Open"]})]}),e.jsx("div",{className:"space-y-3",children:ze.slice(0,3).map(y=>e.jsx(dl,{issue:y},y.id))}),ze.length>3&&e.jsxs(w,{variant:"ghost",size:"sm",className:"w-full mt-4 text-primary-600 hover:text-primary-700",children:["View All Issues",e.jsx(ve,{className:"w-4 h-4 ml-1"})]})]})]})}function dt({icon:t,label:l,value:a,target:c,current:s,benchmark:r,description:d,trend:j,trendDirection:n,invertColors:y=!1}){const m=y?s<=r:s>=r,o=y?s<=c:s>=c,u=o?"text-success-600":s>=r?"text-warning-600":"text-error-600",x=Math.min(s/c*100,100);return e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-50 flex items-center justify-center",children:e.jsx(t,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600",children:l}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-0.5",children:a})]})]}),j&&e.jsxs(S,{variant:"outline",className:`${n==="up"?"bg-success-50 text-success-700 border-success-200":"bg-error-50 text-error-700 border-error-200"}`,children:[n==="up"?e.jsx(ye,{className:"w-3 h-3 mr-1"}):e.jsx(Qe,{className:"w-3 h-3 mr-1"}),j]})]}),e.jsx("p",{className:"text-xs text-neutral-600 mb-3",children:d}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-600 mb-1",children:[e.jsxs("span",{children:["Target: ",c,y?"m":"%"]}),e.jsxs("span",{className:u,children:[o?e.jsx(ra,{className:"w-3 h-3 inline mr-1"}):e.jsx(fr,{className:"w-3 h-3 inline mr-1"}),o?"Target met":`${Math.abs(s-c).toFixed(1)} to go`]})]}),e.jsx("div",{className:"h-2 bg-neutral-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${o?"bg-success-500":"bg-warning-500"}`,style:{width:`${x}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-neutral-600",children:"Platform avg:"}),e.jsxs("span",{className:m?"text-success-700 font-medium":"text-neutral-700",children:[r,y?"m":"%"]}),m&&e.jsx(S,{variant:"outline",className:"bg-success-50 text-success-700 border-success-200 text-[10px] px-1.5 py-0",children:"Above average"})]})]})}function mt({label:t,weight:l,score:a,maxScore:c}){const s=a/c*100,r=a/c*l;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:t}),e.jsxs("span",{className:"text-xs text-neutral-500",children:["(",l,"% weight)"]})]}),e.jsxs("span",{className:"text-sm font-semibold text-neutral-900",children:[a.toFixed(1),"/",c]})]}),e.jsx("div",{className:"h-2 bg-neutral-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-600 transition-all duration-500",style:{width:`${s}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-neutral-600",children:["Contributes ",r.toFixed(1)," pts to overall score"]})})]})}function dl({issue:t}){const l={minor:{icon:rt,color:"text-primary-600",bgColor:"bg-primary-50"},warning:{icon:Ee,color:"text-warning-600",bgColor:"bg-warning-50"},major:{icon:Ee,color:"text-error-600",bgColor:"bg-error-50"}},a=l[t.severity]||l.minor,c=a.icon;return e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-neutral-50 rounded-lg",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg ${a.bgColor} flex items-center justify-center flex-shrink-0`,children:e.jsx(c,{className:`w-4 h-4 ${a.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:t.description}),e.jsx(S,{variant:"outline",className:`flex-shrink-0 text-xs ${t.status==="resolved"?"bg-success-50 text-success-700 border-success-200":"bg-warning-50 text-warning-700 border-warning-200"}`,children:t.status==="resolved"?"Resolved":"Open"})]}),e.jsxs("p",{className:"text-xs text-neutral-600",children:["Order ",t.orderId," • ",I(t.reportedAt)]}),t.resolution&&e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:t.resolution})]})]})}function ml({items:t,showAvailabilityColumn:l=!0,onToggleItem:a,showActions:c=!1}){const s=G(),r={cement:"Cement",sand:"Sand",aggregate:"Aggregate",steel:"Steel",bricks:"Bricks"},d={cement:"bg-blue-100 text-blue-700 border-blue-200",sand:"bg-amber-100 text-amber-700 border-amber-200",aggregate:"bg-gray-100 text-gray-700 border-gray-200",steel:"bg-slate-100 text-slate-700 border-slate-200",bricks:"bg-orange-100 text-orange-700 border-orange-200"},j=[{key:"name",label:"Item Name",sortable:!0,width:"30%",render:n=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-neutral-900",children:n.name}),n.description&&e.jsx("div",{className:"text-sm text-neutral-500 mt-0.5",children:n.description})]})},{key:"category",label:"Category",sortable:!0,width:"12%",render:n=>e.jsx(S,{variant:"outline",className:`text-xs ${d[n.category]||"bg-neutral-100 text-neutral-700"}`,children:r[n.category]||n.category})},{key:"unit",label:"Unit",sortable:!0,width:"10%",render:n=>e.jsx("span",{className:"text-sm text-neutral-700 capitalize",children:n.unit})},{key:"payoutPerUnit",label:"Payout/Unit",sortable:!0,width:"12%",render:n=>e.jsx("span",{className:"font-semibold text-neutral-900",children:_(n.payoutPerUnit)})},{key:"specifications",label:"Specifications",width:"26%",render:n=>e.jsx("span",{className:"text-sm text-neutral-600",children:n.specifications||"—"})}];return c&&a&&j.push({key:"actions",label:"Add/Remove",align:"center",width:"10%",render:n=>e.jsx("div",{className:"flex justify-center",children:e.jsx(fe,{checked:n.isAvailable,onCheckedChange:()=>a(n.id),className:"data-[state=checked]:bg-primary-600"})})}),t.length===0?e.jsxs("div",{className:"border-2 border-neutral-200 rounded-xl p-12 text-center bg-white",children:[e.jsx(X,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"No catalog items"}),e.jsx("p",{className:"text-sm text-neutral-500",children:c?"No items match your filters":"Your catalog is empty"})]}):e.jsx("div",{className:"border-2 border-neutral-200 rounded-xl overflow-hidden bg-white",children:e.jsx(ct,{data:t,columns:j,searchable:!1,pageSize:20,emptyMessage:"No items found",stickyHeader:!0,showPageSizeSelector:!0,showPaginationInfo:!0,showFirstLastButtons:!0,onRowClick:n=>s(`materials/${n.id}`),getRowClassName:()=>"cursor-pointer hover:bg-neutral-50"})})}function xl({items:t,onToggleItem:l}){const a=G(),c={cement:"Cement",sand:"Sand",aggregate:"Aggregate",steel:"Steel",bricks:"Bricks"},s={cement:"bg-blue-100 text-blue-700 border-blue-200",sand:"bg-amber-100 text-amber-700 border-amber-200",aggregate:"bg-gray-100 text-gray-700 border-gray-200",steel:"bg-slate-100 text-slate-700 border-slate-200",bricks:"bg-orange-100 text-orange-700 border-orange-200"};return t.length===0?e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-12 text-center",children:[e.jsx(X,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"No items found"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"Try adjusting your filters to see more items"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(r=>e.jsxs("div",{onClick:()=>a(`materials/${r.id}`),className:`bg-white rounded-xl border-2 transition-all hover:shadow-md cursor-pointer ${r.isAvailable?"border-primary-200 bg-primary-50/30":"border-neutral-200"}`,children:[e.jsx("div",{className:"p-4 border-b-2 border-neutral-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 truncate",children:r.name}),r.description&&e.jsx("p",{className:"text-sm text-neutral-600 mt-1 line-clamp-2",children:r.description})]}),e.jsx("div",{className:"flex-shrink-0",onClick:d=>d.stopPropagation(),children:e.jsx(fe,{checked:r.isAvailable,onCheckedChange:()=>l(r.id),className:"data-[state=checked]:bg-primary-600"})})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{variant:"outline",className:`text-xs ${s[r.category]||"bg-neutral-100 text-neutral-700"}`,children:c[r.category]||r.category}),r.isAvailable?e.jsx(S,{variant:"outline",className:"text-xs bg-primary-100 text-primary-700 border-primary-300",children:"In Catalog"}):e.jsx(S,{variant:"outline",className:"text-xs bg-neutral-100 text-neutral-600 border-neutral-300",children:"Not Added"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-neutral-900",children:_(r.payoutPerUnit)}),e.jsxs("span",{className:"text-sm text-neutral-500",children:["/ ",r.unit]})]}),r.specifications&&e.jsxs("div",{className:"pt-2 border-t border-neutral-200",children:[e.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-1",children:"Specifications"}),e.jsx("p",{className:"text-sm text-neutral-700",children:r.specifications})]})]}),e.jsx("div",{className:`px-4 py-2 border-t-2 ${r.isAvailable?"bg-primary-50 border-primary-100":"bg-neutral-50 border-neutral-200"}`,children:e.jsx("p",{className:"text-xs text-neutral-600",children:r.isAvailable?"✓ Visible to buyers":"Toggle switch to add to catalog"})})]},r.id))})}function ul({items:t,showAvailabilityColumn:l=!0,onToggleItem:a,showActions:c=!1}){const s=G(),r={mason:"Mason",electrician:"Electrician",plumber:"Plumber",carpenter:"Carpenter",painter:"Painter",welder:"Welder",helper:"Helper"},d={mason:"bg-orange-100 text-orange-700 border-orange-200",electrician:"bg-yellow-100 text-yellow-700 border-yellow-200",plumber:"bg-blue-100 text-blue-700 border-blue-200",carpenter:"bg-amber-100 text-amber-700 border-amber-200",painter:"bg-purple-100 text-purple-700 border-purple-200",welder:"bg-red-100 text-red-700 border-red-200",helper:"bg-neutral-100 text-neutral-700 border-neutral-200"},j=[{key:"name",label:"Service Name",sortable:!0,width:"30%",render:n=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-neutral-900",children:n.name}),n.description&&e.jsx("div",{className:"text-sm text-neutral-500 mt-0.5",children:n.description})]})},{key:"skillType",label:"Skill Type",sortable:!0,width:"14%",render:n=>e.jsx(S,{variant:"outline",className:`text-xs ${d[n.skillType]||"bg-neutral-100 text-neutral-700"}`,children:r[n.skillType]||n.skillType})},{key:"rateType",label:"Rate Type",sortable:!0,width:"12%",render:n=>e.jsx("span",{className:"text-sm text-neutral-700 capitalize",children:n.rateType})},{key:"payoutPerUnit",label:"Payout / Unit",sortable:!0,width:"14%",render:n=>e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-neutral-900",children:_(n.payoutPerUnit)}),e.jsxs("div",{className:"text-xs text-neutral-500",children:["per ",n.unit]})]})}];return c&&a&&j.push({key:"actions",label:"Add/Remove",align:"center",width:"10%",render:n=>e.jsx("div",{className:"flex justify-center",children:e.jsx(fe,{checked:n.isAvailable,onCheckedChange:()=>a(n.id),className:"data-[state=checked]:bg-primary-600"})})}),e.jsx(ct,{data:t,columns:j,emptyState:{icon:Be,title:"No services found",description:"No services match your current filters"},onRowClick:n=>s(`services/${n.id}`),getRowClassName:()=>"cursor-pointer hover:bg-neutral-50"})}function hl({items:t,onToggleItem:l}){const a=G(),c={mason:"Mason",electrician:"Electrician",plumber:"Plumber",carpenter:"Carpenter",painter:"Painter",welder:"Welder",helper:"Helper"},s={mason:"bg-orange-100 text-orange-700 border-orange-200",electrician:"bg-yellow-100 text-yellow-700 border-yellow-200",plumber:"bg-blue-100 text-blue-700 border-blue-200",carpenter:"bg-amber-100 text-amber-700 border-amber-200",painter:"bg-purple-100 text-purple-700 border-purple-200",welder:"bg-red-100 text-red-700 border-red-200",helper:"bg-neutral-100 text-neutral-700 border-neutral-200"};return t.length===0?e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-12 text-center",children:[e.jsx(Be,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"No services found"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"Try adjusting your filters to see more services"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(r=>e.jsxs("div",{onClick:()=>a(`services/${r.id}`),className:`bg-white rounded-xl border-2 transition-all hover:shadow-md cursor-pointer ${r.isAvailable?"border-primary-200 bg-primary-50/30":"border-neutral-200"}`,children:[e.jsxs("div",{className:"p-4 border-b-2 border-neutral-200",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 truncate",children:r.name}),r.description&&e.jsx("p",{className:"text-sm text-neutral-600 mt-1 line-clamp-2",children:r.description})]}),e.jsx("div",{className:"flex-shrink-0",onClick:d=>d.stopPropagation(),children:e.jsx(fe,{checked:r.isAvailable,onCheckedChange:()=>l(r.id),className:"data-[state=checked]:bg-primary-600"})})]}),e.jsx("div",{className:"mt-3",children:e.jsx(S,{variant:"outline",className:`text-xs ${s[r.skillType]||"bg-neutral-100 text-neutral-700"}`,children:c[r.skillType]||r.skillType})})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-500",children:"Payout Rate"}),e.jsx("p",{className:"text-lg font-bold text-neutral-900 mt-0.5",children:_(r.payoutPerUnit)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-neutral-500",children:"Rate Type"}),e.jsx("p",{className:"text-sm font-medium text-neutral-700 mt-0.5 capitalize",children:r.rateType})]})]}),e.jsx("div",{className:"pt-2 border-t border-neutral-200",children:e.jsxs("p",{className:"text-xs text-neutral-500",children:["Per ",r.unit]})}),e.jsx("div",{className:"pt-2",children:r.isAvailable?e.jsx(S,{variant:"outline",className:"text-xs bg-primary-100 text-primary-700 border-primary-300",children:"In Catalog"}):e.jsx(S,{variant:"outline",className:"text-xs bg-neutral-100 text-neutral-600 border-neutral-300",children:"Not in Catalog"})})]}),e.jsx("div",{className:"px-4 py-3 bg-neutral-50 border-t-2 border-neutral-200 rounded-b-xl",children:e.jsx("p",{className:"text-xs text-neutral-500 text-center",children:r.isAvailable?"✓ Visible to buyers":"Toggle switch to add to catalog"})})]},r.id))})}function pl(){const t=()=>{const l=`https://wa.me/${catalogUpdateInstructions.whatsappNumber.replace(/\+/g,"")}?text=${encodeURIComponent(catalogUpdateInstructions.whatsappMessage)}`;window.open(l,"_blank")};return e.jsx("div",{className:"bg-success-50 border-2 border-success-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 p-2 bg-success-100 rounded-lg",children:e.jsx(xe,{className:"w-5 h-5 text-success-700"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 mb-2",children:"Alternative: Update via WhatsApp"}),e.jsx("p",{className:"text-sm text-neutral-700 mb-3",children:"You can also manage your catalog by sending a WhatsApp message to RealServ support."}),e.jsxs(w,{onClick:t,variant:"outline",size:"sm",className:"bg-white border-success-300 text-success-700 hover:bg-success-50",children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"Contact on WhatsApp"]})]})]})})}const gl=[{id:"item_cement_ultratech_50kg",name:"UltraTech Cement 50kgs",category:"cement",unit:"bag",payoutPerUnit:360,description:"UltraTech OPC 53 Grade Cement",specifications:"50kg bag",imageUrl:"https://example.com/images/cement_ultratech_50kg.jpg",brandName:"UltraTech",hsn:"123456789",gstRate:18},{id:"item_cement_acc_50kg",name:"ACC Cement 50kg",category:"cement",unit:"bag",payoutPerUnit:355,description:"ACC OPC 53 Grade Cement",specifications:"50kg bag",imageUrl:"https://example.com/images/cement_acc_50kg.jpg",brandName:"ACC",hsn:"123456789",gstRate:18},{id:"item_cement_ambuja_50kg",name:"Ambuja Cement 50kg",category:"cement",unit:"bag",payoutPerUnit:358,description:"Ambuja OPC 53 Grade Cement",specifications:"50kg bag",imageUrl:"https://example.com/images/cement_ambuja_50kg.jpg",brandName:"Ambuja",hsn:"123456789",gstRate:18},{id:"item_cement_birla_50kg",name:"Birla A1 Cement 50kg",category:"cement",unit:"bag",payoutPerUnit:352,description:"Birla A1 Premium Cement",specifications:"50kg bag",imageUrl:"https://example.com/images/cement_birla_50kg.jpg",brandName:"Birla",hsn:"123456789",gstRate:18},{id:"item_cement_ppc_50kg",name:"PPC Cement 50kg",category:"cement",unit:"bag",payoutPerUnit:340,description:"Portland Pozzolana Cement",specifications:"50kg bag",imageUrl:"https://example.com/images/cement_ppc_50kg.jpg",brandName:"PPC",hsn:"123456789",gstRate:18},{id:"item_sand_msand",name:"M-Sand (Manufactured Sand)",category:"sand",unit:"trolley",payoutPerUnit:1200,description:"Manufactured sand for construction",specifications:"1 trolley (approx 1.5 ton)",imageUrl:"https://example.com/images/sand_msand.jpg",brandName:"M-Sand",hsn:"123456789",gstRate:18},{id:"item_sand_river",name:"River Sand",category:"sand",unit:"trolley",payoutPerUnit:1400,description:"Natural river sand",specifications:"1 trolley (approx 1.5 ton)",imageUrl:"https://example.com/images/sand_river.jpg",brandName:"River Sand",hsn:"123456789",gstRate:18},{id:"item_sand_plaster",name:"Plaster Sand",category:"sand",unit:"trolley",payoutPerUnit:1300,description:"Fine sand for plastering",specifications:"1 trolley (approx 1.5 ton)",imageUrl:"https://example.com/images/sand_plaster.jpg",brandName:"Plaster Sand",hsn:"123456789",gstRate:18},{id:"item_aggregate_20mm",name:"20mm Aggregate",category:"aggregate",unit:"trolley",payoutPerUnit:1400,description:"20mm blue metal aggregate",specifications:"1 trolley (approx 1.5 ton)",imageUrl:"https://example.com/images/aggregate_20mm.jpg",brandName:"20mm Aggregate",hsn:"123456789",gstRate:18},{id:"item_aggregate_40mm",name:"40mm Aggregate",category:"aggregate",unit:"trolley",payoutPerUnit:1350,description:"40mm blue metal aggregate",specifications:"1 trolley (approx 1.5 ton)",imageUrl:"https://example.com/images/aggregate_40mm.jpg",brandName:"40mm Aggregate",hsn:"123456789",gstRate:18},{id:"item_aggregate_12mm",name:"12mm Aggregate",category:"aggregate",unit:"trolley",payoutPerUnit:1450,description:"12mm chips for concrete",specifications:"1 trolley (approx 1.5 ton)",imageUrl:"https://example.com/images/aggregate_12mm.jpg",brandName:"12mm Aggregate",hsn:"123456789",gstRate:18},{id:"item_aggregate_dust",name:"Stone Dust",category:"aggregate",unit:"trolley",payoutPerUnit:1100,description:"Crushed stone dust",specifications:"1 trolley (approx 1.5 ton)",imageUrl:"https://example.com/images/aggregate_dust.jpg",brandName:"Stone Dust",hsn:"123456789",gstRate:18},{id:"item_steel_tmt_8mm",name:"TMT Steel Bars 8mm",category:"steel",unit:"kg",payoutPerUnit:58,description:"TMT bars for construction",specifications:"8mm diameter",imageUrl:"https://example.com/images/steel_tmt_8mm.jpg",brandName:"TMT Steel",hsn:"123456789",gstRate:18},{id:"item_steel_tmt_10mm",name:"TMT Steel Bars 10mm",category:"steel",unit:"kg",payoutPerUnit:58,description:"TMT bars for construction",specifications:"10mm diameter",imageUrl:"https://example.com/images/steel_tmt_10mm.jpg",brandName:"TMT Steel",hsn:"123456789",gstRate:18},{id:"item_steel_tmt_12mm",name:"TMT Steel Bars 12mm",category:"steel",unit:"kg",payoutPerUnit:58,description:"TMT bars for construction",specifications:"12mm diameter",imageUrl:"https://example.com/images/steel_tmt_12mm.jpg",brandName:"TMT Steel",hsn:"123456789",gstRate:18},{id:"item_steel_tmt_16mm",name:"TMT Steel Bars 16mm",category:"steel",unit:"kg",payoutPerUnit:59,description:"TMT bars for columns/beams",specifications:"16mm diameter",imageUrl:"https://example.com/images/steel_tmt_16mm.jpg",brandName:"TMT Steel",hsn:"123456789",gstRate:18},{id:"item_steel_tmt_20mm",name:"TMT Steel Bars 20mm",category:"steel",unit:"kg",payoutPerUnit:59,description:"TMT bars for heavy structures",specifications:"20mm diameter",imageUrl:"https://example.com/images/steel_tmt_20mm.jpg",brandName:"TMT Steel",hsn:"123456789",gstRate:18},{id:"item_bricks_red",name:"Red Clay Bricks",category:"bricks",unit:"piece",payoutPerUnit:8,description:"Standard red clay bricks",specifications:'9" x 4" x 3"',imageUrl:"https://example.com/images/bricks_red.jpg",brandName:"Red Clay Bricks",hsn:"123456789",gstRate:18},{id:"item_bricks_fly_ash",name:"Fly Ash Bricks",category:"bricks",unit:"piece",payoutPerUnit:7,description:"Eco-friendly fly ash bricks",specifications:'9" x 4" x 3"',imageUrl:"https://example.com/images/bricks_fly_ash.jpg",brandName:"Fly Ash Bricks",hsn:"123456789",gstRate:18},{id:"item_bricks_concrete",name:"Concrete Blocks",category:"bricks",unit:"piece",payoutPerUnit:35,description:"Hollow concrete blocks",specifications:'16" x 8" x 8"',imageUrl:"https://example.com/images/bricks_concrete.jpg",brandName:"Concrete Blocks",hsn:"123456789",gstRate:18}],bl=["item_cement_ultratech_50kg","item_cement_acc_50kg","item_sand_msand","item_aggregate_20mm","item_steel_tmt_8mm"],Ts=gl.map(t=>({...t,isAvailable:bl.includes(t.id)})),jl=[{id:"service_mason_expert",name:"Expert Mason",skillType:"mason",rateType:"daily",payoutPerUnit:1200,unit:"day",description:"Experienced mason for brick/block work, plastering, and flooring"},{id:"service_mason_standard",name:"Standard Mason",skillType:"mason",rateType:"daily",payoutPerUnit:900,unit:"day",description:"Mason for general construction work"},{id:"service_electrician_expert",name:"Expert Electrician",skillType:"electrician",rateType:"daily",payoutPerUnit:1400,unit:"day",description:"Licensed electrician for wiring, installation, and maintenance"},{id:"service_electrician_hourly",name:"Electrician (Hourly)",skillType:"electrician",rateType:"hourly",payoutPerUnit:200,unit:"hour",description:"Electrician for small repairs and installations"},{id:"service_plumber_expert",name:"Expert Plumber",skillType:"plumber",rateType:"daily",payoutPerUnit:1300,unit:"day",description:"Licensed plumber for piping, drainage, and fixture installation"},{id:"service_plumber_hourly",name:"Plumber (Hourly)",skillType:"plumber",rateType:"hourly",payoutPerUnit:180,unit:"hour",description:"Plumber for repairs and maintenance"},{id:"service_carpenter_expert",name:"Expert Carpenter",skillType:"carpenter",rateType:"daily",payoutPerUnit:1100,unit:"day",description:"Skilled carpenter for doors, windows, furniture, and formwork"},{id:"service_carpenter_standard",name:"Standard Carpenter",skillType:"carpenter",rateType:"daily",payoutPerUnit:850,unit:"day",description:"Carpenter for general woodwork"},{id:"service_painter_expert",name:"Expert Painter",skillType:"painter",rateType:"daily",payoutPerUnit:1e3,unit:"day",description:"Professional painter for interior and exterior work"},{id:"service_painter_standard",name:"Standard Painter",skillType:"painter",rateType:"daily",payoutPerUnit:750,unit:"day",description:"Painter for general painting work"},{id:"service_welder_expert",name:"Expert Welder",skillType:"welder",rateType:"daily",payoutPerUnit:1500,unit:"day",description:"Certified welder for steel structures and metal work"},{id:"service_welder_hourly",name:"Welder (Hourly)",skillType:"welder",rateType:"hourly",payoutPerUnit:220,unit:"hour",description:"Welder for small welding jobs"},{id:"service_helper_daily",name:"Construction Helper",skillType:"helper",rateType:"daily",payoutPerUnit:600,unit:"day",description:"General construction helper for site work"},{id:"service_helper_hourly",name:"Helper (Hourly)",skillType:"helper",rateType:"hourly",payoutPerUnit:80,unit:"hour",description:"Helper for miscellaneous tasks"}],vl=["service_mason_expert","service_helper_daily"],Rs=jl.map(t=>({...t,isAvailable:vl.includes(t.id)})),Bt="realserv_catalog_view_mode",Zt="realserv_catalog_tab";function yl(){const[t,l]=b.useState(()=>{const i=localStorage.getItem(Zt);return i==="materials"||i==="services"?i:"materials"}),[a,c]=b.useState(()=>{const i=localStorage.getItem(Bt);return i==="grid"||i==="list"?i:"grid"}),[s,r]=b.useState("all"),[d,j]=b.useState(Ts),[n,y]=b.useState(Rs),[m,o]=b.useState(""),[u,x]=b.useState("all");b.useEffect(()=>{localStorage.setItem(Zt,t)},[t]),b.useEffect(()=>{localStorage.setItem(Bt,a)},[a]);const p=b.useMemo(()=>{const i=new Set(d.map(k=>k.category));return Array.from(i)},[d]),h={cement:"Cement",sand:"Sand",aggregate:"Aggregate",steel:"Steel",bricks:"Bricks"},N={mason:"Mason",electrician:"Electrician",plumber:"Plumber",carpenter:"Carpenter",painter:"Painter",welder:"Welder",helper:"Helper"},C=b.useMemo(()=>{const i=new Set(n.map(k=>k.skillType));return Array.from(i)},[n]),v=b.useMemo(()=>{const i=d.filter(g=>g.isAvailable).length,k=d.filter(g=>!g.isAvailable).length;return{all:d.length,inCatalog:i,available:k}},[d]),A=b.useMemo(()=>{const i=n.filter(g=>g.isAvailable).length,k=n.filter(g=>!g.isAvailable).length;return{all:n.length,inCatalog:i,available:k}},[n]),P=b.useMemo(()=>{let i=[...d];if(s==="in-catalog"?i=i.filter(k=>k.isAvailable):s==="available"&&(i=i.filter(k=>!k.isAvailable)),u!=="all"&&(i=i.filter(k=>k.category===u)),m.trim()){const k=m.toLowerCase();i=i.filter(g=>{var E,F;return g.name.toLowerCase().includes(k)||((E=g.description)==null?void 0:E.toLowerCase().includes(k))||((F=g.specifications)==null?void 0:F.toLowerCase().includes(k))||g.category.toLowerCase().includes(k)})}return i},[d,s,u,m]),z=b.useMemo(()=>{let i=[...n];if(s==="in-catalog"?i=i.filter(k=>k.isAvailable):s==="available"&&(i=i.filter(k=>!k.isAvailable)),u!=="all"&&(i=i.filter(k=>k.skillType===u)),m.trim()){const k=m.toLowerCase();i=i.filter(g=>{var E;return g.name.toLowerCase().includes(k)||((E=g.description)==null?void 0:E.toLowerCase().includes(k))||g.skillType.toLowerCase().includes(k)})}return i},[n,s,u,m]),Y=i=>{j(k=>k.map(g=>g.id===i?{...g,isAvailable:!g.isAvailable}:g))},K=i=>{y(k=>k.map(g=>g.id===i?{...g,isAvailable:!g.isAvailable}:g))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Catalog Management"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Manage items you offer to buyers"})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:t==="materials"?"Total Items":"Total Services"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-1",children:t==="materials"?v.all:A.all})]}),e.jsxs("div",{className:"bg-primary-50 border-2 border-primary-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-primary-700",children:"In My Catalog"}),e.jsx("p",{className:"text-2xl font-bold text-primary-900 mt-1",children:t==="materials"?v.inCatalog:A.inCatalog})]}),e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Available to Add"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-1",children:t==="materials"?v.available:A.available})]})]}),e.jsxs(ls,{value:t,onValueChange:i=>l(i),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ns,{children:[e.jsxs(Je,{value:"materials",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Materials"]}),e.jsxs(Je,{value:"services",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Services"]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white border-2 border-neutral-200 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded transition-colors ${a==="grid"?"bg-primary-50 text-primary-700":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-50"}`,title:"Grid view",children:e.jsx(Nr,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded transition-colors ${a==="list"?"bg-primary-50 text-primary-700":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-50"}`,title:"List view",children:e.jsx(qr,{className:"w-5 h-5"})})]})]}),e.jsxs(et,{value:"materials",children:[e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl overflow-hidden mb-6",children:[e.jsx("div",{className:"p-4 border-b-2 border-neutral-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx(he,{placeholder:"Search materials by name, description, or specifications...",value:m,onChange:i=>o(i.target.value),className:"pl-10 h-11"})]})}),e.jsxs("div",{className:"px-4 py-3 bg-neutral-50 flex items-center gap-3 flex-wrap",children:[e.jsxs(ie,{value:s,onValueChange:i=>r(i),children:[e.jsx(ce,{className:"w-[200px] h-10 border-2 bg-white",children:e.jsx(oe,{placeholder:"Filter by status"})}),e.jsxs(de,{children:[e.jsxs(R,{value:"all",children:["All Items (",v.all,")"]}),e.jsxs(R,{value:"in-catalog",children:["In My Catalog (",v.inCatalog,")"]}),e.jsxs(R,{value:"available",children:["Available to Add (",v.available,")"]})]})]}),e.jsxs(ie,{value:u,onValueChange:x,children:[e.jsx(ce,{className:"w-[200px] h-10 border-2 bg-white",children:e.jsx(oe,{placeholder:"Filter by category"})}),e.jsxs(de,{children:[e.jsx(R,{value:"all",children:"All Categories"}),p.map(i=>e.jsx(R,{value:i,children:h[i]||i},i))]})]}),e.jsxs("div",{className:"ml-auto text-sm text-neutral-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-neutral-900",children:P.length})," of"," ",e.jsx("span",{className:"font-semibold text-neutral-900",children:v.all})," items"]})]})]}),P.length===0?e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-12 text-center",children:[e.jsx(X,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"No materials found"}),e.jsx("p",{className:"text-sm text-neutral-500",children:m||u!=="all"?"Try adjusting your search or filters":"No materials available"})]}):a==="grid"?e.jsx(xl,{items:P,onToggleItem:Y}):e.jsx(ml,{items:P,showAvailabilityColumn:!0,onToggleItem:Y,showActions:!0})]}),e.jsxs(et,{value:"services",children:[e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl overflow-hidden mb-6",children:[e.jsx("div",{className:"p-4 border-b-2 border-neutral-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx(he,{placeholder:"Search services by skill name or description...",value:m,onChange:i=>o(i.target.value),className:"pl-10 h-11"})]})}),e.jsxs("div",{className:"px-4 py-3 bg-neutral-50 flex items-center gap-3 flex-wrap",children:[e.jsxs(ie,{value:s,onValueChange:i=>r(i),children:[e.jsx(ce,{className:"w-[200px] h-10 border-2 bg-white",children:e.jsx(oe,{placeholder:"Filter by status"})}),e.jsxs(de,{children:[e.jsxs(R,{value:"all",children:["All Services (",A.all,")"]}),e.jsxs(R,{value:"in-catalog",children:["In My Catalog (",A.inCatalog,")"]}),e.jsxs(R,{value:"available",children:["Available to Add (",A.available,")"]})]})]}),e.jsxs(ie,{value:u,onValueChange:x,children:[e.jsx(ce,{className:"w-[200px] h-10 border-2 bg-white",children:e.jsx(oe,{placeholder:"Filter by skill type"})}),e.jsxs(de,{children:[e.jsx(R,{value:"all",children:"All Skill Types"}),C.map(i=>e.jsx(R,{value:i,children:N[i]||i},i))]})]}),e.jsxs("div",{className:"ml-auto text-sm text-neutral-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-neutral-900",children:z.length})," of"," ",e.jsx("span",{className:"font-semibold text-neutral-900",children:A.all})," services"]})]})]}),z.length===0?e.jsxs("div",{className:"bg-white rounded-xl border-2 border-neutral-200 p-12 text-center",children:[e.jsx(Be,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"No services found"}),e.jsx("p",{className:"text-sm text-neutral-500",children:m||u!=="all"?"Try adjusting your search or filters":"No services available"})]}):a==="grid"?e.jsx(hl,{items:z,onToggleItem:K}):e.jsx(ul,{items:z,showAvailabilityColumn:!0,onToggleItem:K,showActions:!0})]})]}),e.jsx(pl,{})]})}const Ht={cement:"Cement",sand:"Sand",aggregate:"Aggregate",steel:"Steel",bricks:"Bricks"};function fl(){const{id:t}=He(),l=G(),a=Ts.find(d=>d.id===t),[c,s]=b.useState((a==null?void 0:a.isAvailable)||!1);if(!a)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(X,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Material not found"}),e.jsx("p",{className:"text-neutral-600 mt-2",children:"The material you're looking for doesn't exist."}),e.jsxs(w,{onClick:()=>l("/vendor/catalog"),className:"mt-4",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Catalog"]})]})});const r=()=>{s(!c),L.success(c?`${a.name} removed from your catalog`:`${a.name} added to your catalog`)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>l("/vendor/catalog"),className:"text-neutral-600 hover:text-neutral-900 -ml-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Catalog"]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:a.name}),e.jsx(S,{variant:"outline",className:"bg-neutral-100 text-neutral-700 border-neutral-200",children:Ht[a.category]||a.category})]}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["SKU: ",a.id]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-sm font-medium ${c?"text-primary-700":"text-neutral-600"}`,children:c?"In My Catalog":"Not in Catalog"}),e.jsx(fe,{checked:c,onCheckedChange:r,className:"data-[state=checked]:bg-primary-600"})]})]}),!c&&e.jsx("div",{className:"bg-warning-50 border-2 border-warning-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-warning-700 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-warning-900",children:"Not in your catalog"}),e.jsx("p",{className:"text-sm text-warning-800 mt-1",children:"Add this material to start receiving order requests from buyers in your service areas."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{className:"p-6 border-2 border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[a.imageUrl&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Material Image"}),e.jsx("div",{className:"mt-2 w-32 h-32 bg-neutral-50 border-2 border-neutral-200 rounded-lg overflow-hidden flex items-center justify-center",children:e.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-cover"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Material Name"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Category"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1",children:Ht[a.category]||a.category})]}),a.brandName&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Brand Name"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1",children:a.brandName})]}),a.description&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Description"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1",children:a.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Unit of Measurement"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1 capitalize",children:a.unit})]})]})]}),e.jsxs(M,{className:"p-6 border-2 border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Pricing & Specifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Your Payout Per Unit"}),e.jsx("p",{className:"text-2xl font-semibold text-primary-700 mt-1",children:_(a.payoutPerUnit)}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:["You earn this amount per ",a.unit," sold"]})]}),a.specifications&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Specifications"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1",children:a.specifications})]}),e.jsx("div",{className:"pt-4 border-t-2 border-neutral-200",children:e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"Payout Information"}),e.jsxs("ul",{className:"space-y-2 text-sm text-neutral-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-primary-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Fixed payout rate per unit delivered"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-primary-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"No price negotiation required"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-primary-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Payment settled after successful delivery"})]})]})]})})]})]})]}),e.jsxs(M,{className:"p-6 border-2 border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Additional Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Material ID / SKU"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1 font-mono",children:a.id})]}),a.hsn&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"HSN Code"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1",children:a.hsn})]}),a.gstRate&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"GST Rate"}),e.jsxs("p",{className:"text-sm text-neutral-900 mt-1",children:[a.gstRate,"%"]})]})]})]}),e.jsxs(M,{className:"p-6 border-2 border-neutral-200 bg-neutral-50",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"How It Works"}),e.jsxs("div",{className:"space-y-2 text-sm text-neutral-700",children:[e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 font-bold min-w-[20px]",children:"1."}),"Add materials to your catalog using the toggle above"]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 font-bold min-w-[20px]",children:"2."}),"Buyers in your service areas can see and order these materials"]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 font-bold min-w-[20px]",children:"3."}),"Accept orders, deliver materials, and earn your payout per unit"]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 font-bold min-w-[20px]",children:"4."}),"Payments are settled to your account after successful delivery confirmation"]})]})]})]})}const Vt={mason:"Mason",electrician:"Electrician",plumber:"Plumber",carpenter:"Carpenter",painter:"Painter",welder:"Welder",helper:"Helper"},qt={mason:"bg-orange-100 text-orange-700 border-orange-200",electrician:"bg-yellow-100 text-yellow-700 border-yellow-200",plumber:"bg-blue-100 text-blue-700 border-blue-200",carpenter:"bg-amber-100 text-amber-700 border-amber-200",painter:"bg-purple-100 text-purple-700 border-purple-200",welder:"bg-red-100 text-red-700 border-red-200",helper:"bg-neutral-100 text-neutral-700 border-neutral-200"};function Nl(){const{id:t}=He(),l=G(),a=Rs.find(d=>d.id===t),[c,s]=b.useState((a==null?void 0:a.isAvailable)||!1);if(!a)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Be,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Service not found"}),e.jsx("p",{className:"text-neutral-600 mt-2",children:"The service you're looking for doesn't exist."}),e.jsxs(w,{onClick:()=>l("/vendor/catalog"),className:"mt-4",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Catalog"]})]})});const r=()=>{s(!c),L.success(c?`${a.name} removed from your catalog`:`${a.name} added to your catalog`)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>l("/vendor/catalog"),className:"text-neutral-600 hover:text-neutral-900 -ml-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Catalog"]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:a.name}),e.jsx(S,{variant:"outline",className:qt[a.skillType]||"bg-neutral-100 text-neutral-700 border-neutral-200",children:Vt[a.skillType]||a.skillType})]}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["SKU: ",a.id]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-sm font-medium ${c?"text-primary-700":"text-neutral-600"}`,children:c?"In My Catalog":"Not in Catalog"}),e.jsx(fe,{checked:c,onCheckedChange:r,className:"data-[state=checked]:bg-primary-600"})]})]}),!c&&e.jsx("div",{className:"bg-warning-50 border-2 border-warning-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-warning-700 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-warning-900",children:"Not in your catalog"}),e.jsx("p",{className:"text-sm text-warning-800 mt-1",children:"Add this service to start receiving booking requests from buyers in your service areas."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{className:"p-6 border-2 border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Service Name"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Skill Type"}),e.jsx("div",{className:"mt-1",children:e.jsx(S,{variant:"outline",className:`text-xs ${qt[a.skillType]||"bg-neutral-100 text-neutral-700"}`,children:Vt[a.skillType]||a.skillType})})]}),a.description&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Description"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1",children:a.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Rate Type"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1 capitalize",children:a.rateType})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Unit"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1 capitalize",children:a.unit})]})]})]}),e.jsxs(M,{className:"p-6 border-2 border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Pricing & Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Your Payout Per Unit"}),e.jsx("p",{className:"text-2xl font-semibold text-primary-700 mt-1",children:_(a.payoutPerUnit)}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:["You earn this amount per ",a.unit," completed"]})]}),a.minBookingHours&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Minimum Booking"}),e.jsxs("p",{className:"text-sm text-neutral-900 mt-1",children:[a.minBookingHours," hours"]})]}),e.jsx("div",{className:"pt-4 border-t-2 border-neutral-200",children:e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"Payout Information"}),e.jsxs("ul",{className:"space-y-2 text-sm text-neutral-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-primary-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Fixed payout rate per unit completed"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-primary-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"No rate negotiation required"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-primary-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Payment settled after work completion"})]})]})]})})]})]})]}),e.jsxs(M,{className:"p-6 border-2 border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Additional Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Service ID / SKU"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1 font-mono",children:a.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Rate Type"}),e.jsx("p",{className:"text-sm text-neutral-900 mt-1 capitalize",children:a.rateType})]}),a.minBookingHours&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Min. Booking"}),e.jsxs("p",{className:"text-sm text-neutral-900 mt-1",children:[a.minBookingHours," hours"]})]})]})]}),e.jsxs(M,{className:"p-6 border-2 border-neutral-200 bg-neutral-50",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"How It Works"}),e.jsxs("div",{className:"space-y-2 text-sm text-neutral-700",children:[e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 font-bold min-w-[20px]",children:"1."}),"Add services to your catalog using the toggle above"]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 font-bold min-w-[20px]",children:"2."}),"Buyers in your service areas can see and book these services"]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 font-bold min-w-[20px]",children:"3."}),"Accept bookings, complete the work, and earn your payout per unit"]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary-600 font-bold min-w-[20px]",children:"4."}),"Payments are settled to your account after work completion confirmation"]})]})]})]})}const Ke=["Miyapur","Kukatpally","KPHB","Gachibowli","Madhapur","Hitech City","Kondapur","Manikonda","Narsingi","Kokapet","Financial District","Jubilee Hills","Banjara Hills","Begumpet","Secunderabad","Ameerpet","SR Nagar","Erragadda","Panjagutta","Somajiguda","Lakdikapul","Masab Tank","Mehdipatnam","Tolichowki","Attapur","Rajendra Nagar","Lingampally","Bachupally","Nizampet","Pragathi Nagar"],wl={west:["Miyapur","Kukatpally","KPHB","Bachupally","Nizampet","Pragathi Nagar","Kondapur","Lingampally"],centralWest:["Gachibowli","Madhapur","Hitech City","Kondapur","Manikonda","Narsingi","Kokapet","Financial District"],central:["Jubilee Hills","Banjara Hills","Begumpet","Secunderabad","Ameerpet","SR Nagar","Erragadda","Panjagutta","Somajiguda","Lakdikapul"],south:["Masab Tank","Mehdipatnam","Tolichowki","Attapur","Rajendra Nagar","Gachibowli","Financial District","Narsingi"]};function Al(t){for(const[l,a]of Object.entries(wl))if(a.includes(t))return[...a];return[]}function Sl({vendor:t}){const{updateServiceAreas:l}=Te(),[a,c]=b.useState(!1),[s,r]=b.useState(t.serviceAreas),[d,j]=b.useState(""),n=b.useMemo(()=>Al(t.businessLocation),[t.businessLocation]);b.useEffect(()=>{r(t.serviceAreas)},[t.serviceAreas]);const y=b.useMemo(()=>{if(!d.trim())return Ke;const v=d.toLowerCase();return Ke.filter(A=>A.toLowerCase().includes(v))},[d]),{allowedFilteredAreas:m,restrictedFilteredAreas:o}=b.useMemo(()=>{const v=[],A=[];return y.forEach(P=>{n.includes(P)?v.push(P):A.push(P)}),{allowedFilteredAreas:v,restrictedFilteredAreas:A}},[y,n]),u=v=>{if(!n.includes(v)){L.error("This area is outside your service zone. Contact RealServ support to expand your zone.");return}r(A=>A.includes(v)?A.filter(P=>P!==v):[...A,v])},x=()=>{r([...n])},p=()=>{r([])},h=()=>{if(s.length===0){L.error("Please select at least one service area");return}l(s),c(!1),L.success("Service areas updated successfully")},N=()=>{r(t.serviceAreas),j(""),c(!1)},C=()=>{r(t.serviceAreas),j(""),c(!0)};return e.jsxs(M,{children:[e.jsx(J,{children:e.jsxs(re,{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-primary-700"}),"Business Information"]})}),e.jsxs($,{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:"Business Name"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-base font-medium text-neutral-900",children:t.businessName}),e.jsx(S,{variant:"outline",className:"bg-success-100 text-success-700 border-success-200",children:"Verified"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:[e.jsx(Ue,{className:"w-3.5 h-3.5 inline mr-1"}),"Owner Name"]}),e.jsx("p",{className:"text-base text-neutral-900",children:t.ownerName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:[e.jsx(Oe,{className:"w-3.5 h-3.5 inline mr-1"}),"Phone Number"]}),e.jsx("p",{className:"text-base text-neutral-900 font-mono",children:t.phone})]}),t.email&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:[e.jsx($e,{className:"w-3.5 h-3.5 inline mr-1"}),"Email Address"]}),e.jsx("p",{className:"text-base text-neutral-900",children:t.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:[e.jsx(Me,{className:"w-3.5 h-3.5 inline mr-1"}),"Service Areas"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.serviceAreas.map(v=>e.jsx(S,{variant:"outline",className:"bg-neutral-100 text-neutral-700 border-neutral-300",children:v},v))}),e.jsxs(w,{className:"mt-2",size:"sm",variant:"outline",onClick:C,children:[e.jsx(Kr,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsx("div",{className:"pt-4 border-t border-neutral-200",children:e.jsxs("p",{className:"text-sm text-neutral-600",children:[e.jsx("strong",{children:"Note:"})," To update business information,"," ",e.jsx(De,{to:"/vendor/support",className:"text-primary-700 hover:text-primary-800 underline font-medium",children:"contact RealServ support"}),"."]})})]}),e.jsx(Wt,{open:a,onOpenChange:c,children:e.jsxs(Jt,{className:"sm:max-w-[600px]",children:[e.jsxs(es,{children:[e.jsxs(ts,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-primary"}),"Edit Service Areas"]}),e.jsxs(ss,{children:["You can select areas within your zone based on your business location (",t.businessLocation,")."," ",e.jsx(De,{to:"/vendor/support",className:"text-primary-700 hover:text-primary-800 underline font-medium",children:"Contact RealServ support"})," ","to serve additional areas."]})]}),e.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(rt,{className:"w-4 h-4 text-primary-700 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 text-sm text-neutral-700",children:[e.jsx("p",{className:"font-medium text-neutral-900 mb-1",children:"Service Zone Policy"}),e.jsxs("p",{className:"text-xs",children:["Based on your location in ",e.jsx("span",{className:"font-semibold",children:t.businessLocation}),", you can serve ",e.jsxs("span",{className:"font-semibold",children:[n.length," areas"]})," within a 15km radius. Need to expand?"," ",e.jsx(De,{to:"/vendor/support",className:"text-primary-700 hover:text-primary-800 underline font-medium",children:"Contact RealServ support"}),"."]})]})]}),e.jsxs("div",{className:"space-y-3 pb-4 border-b border-neutral-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),e.jsx(he,{type:"text",placeholder:"Search areas...",value:d,onChange:v=>j(v.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{variant:"outline",className:"bg-primary-100 text-primary-700 border-primary-200",children:[s.length," of ",n.length," selected"]}),y.length!==Ke.length&&e.jsxs("span",{className:"text-xs text-neutral-500",children:["(",y.length," of ",Ke.length," shown)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(w,{type:"button",variant:"ghost",size:"sm",onClick:x,className:"h-8 text-xs hover:bg-primary-50",children:[e.jsx(wr,{className:"w-3.5 h-3.5 mr-1"}),"Select All"]}),e.jsxs(w,{type:"button",variant:"ghost",size:"sm",onClick:p,className:"h-8 text-xs hover:bg-neutral-100",children:[e.jsx(ta,{className:"w-3.5 h-3.5 mr-1"}),"Clear All"]})]})]})]}),e.jsx("div",{className:"max-h-[340px] overflow-y-auto pr-2 space-y-4",children:y.length>0?e.jsxs(e.Fragment,{children:[m.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-semibold text-neutral-600 uppercase tracking-wide mb-2 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success-500"}),"Your Service Zone (",m.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:m.map(v=>{const A=s.includes(v);return e.jsxs("div",{className:`
                              flex items-center gap-2.5 p-3 rounded-lg border-2 transition-all cursor-pointer
                              ${A?"bg-primary-50 border-primary-300 shadow-sm":"bg-neutral-50 border-neutral-200 hover:border-primary-200 hover:bg-neutral-100"}
                            `,onClick:()=>u(v),children:[e.jsx(Et,{id:`area-${v}`,checked:A,onCheckedChange:()=>u(v),className:"pointer-events-none"}),e.jsx("label",{htmlFor:`area-${v}`,className:`
                                text-sm font-medium leading-none cursor-pointer select-none flex-1
                                ${A?"text-primary-700":"text-neutral-900"}
                              `,children:v})]},v)})})]}),o.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide mb-2 flex items-center gap-2",children:[e.jsx(Tt,{className:"w-3 h-3"}),"Outside Your Zone (",o.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:o.map(v=>e.jsxs("div",{className:"flex items-center gap-2.5 p-3 rounded-lg border-2 bg-neutral-100 border-neutral-200 opacity-50 cursor-not-allowed",onClick:()=>u(v),title:"Contact RealServ support to serve this area",children:[e.jsx(Et,{id:`area-${v}`,checked:!1,disabled:!0,className:"pointer-events-none"}),e.jsx("label",{htmlFor:`area-${v}`,className:"text-sm font-medium leading-none select-none flex-1 text-neutral-600 cursor-not-allowed",children:v}),e.jsx(Tt,{className:"w-3 h-3 text-neutral-400 flex-shrink-0"})]},v))}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-2 italic",children:[e.jsx(De,{to:"/vendor/support",className:"text-primary-700 hover:text-primary-800 underline font-medium",children:"Contact RealServ support"})," ","to add these areas to your zone"]})]})]}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(Me,{className:"w-12 h-12 mx-auto mb-3 text-neutral-300"}),e.jsx("p",{className:"text-neutral-600 mb-1",children:"No areas match your search"}),e.jsx(w,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(""),className:"mt-2",children:"Clear search"})]})}),e.jsxs(rs,{className:"gap-2",children:[e.jsx(w,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),e.jsxs(w,{type:"button",onClick:h,disabled:s.length===0,className:"min-w-[140px]",children:["Save ",s.length>0&&`(${s.length})`]})]})]})})]})}function kl({documents:t,kycStatus:l}){const a={aadhaar:"Aadhaar Card",pan:"PAN Card",driving_license:"Driving License",voter_id:"Voter ID"},c=()=>l==="verified"?e.jsxs(S,{variant:"outline",className:"bg-success-100 text-success-700 border-success-200",children:[e.jsx(be,{className:"w-3.5 h-3.5 mr-1"}),"Verified"]}):l==="pending"?e.jsxs(S,{variant:"outline",className:"bg-warning-100 text-warning-700 border-warning-200",children:[e.jsx(se,{className:"w-3.5 h-3.5 mr-1"}),"Pending"]}):e.jsxs(S,{variant:"outline",className:"bg-danger-100 text-danger-700 border-danger-200",children:[e.jsx(Se,{className:"w-3.5 h-3.5 mr-1"}),"Rejected"]});return e.jsxs(M,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(re,{className:"flex items-center gap-2",children:[e.jsx(st,{className:"w-5 h-5 text-primary-700"}),"KYC Documents"]}),c()]})}),e.jsxs($,{className:"space-y-4",children:[t.map(s=>e.jsxs("div",{className:"flex items-start justify-between p-4 bg-neutral-50 rounded-lg border-2 border-neutral-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:a[s.type]||s.type}),s.verified&&e.jsx(be,{className:"w-4 h-4 text-success-600"})]}),e.jsx("p",{className:"text-base font-mono text-neutral-700",children:s.number}),s.verifiedAt&&e.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:["Verified on ",new Date(s.verifiedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}),s.verified?e.jsx(S,{variant:"outline",className:"bg-success-100 text-success-700 border-success-200",children:"Verified"}):e.jsx(S,{variant:"outline",className:"bg-neutral-100 text-neutral-600 border-neutral-300",children:"Pending"})]},s.type)),e.jsx("div",{className:"pt-4 border-t border-neutral-200",children:e.jsx("div",{className:"bg-primary-50 border-2 border-primary-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-neutral-900",children:[e.jsx("strong",{children:"Security:"})," Your KYC documents are securely stored and verified by RealServ. Sensitive information is masked for privacy."]})})})]})]})}function Cl({bankDetails:t}){return e.jsxs(M,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(re,{className:"flex items-center gap-2",children:[e.jsx(Ar,{className:"w-5 h-5 text-primary-700"}),"Bank Account Details"]}),t.verified?e.jsxs(S,{variant:"outline",className:"bg-success-100 text-success-700 border-success-200",children:[e.jsx(be,{className:"w-3.5 h-3.5 mr-1"}),"Verified"]}):e.jsxs(S,{variant:"outline",className:"bg-warning-100 text-warning-700 border-warning-200",children:[e.jsx(te,{className:"w-3.5 h-3.5 mr-1"}),"Pending Verification"]})]})}),e.jsxs($,{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:"Account Holder Name"}),e.jsx("p",{className:"text-base font-medium text-neutral-900",children:t.accountHolderName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:"Bank Name"}),e.jsx("p",{className:"text-base text-neutral-900",children:t.bankName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:"Account Number"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-base font-mono text-neutral-900",children:t.accountNumber}),e.jsx(S,{variant:"outline",className:"bg-neutral-100 text-neutral-600 border-neutral-300 text-xs",children:"Masked"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:"IFSC Code"}),e.jsx("p",{className:"text-base font-mono text-neutral-900",children:t.ifscCode})]}),t.verified&&t.verifiedAt&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide block mb-2",children:"Verified On"}),e.jsx("p",{className:"text-sm text-neutral-700",children:new Date(t.verifiedAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),e.jsx("div",{className:"pt-4 border-t border-neutral-200",children:e.jsxs("div",{className:"bg-success-50 border-2 border-success-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-neutral-900 mb-1",children:e.jsx("strong",{children:"Payout Account:"})}),e.jsx("p",{className:"text-sm text-neutral-700",children:"All settlements from RealServ will be transferred to this verified bank account."})]})}),e.jsx("div",{className:"pt-2",children:e.jsxs("p",{className:"text-sm text-neutral-600",children:[e.jsx("strong",{children:"Note:"})," To update bank details,"," ",e.jsx(De,{to:"/vendor/support",className:"text-primary-700 hover:text-primary-800 underline font-medium",children:"contact RealServ support"})," ","with your updated information."]})})]})]})}function El({isAvailable:t,onToggle:l}){const a=()=>{const s=`https://wa.me/919876543210?text=${encodeURIComponent(t?"UNAVAILABLE":"AVAILABLE")}`;window.open(s,"_blank")};return e.jsxs(M,{children:[e.jsx(J,{children:e.jsxs(re,{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"w-5 h-5 text-primary-700"}),"Availability Status"]})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 bg-neutral-50 rounded-lg border-2 border-neutral-200 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${t?"bg-success-100":"bg-neutral-200"}`,children:e.jsx(ut,{className:`w-6 h-6 ${t?"text-success-700":"text-neutral-500"}`})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-neutral-900 mb-0.5",children:["Currently ",t?"Available":"Unavailable"]}),e.jsx("p",{className:"text-sm text-neutral-600",children:t?"You are receiving new order notifications":"New orders are not being sent to you"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(fe,{checked:t,onCheckedChange:l,style:{backgroundColor:t?"#22C55E":void 0,opacity:1}})})]}),e.jsxs("div",{className:"bg-success-50 border-2 border-success-200 rounded-lg p-5",children:[e.jsxs("h4",{className:"text-sm font-semibold text-neutral-900 mb-3 flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4 text-success-700"}),"How to Update Availability"]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex gap-2 text-sm text-neutral-700",children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-neutral-200 text-neutral-700 rounded-full flex items-center justify-center text-xs font-semibold",children:"1"}),e.jsx("p",{children:"Send a WhatsApp message to RealServ"})]}),e.jsxs("div",{className:"flex gap-2 text-sm text-neutral-700",children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-neutral-200 text-neutral-700 rounded-full flex items-center justify-center text-xs font-semibold",children:"2"}),e.jsxs("p",{children:["Type ",e.jsx("code",{className:"bg-neutral-100 px-1.5 py-0.5 rounded text-xs font-mono",children:"AVAILABLE"})," or ",e.jsx("code",{className:"bg-neutral-100 px-1.5 py-0.5 rounded text-xs font-mono",children:"UNAVAILABLE"})]})]}),e.jsxs("div",{className:"flex gap-2 text-sm text-neutral-700",children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-neutral-200 text-neutral-700 rounded-full flex items-center justify-center text-xs font-semibold",children:"3"}),e.jsx("p",{children:"Your status will update within 1 minute"})]})]}),e.jsxs(w,{onClick:a,className:"w-full bg-success-600 hover:bg-success-700 text-white",children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),t?"Mark as Unavailable":"Mark as Available"]})]}),e.jsx("div",{className:"p-4 bg-neutral-50 border-2 border-neutral-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-neutral-700",children:[e.jsx("strong",{children:"Important:"})," When unavailable, you won't receive new order offers. Existing accepted orders will continue as normal. Always update your status when closing for the day or taking a break."]})})]})]})}function Tl(){const{vendor:t,toggleAvailability:l}=Te();return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center",children:e.jsx(jt,{className:"w-5 h-5 text-primary-700"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-neutral-900",children:"Settings & Profile"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Manage your business information and account settings"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(Sl,{vendor:t||je}),e.jsx(El,{isAvailable:(t==null?void 0:t.isAvailable)??je.isAvailable,onToggle:l})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(kl,{documents:(t==null?void 0:t.kycDocuments)||je.kycDocuments,kycStatus:(t==null?void 0:t.kycStatus)||je.kycStatus}),e.jsx(Cl,{bankDetails:(t==null?void 0:t.bankDetails)||je.bankDetails})]})]}),e.jsxs("div",{className:"bg-primary-50 border-2 border-primary-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 mb-2",children:"Need to make changes?"}),e.jsxs("p",{className:"text-sm text-neutral-700",children:["For security reasons, all profile updates must be verified by RealServ. To update any information,"," ",e.jsx(De,{to:"/vendor/support",className:"text-primary-700 hover:text-primary-800 underline font-medium",children:"contact RealServ support"}),"."]})]})]})}function Ds({searchPlaceholder:t,searchValue:l,onSearchChange:a,children:c,activeFilters:s,onClearAll:r}){const d=s.length>0;return e.jsxs("div",{className:"bg-white border-2 border-neutral-200 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b-2 border-neutral-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx(he,{placeholder:t,value:l,onChange:j=>a(j.target.value),className:"pl-10 h-11"})]})}),e.jsx("div",{className:"px-4 py-3 bg-neutral-50",children:e.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:c})}),d&&e.jsx("div",{className:"px-4 py-3 bg-primary-50/30 border-t-2 border-primary-100",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs font-medium text-neutral-600",children:"Active filters:"}),s.map((j,n)=>e.jsxs("button",{onClick:j.onRemove,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-white border-2 border-neutral-300 text-sm text-neutral-700 hover:bg-neutral-50 hover:border-neutral-400 transition-colors",children:[e.jsxs("span",{className:"font-medium text-neutral-500",children:[j.label,":"]}),e.jsx("span",{children:j.value}),e.jsx(ke,{className:"w-3.5 h-3.5 text-neutral-500"})]},n)),e.jsx("button",{type:"button",onClick:r,className:"text-xs text-primary-700 hover:text-primary-800 font-medium underline",children:"Clear all filters"})]})})]})}function Rl({onAcceptOrder:t,onRejectOrder:l}){const{notifications:a,unreadCount:c,markAsRead:s,markAsUnread:r,markAllAsRead:d}=nt(),j=G(),[n,y]=b.useState("all"),[m,o]=b.useState("all"),[u,x]=b.useState(""),p=Sr(),h=t||(p==null?void 0:p.onAcceptOrder);l||(p==null||p.onRejectOrder);const N=b.useMemo(()=>{let i=a.filter(k=>!k.isArchived);if(n==="unread"&&(i=i.filter(k=>!k.isRead)),m!=="all"&&(i=i.filter(k=>k.type===m)),u.trim()){const k=u.toLowerCase();i=i.filter(g=>g.title.toLowerCase().includes(k)||g.message.toLowerCase().includes(k))}return i.sort((k,g)=>new Date(g.createdAt).getTime()-new Date(k.createdAt).getTime())},[a,n,m,u]),C=i=>{i.isRead||s(i.id),i.ctaLink&&j(i.ctaLink)},v=(i,k,g)=>{i.stopPropagation(),g?r(k):s(k)},A=[];if(n==="unread"&&A.push({type:"read",label:"Read Status",value:"Unread",onRemove:()=>y("all")}),m!=="all"){const i={[D.ORDER_REQUEST]:"Order Requests",[D.ORDER_ACCEPTED]:"Order Accepted",[D.ORDER_REJECTED]:"Order Rejected",[D.ORDER_CANCELLED]:"Order Cancelled",[D.ORDER_READY]:"Order Ready",[D.ORDER_COMPLETED]:"Order Completed",[D.PAYMENT_PROCESSED]:"Payment Processing",[D.PAYMENT_SETTLED]:"Payment Settled",[D.SYSTEM_ALERT]:"System Alerts",[D.PERFORMANCE_ALERT]:"Performance",[D.PROFILE_UPDATE]:"Profile Updates"};A.push({type:"type",label:"Type",value:i[m],onRemove:()=>o("all")})}const P=()=>{y("all"),o("all")},z=i=>{const k="w-5 h-5";switch(i){case D.ORDER_REQUEST:return e.jsx(X,{className:`${k} text-warning-600`});case D.ORDER_ACCEPTED:return e.jsx(Q,{className:`${k} text-success-600`});case D.ORDER_REJECTED:case D.ORDER_CANCELLED:return e.jsx(Se,{className:`${k} text-error-600`});case D.PAYMENT_PROCESSED:case D.PAYMENT_SETTLED:return e.jsx(Fe,{className:`${k} text-primary-600`});case D.PERFORMANCE_ALERT:return e.jsx(ye,{className:`${k} text-blue-600`});case D.SYSTEM_ALERT:return e.jsx(te,{className:`${k} text-neutral-600`});default:return e.jsx(ge,{className:`${k} text-neutral-600`})}},Y=i=>{switch(i){case q.HIGH:return"bg-error-50 border-error-200";case q.MEDIUM:return"bg-warning-50 border-warning-200";case q.LOW:return"bg-neutral-50 border-neutral-200";default:return"bg-neutral-50 border-neutral-200"}},K={[D.ORDER_REQUEST]:"Order Requests",[D.ORDER_ACCEPTED]:"Order Accepted",[D.ORDER_REJECTED]:"Order Rejected",[D.ORDER_CANCELLED]:"Order Cancelled",[D.ORDER_READY]:"Order Ready",[D.ORDER_COMPLETED]:"Order Completed",[D.PAYMENT_PROCESSED]:"Payment Processing",[D.PAYMENT_SETTLED]:"Payment Settled",[D.SYSTEM_ALERT]:"System Alerts",[D.PERFORMANCE_ALERT]:"Performance",[D.PROFILE_UPDATE]:"Profile Updates"};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Notifications"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:c>0?`${c} unread notification${c!==1?"s":""}`:"All caught up!"})]}),c>0&&e.jsxs(w,{variant:"outline",size:"sm",onClick:d,className:"border-primary-300 text-primary-700 hover:bg-primary-50",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Mark All Read"]})]}),e.jsxs(Ds,{searchPlaceholder:"Search notifications by title or message...",searchValue:u,onSearchChange:x,activeFilters:A,onClearAll:P,children:[e.jsxs(ie,{value:n,onValueChange:i=>y(i),children:[e.jsx(ce,{className:"w-[140px] h-10",children:e.jsx(oe,{placeholder:"Read status"})}),e.jsxs(de,{children:[e.jsxs(R,{value:"all",children:["All (",a.filter(i=>!i.isArchived).length,")"]}),e.jsxs(R,{value:"unread",children:["Unread (",c,")"]})]})]}),e.jsxs(ie,{value:m,onValueChange:i=>o(i),children:[e.jsx(ce,{className:"w-[180px] h-10",children:e.jsx(oe,{placeholder:"All Types"})}),e.jsxs(de,{children:[e.jsx(R,{value:"all",children:"All Types"}),Object.entries(K).map(([i,k])=>e.jsx(R,{value:i,children:k},i))]})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-sm text-neutral-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-neutral-900",children:N.length})," notification",N.length!==1?"s":""]})}),e.jsx("div",{className:"bg-white border-2 border-neutral-200 rounded-xl overflow-hidden",children:N.length===0?e.jsxs("div",{className:"py-16 px-4 text-center",children:[e.jsx(ge,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:n==="unread"?"No unread notifications":"No notifications"}),e.jsx("p",{className:"text-sm text-neutral-500",children:n==="unread"?"You're all caught up!":u||m!=="all"?"No notifications match your search criteria.":"Notifications will appear here when you receive them."})]}):N.map((i,k)=>{var E;const g=i.type===D.ORDER_REQUEST;return e.jsxs("div",{children:[e.jsx("div",{className:`w-full p-5 transition-colors ${i.isRead?"":"bg-primary-50/20"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-10 h-10 rounded-lg border-2 flex items-center justify-center ${i.isRead?"bg-neutral-50 border-neutral-200":Y(i.priority)}`,children:z(i.type)})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:`text-sm font-semibold ${i.isRead?"text-neutral-700":"text-neutral-900"}`,children:i.title}),!i.isRead&&e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-primary-600 rounded-full"}),g&&((E=i.metadata)==null?void 0:E.offerExpiresAt)&&e.jsx(it,{expiresAt:i.metadata.offerExpiresAt})]}),e.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:i.message}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs text-neutral-500",children:[I(i.createdAt)," at ",me(i.createdAt)]}),i.priority===q.HIGH&&e.jsx(S,{variant:"outline",className:"text-xs px-2 py-0 h-5 bg-error-50 text-error-700 border-error-200",children:"Urgent"}),!g&&i.ctaLabel&&e.jsxs(S,{variant:"outline",className:"text-xs px-2 py-0 h-5 bg-primary-50 text-primary-700 border-primary-200",children:[i.ctaLabel," →"]})]}),g&&i.orderId&&h&&e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsxs(w,{size:"sm",onClick:F=>{F.stopPropagation(),h(i.orderId)},className:"bg-success-600 hover:bg-success-700 text-white h-8 px-3 border-2 border-success-600",children:[e.jsx(Le,{className:"w-4 h-4 mr-1.5"}),"Accept"]}),i.ctaLink&&e.jsx(w,{size:"sm",variant:"ghost",onClick:()=>C(i),className:"text-sm text-primary-600 hover:text-primary-700 h-8 px-3",children:"View Details →"})]}),!g&&i.ctaLink&&e.jsxs(w,{size:"sm",variant:"ghost",onClick:()=>C(i),className:"text-sm text-primary-600 hover:text-primary-700 h-auto px-0 mt-2",children:[i.ctaLabel||"View Details"," →"]})]}),e.jsx(w,{variant:"ghost",size:"sm",onClick:F=>v(F,i.id,i.isRead),className:"flex-shrink-0 h-8 px-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100",children:i.isRead?e.jsx(Le,{className:"w-4 h-4"}):e.jsx(_t,{className:"w-4 h-4"})})]})})]})}),k<N.length-1&&e.jsx(Z,{})]},i.id)})})]})}const Yt={catalog:"faq_005",payment:"faq_003",offers:"faq_001",delivery:"faq_010"};function Dl(){const{faqs:t,openTicketsCount:l}=Ve(),a=G(),[c]=yt(),[s,r]=b.useState(""),[d,j]=b.useState(null),n=b.useRef({});b.useEffect(()=>{const o=c.get("question");if(o&&Yt[o]){const u=Yt[o];j(u),setTimeout(()=>{const x=n.current[u];x&&(x.open=!0,x.scrollIntoView({behavior:"smooth",block:"center"}))},100)}},[c]);const y=t.reduce((o,u)=>(o[u.category]||(o[u.category]=[]),o[u.category].push(u),o),{}),m=s?t.filter(o=>o.question.toLowerCase().includes(s.toLowerCase())||o.answer.toLowerCase().includes(s.toLowerCase())):[];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Help & Support"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Get help with orders, payments, and account management"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(M,{className:"border-primary-200 hover:border-primary-300 transition-colors cursor-pointer",onClick:()=>a("/vendor/support/create-ticket"),children:e.jsx($,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(la,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-1",children:"Create Support Ticket"}),e.jsx("p",{className:"text-xs text-neutral-600 mb-2",children:"Get personalized help from our support team"}),e.jsx(w,{variant:"link",className:"text-xs text-primary-600 p-0 h-auto",children:"Create Ticket →"})]})]})})}),e.jsx(M,{className:"border-neutral-200 hover:border-primary-200 transition-colors cursor-pointer",onClick:()=>a("/vendor/support/tickets"),children:e.jsx($,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-neutral-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(xe,{className:"w-6 h-6 text-neutral-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-sm font-semibold text-neutral-900 mb-1 flex items-center gap-2",children:["My Support Tickets",l>0&&e.jsxs(S,{variant:"outline",className:"bg-primary-50 text-primary-700 border-primary-200",children:[l," open"]})]}),e.jsx("p",{className:"text-xs text-neutral-600 mb-2",children:"Track and manage your support requests"}),e.jsx(w,{variant:"link",className:"text-xs text-primary-600 p-0 h-auto",children:"View Tickets →"})]})]})})}),e.jsx(M,{className:"border-neutral-200 hover:border-success-200 transition-colors",children:e.jsx($,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Oe,{className:"w-6 h-6 text-success-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-1",children:"WhatsApp Support"}),e.jsx("p",{className:"text-xs text-neutral-600 mb-2",children:"For urgent issues, contact us directly"}),e.jsx(w,{variant:"link",className:"text-xs text-success-600 p-0 h-auto",onClick:()=>window.open("https://wa.me/919876543210","_blank"),children:"Chat Now →"})]})]})})})]}),e.jsx(M,{className:"border-neutral-200 bg-neutral-50",children:e.jsx($,{className:"p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Oe,{className:"w-5 h-5 text-primary-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:"Phone Support"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"+91 98765 43210"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Mon-Sat, 9 AM - 6 PM"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-primary-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:"Email Support"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"vendor@realserv.in"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Response within 24 hours"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(se,{className:"w-5 h-5 text-primary-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:"Support Hours"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Mon-Sat: 9 AM - 6 PM"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Sunday: Closed"})]})]})]})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Frequently Asked Questions"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search FAQs...",value:s,onChange:o=>r(o.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-neutral-200 rounded-lg text-sm focus:outline-none focus:border-primary-300"})]})]}),s?e.jsx("div",{className:"space-y-3",children:m.length===0?e.jsx(M,{className:"border-neutral-200",children:e.jsxs($,{className:"p-8 text-center",children:[e.jsx(pe,{className:"w-12 h-12 text-neutral-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900 mb-1",children:"No results found"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"Try different keywords or create a support ticket for help"})]})}):m.map(o=>e.jsx(M,{className:"border-neutral-200",children:e.jsx($,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(lt,{className:"w-5 h-5 text-primary-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-2",children:o.question}),e.jsx("p",{className:"text-sm text-neutral-600 mb-3",children:o.answer}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(S,{variant:"outline",className:"text-xs bg-neutral-50 text-neutral-600 border-neutral-200",children:o.category}),e.jsxs("span",{className:"text-xs text-neutral-500",children:[o.helpful," people found this helpful"]})]})]})]})})},o.id))}):e.jsx("div",{className:"space-y-6",children:Object.entries(y).map(([o,u])=>e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-neutral-900 mb-3 flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5 text-primary-600"}),o]}),e.jsx("div",{className:"space-y-2",children:u.map(x=>e.jsxs("details",{className:"group bg-white border border-neutral-200 rounded-lg",ref:p=>n.current[x.id]=p,children:[e.jsxs("summary",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-neutral-50 transition-colors",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-900 pr-4",children:x.question}),e.jsx(ve,{className:"w-4 h-4 text-neutral-400 flex-shrink-0 transition-transform group-open:rotate-90"})]}),e.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-neutral-100",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-3",children:x.answer}),x.relatedLinks&&x.relatedLinks.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:x.relatedLinks.map((p,h)=>e.jsxs(w,{variant:"link",size:"sm",onClick:()=>a(p.url),className:"text-xs text-primary-600 p-0 h-auto",children:[p.label," →"]},h))})]})]},x.id))})]},o))}),e.jsxs(M,{className:"border-primary-200 bg-primary-50",children:[e.jsx(J,{className:"pb-3",children:e.jsx(re,{className:"text-base font-semibold text-neutral-900",children:"Additional Resources"})}),e.jsxs($,{className:"space-y-3",children:[e.jsxs("a",{href:"https://realserv.in/vendor-guide",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-white border border-neutral-200 rounded-lg hover:border-primary-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ia,{className:"w-5 h-5 text-primary-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Video Tutorials"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"Step-by-step guides"})]})]}),e.jsx(tt,{className:"w-4 h-4 text-neutral-400"})]}),e.jsxs("a",{href:"https://realserv.in/vendor-terms",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-white border border-neutral-200 rounded-lg hover:border-primary-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ot,{className:"w-5 h-5 text-primary-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Vendor Terms & Conditions"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"Policies and guidelines"})]})]}),e.jsx(tt,{className:"w-4 h-4 text-neutral-400"})]})]})]})]})}function Pl(t){const l={},a=t.get("settlementId");if(a)return l.settlementId=a,l.category=ee.PAYMENT_ISSUE,l.priority=ne.HIGH,l.subject=`Settlement Dispute - Settlement ID: ${a}`,l;const c=t.get("orderId"),s=t.get("orderNumber");if(c||s){l.orderId=c||void 0;const n=s||c;return t.get("issueType")==="delivery"?(l.category=ee.DELIVERY_ISSUE,l.priority=ne.HIGH,l.subject=`Delivery Issue - Order ${n}`):(l.category=ee.ORDER_ISSUE,l.priority=ne.HIGH,l.subject=`Order Issue - Order ${n}`),l}const r=t.get("category"),d=t.get("question");return r==="settlement"||d==="payment"?(l.category=ee.PAYMENT_ISSUE,l.priority=ne.HIGH,l.subject="Payment & Settlement Query",l):r==="order"||d==="delivery"?(l.category=ee.ORDER_ISSUE,l.priority=ne.MEDIUM,l.subject="Order Related Query",l):r==="catalog"||d==="catalog"?(l.category=ee.CATALOG_UPDATE,l.priority=ne.MEDIUM,l.subject="Catalog Update Request",l):d==="offers"?(l.category=ee.GENERAL_INQUIRY,l.priority=ne.LOW,l.subject="Question About Offers",l):(t.get("technical")&&(l.category=ee.TECHNICAL_ISSUE,l.priority=ne.MEDIUM,l.subject="Technical Issue Report"),l)}function Il(){const{createTicket:t}=Ve(),{orders:l}=qe(),a=G(),[c]=yt(),[s,r]=b.useState({category:ee.GENERAL_INQUIRY,priority:ne.MEDIUM,subject:"",description:"",orderId:"",orderNumber:"",settlementId:""}),[d,j]=b.useState(!1),[n,y]=b.useState({});b.useEffect(()=>{const x=Pl(c);Object.keys(x).length>0&&r(p=>({...p,...x.category&&{category:x.category},...x.priority&&{priority:x.priority},...x.subject&&{subject:x.subject},...x.orderId&&{orderId:x.orderId},...x.settlementId&&{settlementId:x.settlementId}}))},[c]);const m=(x,p)=>{if(r(h=>({...h,[x]:p})),n[x]&&y(h=>({...h,[x]:""})),x==="orderId"&&p){const h=l.find(N=>N.id===p);h&&r(N=>({...N,orderNumber:h.orderNumber}))}},o=()=>{const x={};return s.subject.trim()?s.subject.trim().length<10&&(x.subject="Subject must be at least 10 characters"):x.subject="Subject is required",s.description.trim()?s.description.trim().length<20&&(x.description="Description must be at least 20 characters"):x.description="Description is required",y(x),Object.keys(x).length===0},u=async x=>{if(x.preventDefault(),!o())return;j(!0);const p=await t({category:s.category,priority:s.priority,subject:s.subject,description:s.description,orderId:s.orderId||void 0,orderNumber:s.orderNumber||void 0,settlementId:s.settlementId||void 0});j(!1),p.success?(L.success("Support ticket created successfully"),a("/vendor/support/tickets")):L.error(p.error||"Failed to create ticket")};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>a("/vendor/support"),className:"text-neutral-600 hover:text-neutral-900 -ml-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Support"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Create Support Ticket"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Describe your issue and our support team will help you resolve it"})]}),e.jsx("form",{onSubmit:u,children:e.jsx(M,{className:"border-neutral-200",children:e.jsxs($,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-neutral-900 mb-2",children:"Issue Category *"}),e.jsx("select",{value:s.category,onChange:x=>m("category",x.target.value),className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-lg text-sm focus:outline-none focus:border-primary-300",children:Object.entries(ua).map(([x,p])=>e.jsx("option",{value:x,children:p},x))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-neutral-900 mb-2",children:"Priority *"}),e.jsx("select",{value:s.priority,onChange:x=>m("priority",x.target.value),className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-lg text-sm focus:outline-none focus:border-primary-300",children:Object.entries(ha).map(([x,p])=>e.jsx("option",{value:x,children:p},x))}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-2",children:[e.jsx(te,{className:"w-3 h-3 inline mr-1"}),'Choose "Urgent" only if the issue is blocking your business operations']})]}),(s.category===ee.ORDER_ISSUE||s.category===ee.DELIVERY_ISSUE)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-neutral-900 mb-2",children:"Related Order (Optional)"}),e.jsxs("select",{value:s.orderId,onChange:x=>m("orderId",x.target.value),className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-lg text-sm focus:outline-none focus:border-primary-300",children:[e.jsx("option",{value:"",children:"Select an order (optional)"}),l.slice(0,20).map(x=>e.jsxs("option",{value:x.id,children:[x.orderNumber," - ",x.itemName," (",x.quantity," ",x.unit,")"]},x.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-neutral-900 mb-2",children:"Subject *"}),e.jsx("input",{type:"text",value:s.subject,onChange:x=>m("subject",x.target.value),placeholder:"Brief summary of your issue (e.g., Payment not received for order ORD-1234)",className:`w-full px-4 py-3 border-2 rounded-lg text-sm focus:outline-none focus:border-primary-300 ${n.subject?"border-error-300":"border-neutral-200"}`}),n.subject&&e.jsxs("p",{className:"text-xs text-error-600 mt-1 flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"}),n.subject]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-neutral-900 mb-2",children:"Description *"}),e.jsx("textarea",{value:s.description,onChange:x=>m("description",x.target.value),placeholder:"Provide detailed information about your issue. Include order numbers, dates, amounts, and any other relevant details that will help us resolve your issue faster.",rows:6,className:`w-full px-4 py-3 border-2 rounded-lg text-sm focus:outline-none focus:border-primary-300 resize-none ${n.description?"border-error-300":"border-neutral-200"}`}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.description?e.jsxs("p",{className:"text-xs text-error-600 flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"}),n.description]}):e.jsx("p",{className:"text-xs text-neutral-500",children:"Minimum 20 characters"}),e.jsxs("p",{className:"text-xs text-neutral-500",children:[s.description.length," characters"]})]})]}),e.jsx("div",{className:"bg-primary-50 border-2 border-primary-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(te,{className:"w-5 h-5 text-primary-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-primary-900 mb-1",children:"Tips for faster resolution:"}),e.jsxs("ul",{className:"text-xs text-primary-800 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Include relevant order numbers, dates, and amounts"}),e.jsx("li",{children:"Describe what you expected vs. what actually happened"}),e.jsx("li",{children:"For technical issues, mention your device and browser"}),e.jsx("li",{children:"Attach screenshots if applicable (coming soon)"})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx(w,{type:"submit",size:"lg",disabled:d,className:"bg-primary-600 hover:bg-primary-700 text-white border-0",children:d?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Ticket..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Create Ticket"]})}),e.jsx(w,{type:"button",variant:"outline",size:"lg",onClick:()=>a("/vendor/support"),disabled:d,className:"border-neutral-300 text-neutral-700 hover:bg-neutral-50",children:"Cancel"})]})]})})})]})}function Ol(){const{tickets:t}=Ve(),l=G(),[a,c]=b.useState("all"),[s,r]=b.useState(""),d=b.useMemo(()=>{let u=t;if(a!=="all"&&(u=u.filter(x=>x.status===a)),s.trim()){const x=s.toLowerCase();u=u.filter(p=>p.ticketNumber.toLowerCase().includes(x)||p.subject.toLowerCase().includes(x)||p.description.toLowerCase().includes(x)||p.orderNumber&&p.orderNumber.toLowerCase().includes(x))}return u},[t,a,s]),j=b.useMemo(()=>({all:t.length,[O.OPEN]:t.filter(u=>u.status===O.OPEN).length,[O.IN_PROGRESS]:t.filter(u=>u.status===O.IN_PROGRESS).length,[O.WAITING_VENDOR]:t.filter(u=>u.status===O.WAITING_VENDOR).length,[O.RESOLVED]:t.filter(u=>u.status===O.RESOLVED).length,[O.CLOSED]:t.filter(u=>u.status===O.CLOSED).length}),[t]),n=[];if(a!=="all"){const u={[O.OPEN]:"Open",[O.IN_PROGRESS]:"In Progress",[O.WAITING_VENDOR]:"Waiting for You",[O.RESOLVED]:"Resolved",[O.CLOSED]:"Closed"};n.push({type:"status",label:"Status",value:u[a],onRemove:()=>c("all")})}const y=()=>{c("all")},m=u=>{switch(u){case O.OPEN:return e.jsxs(S,{variant:"outline",className:"bg-warning-50 text-warning-700 border-warning-200",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Open"]});case O.IN_PROGRESS:return e.jsxs(S,{variant:"outline",className:"bg-primary-50 text-primary-700 border-primary-200",children:[e.jsx(xe,{className:"w-3 h-3 mr-1"}),"In Progress"]});case O.WAITING_VENDOR:return e.jsxs(S,{variant:"outline",className:"bg-error-50 text-error-700 border-error-200",children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"Waiting for You"]});case O.RESOLVED:return e.jsxs(S,{variant:"outline",className:"bg-success-50 text-success-700 border-success-200",children:[e.jsx(be,{className:"w-3 h-3 mr-1"}),"Resolved"]});case O.CLOSED:return e.jsxs(S,{variant:"outline",className:"bg-neutral-100 text-neutral-600 border-neutral-300",children:[e.jsx(Se,{className:"w-3 h-3 mr-1"}),"Closed"]})}},o=u=>{switch(u){case"URGENT":return e.jsx(S,{className:"bg-error-600 text-white text-xs",children:"Urgent"});case"HIGH":return e.jsx(S,{variant:"outline",className:"bg-warning-50 text-warning-700 border-warning-200 text-xs",children:"High"});case"MEDIUM":return e.jsx(S,{variant:"outline",className:"bg-neutral-100 text-neutral-600 border-neutral-300 text-xs",children:"Medium"});case"LOW":return e.jsx(S,{variant:"outline",className:"bg-neutral-50 text-neutral-500 border-neutral-200 text-xs",children:"Low"});default:return null}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>l("/vendor/support"),className:"text-neutral-600 hover:text-neutral-900 -ml-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Support"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"My Support Tickets"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Track and manage your support requests"})]}),e.jsxs(w,{size:"sm",onClick:()=>l("/vendor/support/create-ticket"),className:"bg-primary-600 hover:bg-primary-700 text-white border-0",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"New Ticket"]})]}),e.jsx(Ds,{searchPlaceholder:"Search by ticket number, subject, description, or order number...",searchValue:s,onSearchChange:r,activeFilters:n,onClearAll:y,children:e.jsxs(ie,{value:a,onValueChange:u=>c(u),children:[e.jsx(ce,{className:"w-[180px] h-10",children:e.jsx(oe,{placeholder:"Filter by status"})}),e.jsxs(de,{children:[e.jsxs(R,{value:"all",children:["All (",j.all,")"]}),e.jsxs(R,{value:O.OPEN,children:["Open (",j[O.OPEN],")"]}),e.jsxs(R,{value:O.IN_PROGRESS,children:["In Progress (",j[O.IN_PROGRESS],")"]}),e.jsxs(R,{value:O.WAITING_VENDOR,children:["Waiting for You (",j[O.WAITING_VENDOR],")"]}),e.jsxs(R,{value:O.RESOLVED,children:["Resolved (",j[O.RESOLVED],")"]}),e.jsxs(R,{value:O.CLOSED,children:["Closed (",j[O.CLOSED],")"]})]})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-sm text-neutral-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-neutral-900",children:d.length})," of"," ",e.jsx("span",{className:"font-semibold text-neutral-900",children:t.length})," ticket",t.length!==1?"s":""]})}),e.jsx("div",{className:"space-y-3",children:d.length===0?e.jsx(M,{className:"border-neutral-200",children:e.jsxs($,{className:"p-12 text-center",children:[e.jsx(xe,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:a==="all"?"No support tickets":`No ${a.toLowerCase().replace("_"," ")} tickets`}),e.jsx("p",{className:"text-sm text-neutral-500 mb-4",children:a==="all"?"You haven't created any support tickets yet.":s?"No tickets match your search criteria.":"No tickets match this filter."}),a==="all"&&!s&&e.jsxs(w,{size:"sm",onClick:()=>l("/vendor/support/create-ticket"),className:"bg-primary-600 hover:bg-primary-700 text-white border-0",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Create Your First Ticket"]})]})}):d.map((u,x)=>e.jsx(M,{className:"border-neutral-200 hover:border-primary-200 transition-colors cursor-pointer",onClick:()=>l(`/vendor/support/tickets/${u.id}`),children:e.jsx($,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(xe,{className:"w-5 h-5 text-primary-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between gap-3 mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:u.ticketNumber}),m(u.status),o(u.priority)]}),e.jsx("p",{className:"text-sm font-medium text-neutral-700 mb-1",children:u.subject}),e.jsx("p",{className:"text-xs text-neutral-500 line-clamp-2",children:u.description})]})}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-500",children:[e.jsxs("span",{children:["Created ",I(u.createdAt)]}),e.jsx(Z,{orientation:"vertical",className:"h-3"}),e.jsxs("span",{children:["Updated ",me(u.updatedAt)]}),u.replies&&u.replies.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{orientation:"vertical",className:"h-3"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3"}),u.replies.length," ",u.replies.length===1?"reply":"replies"]})]}),u.orderNumber&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{orientation:"vertical",className:"h-3"}),e.jsxs("span",{children:["Order: ",u.orderNumber]})]})]})]})]})})},u.id))})]})}function _l(){const{ticketId:t}=He(),{getTicketById:l,addReply:a}=Ve(),c=G(),s=t?l(t):void 0,[r,d]=b.useState(""),[j,n]=b.useState(!1);if(!s)return e.jsx("div",{className:"p-6",children:e.jsx(M,{className:"border-neutral-200",children:e.jsxs($,{className:"p-12 text-center",children:[e.jsx(te,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"Ticket not found"}),e.jsx("p",{className:"text-sm text-neutral-500 mb-4",children:"The support ticket you're looking for doesn't exist or has been removed."}),e.jsx(w,{onClick:()=>c("/vendor/support/tickets"),className:"bg-primary-600 hover:bg-primary-700 text-white border-0",children:"View All Tickets"})]})})});const y=async o=>{if(o.preventDefault(),!r.trim()){L.error("Please enter a message");return}n(!0);const u=await a(s.id,r);n(!1),u.success?(L.success("Reply sent successfully"),d("")):L.error(u.error||"Failed to send reply")},m=o=>{switch(o){case O.OPEN:return e.jsxs(S,{variant:"outline",className:"bg-warning-50 text-warning-700 border-warning-200",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Open"]});case O.IN_PROGRESS:return e.jsxs(S,{variant:"outline",className:"bg-primary-50 text-primary-700 border-primary-200",children:[e.jsx(xe,{className:"w-3 h-3 mr-1"}),"In Progress"]});case O.WAITING_VENDOR:return e.jsxs(S,{variant:"outline",className:"bg-error-50 text-error-700 border-error-200",children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"Waiting for You"]});case O.RESOLVED:return e.jsxs(S,{variant:"outline",className:"bg-success-50 text-success-700 border-success-200",children:[e.jsx(be,{className:"w-3 h-3 mr-1"}),"Resolved"]});case O.CLOSED:return e.jsxs(S,{variant:"outline",className:"bg-neutral-100 text-neutral-600 border-neutral-300",children:[e.jsx(Se,{className:"w-3 h-3 mr-1"}),"Closed"]})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>c("/vendor/support/tickets"),className:"text-neutral-600 hover:text-neutral-900 -ml-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Tickets"]}),e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:s.ticketNumber}),m(s.status)]}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["Created on ",I(s.createdAt)," at ",me(s.createdAt)]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(M,{className:"border-neutral-200",children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Ue,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:"You (Vendor)"}),e.jsxs("p",{className:"text-xs text-neutral-500",children:[I(s.createdAt)," at ",me(s.createdAt)]})]})]})}),e.jsxs($,{className:"p-6",children:[e.jsx("h2",{className:"text-base font-semibold text-neutral-900 mb-3",children:s.subject}),e.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-wrap",children:s.description})]})]}),s.replies&&s.replies.length>0&&e.jsx(e.Fragment,{children:s.replies.map(o=>e.jsxs(M,{className:`border-neutral-200 ${o.isVendorReply?"bg-primary-50/30":""}`,children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${o.isVendorReply?"bg-primary-100":"bg-success-100"}`,children:e.jsx(Ue,{className:`w-5 h-5 ${o.isVendorReply?"text-primary-600":"text-success-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:o.authorName}),e.jsxs("p",{className:"text-xs text-neutral-500",children:[I(o.createdAt)," at ",me(o.createdAt)]})]})]})}),e.jsx($,{className:"p-6",children:e.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-wrap",children:o.message})})]},o.id))}),s.status!==O.CLOSED&&e.jsxs(M,{className:"border-primary-200",children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsx(re,{className:"text-base font-semibold text-neutral-900",children:"Add a Reply"})}),e.jsx($,{className:"p-6",children:e.jsxs("form",{onSubmit:y,children:[e.jsx("textarea",{value:r,onChange:o=>d(o.target.value),placeholder:"Type your message here...",rows:4,className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-lg text-sm focus:outline-none focus:border-primary-300 resize-none"}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("p",{className:"text-xs text-neutral-500",children:"Our support team will respond within 24 hours"}),e.jsx(w,{type:"submit",size:"sm",disabled:j||!r.trim(),className:"bg-primary-600 hover:bg-primary-700 text-white border-0",children:j?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(kr,{className:"w-4 h-4 mr-2"}),"Send Reply"]})})]})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(M,{className:"border-neutral-200",children:[e.jsx(J,{className:"border-b border-neutral-200",children:e.jsx(re,{className:"text-base font-semibold text-neutral-900",children:"Ticket Details"})}),e.jsxs($,{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-500 mb-1",children:"Category"}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.category.replace(/_/g," ")})]}),e.jsx(Z,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-500 mb-1",children:"Priority"}),e.jsxs("div",{className:"mt-1",children:[s.priority==="URGENT"&&e.jsx(S,{className:"bg-error-600 text-white",children:"Urgent"}),s.priority==="HIGH"&&e.jsx(S,{variant:"outline",className:"bg-warning-50 text-warning-700 border-warning-200",children:"High"}),s.priority==="MEDIUM"&&e.jsx(S,{variant:"outline",className:"bg-neutral-100 text-neutral-600 border-neutral-300",children:"Medium"}),s.priority==="LOW"&&e.jsx(S,{variant:"outline",className:"bg-neutral-50 text-neutral-500 border-neutral-200",children:"Low"})]})]}),e.jsx(Z,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-500 mb-1",children:"Status"}),e.jsx("div",{className:"mt-1",children:m(s.status)})]}),s.assignedTo&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-500 mb-1",children:"Assigned To"}),e.jsx("p",{className:"text-sm text-neutral-900",children:s.assignedTo})]})]}),s.orderNumber&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-500 mb-1",children:"Related Order"}),e.jsxs(w,{variant:"link",size:"sm",onClick:()=>c(`/vendor/orders/${s.orderId}`),className:"text-sm text-primary-600 p-0 h-auto",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),s.orderNumber," →"]})]})]}),s.resolvedAt&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-500 mb-1",children:"Resolved At"}),e.jsxs("p",{className:"text-sm text-neutral-900",children:[I(s.resolvedAt)," at ",me(s.resolvedAt)]})]})]}),s.resolution&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-500 mb-2",children:"Resolution"}),e.jsx("p",{className:"text-sm text-neutral-700 bg-success-50 border border-success-200 rounded-lg p-3",children:s.resolution})]})]})]})]}),e.jsx(M,{className:"border-primary-200 bg-primary-50",children:e.jsxs($,{className:"p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"Need Urgent Help?"}),e.jsx("p",{className:"text-xs text-neutral-600 mb-3",children:"For critical issues, contact us directly via WhatsApp"}),e.jsxs(w,{variant:"outline",size:"sm",onClick:()=>window.open(`https://wa.me/919876543210?text=Urgent: Ticket ${s.ticketNumber}`,"_blank"),className:"w-full border-success-300 text-success-700 hover:bg-success-50",children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"WhatsApp Support"]})]})})]})]})]})}function Ml(){return e.jsxs(os,{children:[e.jsx(V,{path:"/login",element:e.jsx(Za,{})}),e.jsxs(V,{path:"/",element:e.jsx(ca,{children:e.jsx(Ba,{})}),children:[e.jsx(V,{index:!0,element:e.jsx(Dt,{to:"/vendor/dashboard",replace:!0})}),e.jsx(V,{path:"dashboard",element:e.jsx(Ha,{})}),e.jsx(V,{path:"orders",element:e.jsx(qa,{})}),e.jsx(V,{path:"orders/:orderId",element:e.jsx(rl,{})}),e.jsx(V,{path:"payouts",element:e.jsx(al,{})}),e.jsx(V,{path:"payouts/:payoutId",element:e.jsx(ll,{})}),e.jsx(V,{path:"performance",element:e.jsx(ol,{})}),e.jsx(V,{path:"catalog",element:e.jsx(yl,{})}),e.jsx(V,{path:"catalog/materials/:id",element:e.jsx(fl,{})}),e.jsx(V,{path:"catalog/services/:id",element:e.jsx(Nl,{})}),e.jsx(V,{path:"notifications",element:e.jsx(Rl,{})}),e.jsx(V,{path:"support",element:e.jsx(Dl,{})}),e.jsx(V,{path:"support/create-ticket",element:e.jsx(Il,{})}),e.jsx(V,{path:"support/tickets",element:e.jsx(Ol,{})}),e.jsx(V,{path:"support/tickets/:ticketId",element:e.jsx(_l,{})}),e.jsx(V,{path:"settings",element:e.jsx(Tl,{})})]}),e.jsx(V,{path:"*",element:e.jsx(Dt,{to:"/vendor/dashboard",replace:!0})})]})}class Ps extends b.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReset=()=>{this.setState({hasError:!1,error:void 0}),window.location.href="/vendor/dashboard"}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,a){console.error("Uncaught error:",l,a)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border-2 border-neutral-200 p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-error-50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ee,{className:"w-8 h-8 text-error-600"})}),e.jsx("h1",{className:"text-xl font-bold text-neutral-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),this.state.error&&e.jsx("div",{className:"mb-6 p-3 bg-neutral-100 rounded-lg text-left",children:e.jsx("p",{className:"text-xs font-mono text-neutral-700",children:this.state.error.message})}),e.jsx(w,{onClick:this.handleReset,className:"w-full bg-primary-600 hover:bg-primary-700",children:"Go to Dashboard"})]})}):this.props.children}}function Ll(){return e.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-50 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(at,{className:"w-8 h-8 text-primary-600 animate-spin"})}),e.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"Loading..."})]})})}function Fl(){return b.useEffect(()=>{document.title="RealServ Vendor Portal"},[]),e.jsx(Ps,{children:e.jsx(Or,{children:e.jsx(da,{children:e.jsx(ba,{children:e.jsx($a,{children:e.jsx(b.Suspense,{fallback:e.jsx(Ll,{}),children:e.jsx(Ml,{})})})})})})})}function Ul(){return e.jsx(Cr,{children:e.jsxs(Ps,{children:[e.jsxs(os,{children:[e.jsx(V,{path:"/",element:e.jsx(Pt,{})}),e.jsx(V,{path:"/vendor/*",element:e.jsx(Fl,{})}),e.jsx(V,{path:"/admin/*",element:e.jsx(Er,{})}),e.jsx(V,{path:"*",element:e.jsx(Pt,{})})]}),e.jsx(Tr,{position:"top-center"})]})})}Rr.createRoot(document.getElementById("root")).render(e.jsx(Ul,{}));
